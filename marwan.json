{
  "main_code": "cmVxdWlyZSAnc2tldGNodXAucmInCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICd1cmknCnJlcXVpcmUgJ2pzb24nCnJlcXVpcmUgJ3NlY3VyZXJhbmRvbScKcmVxdWlyZSAnb3Blbi11cmknCnJlcXVpcmUgJ3RtcGRpcicKcmVxdWlyZSAnYmFzZTY0JwpyZXF1aXJlICd0ZW1wZmlsZScKcmVxdWlyZSAnZGlnZXN0JwpyZXF1aXJlICdmaWxldXRpbHMnCgptb2R1bGUgTUhERVNJR04KICBQTFVHSU5fTkFNRSA9ICJNSERFU0lHTiIKICAjINin2LPYqtiu2K/Yp9mFIFJBVyDZhdi5IHRpbWVzdGFtcCDZhNmF2YbYuSDYp9mEY2FjaGUKICBWQUxJREFUSU9OX1VSTCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbWFyd2FuYWRlbGV0dGFodGFoYW4tc3Vkby9BUEkxMjMvcmVmcy9oZWFkcy9tYWluL2VtYWlsLmpzb24iCgogIENPTVBPTkVOVFMgPSBiZWdpbgogICAgdXJsID0gImh0dHBzOi8vbWFobW91ZGRlc2lnbi5jb20vU0tFVENIVVAvY29tcG9uZW50cy1WNC5qc29uIgogICAganNvbl9yYXcgPSBVUkkub3Blbih1cmwpLnJlYWQKICAgIGpzb25fZGF0YSA9IEpTT04ucGFyc2UoanNvbl9yYXcpCiAgICBkZWNvZGVkX2pzb24gPSBCYXNlNjQuZGVjb2RlNjQoanNvbl9kYXRhWyJkYXRhIl0pCiAgICBjb21wb25lbnRzID0gSlNPTi5wYXJzZShkZWNvZGVkX2pzb24sIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICAgIAogICAgIyDYpdi52KfYr9ipINiq2LXZhtmK2YEg2KfZhNmF2YPZiNmG2KfYqiDYqNmG2KfYodmLINi52YTZiSDYp9mE2YLYp9im2YXYqSDYp9mE2KzYr9mK2K/YqQogICAgY29tcG9uZW50cy5tYXAgZG8gfGNvbXBvbmVudHwKICAgICAgY2F0ZWdvcnkgPSBjYXNlIGNvbXBvbmVudFs6Y2F0ZWdvcnldCiAgICAgIHdoZW4gItmI2K3Yr9in2Kog2YLYp9i52K/YqSIKICAgICAgICAi2YjYrdiv2KfYqiDYs9mB2YTZitipIgogICAgICB3aGVuICLZiNit2K/Yp9iqINit2KfYpti3IiwgItix2YHZiNmBIgogICAgICAgICLZiNit2K/Yp9iqINi52YTZiNmK2KkiCiAgICAgIHdoZW4gItiu2LLYp9mG2Kkg2YXZhNin2KjYsyIsICLYrtiy2KfZhtipINij2K3YsNmK2KkiCiAgICAgICAgItiv2YjYp9mE2YrYqCIKICAgICAgd2hlbiAi2KPYq9in2Ksg2K3YsSIKICAgICAgICAi2YHYsdi0INmF2LfYp9io2LkiCiAgICAgIGVsc2UKICAgICAgICBjb21wb25lbnRbOmNhdGVnb3J5XQogICAgICBlbmQKICAgICAgCiAgICAgIGNvbXBvbmVudC5tZXJnZShjYXRlZ29yeTogY2F0ZWdvcnkpCiAgICBlbmQKICByZXNjdWUgPT4gZQogICAgVUkubWVzc2FnZWJveCgi2K3Yr9irINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqjogI3tlLm1lc3NhZ2V9IikKICAgIFtdCiAgZW5kCgogIGNsYXNzIENvbXBvbmVudFBsYWNlcgogICAgZGVmIGluaXRpYWxpemUoZGVmaW5pdGlvbiwgbmFtZSkKICAgICAgQGRlZmluaXRpb24gPSBkZWZpbml0aW9uCiAgICAgIEBuYW1lID0gbmFtZQogICAgICBAaXAgPSBTa2V0Y2h1cDo6SW5wdXRQb2ludC5uZXcKICAgIGVuZAoKICAgIGRlZiBvbk1vdXNlTW92ZShmbGFncywgeCwgeSwgdmlldykKICAgICAgQGlwLnBpY2sodmlldywgeCwgeSkKICAgICAgdmlldy5pbnZhbGlkYXRlCiAgICBlbmQKCiAgICBkZWYgZHJhdyh2aWV3KQogICAgICByZXR1cm4gdW5sZXNzIEBpcC52YWxpZD8KICAgICAgdHIgPSBHZW9tOjpUcmFuc2Zvcm1hdGlvbi5uZXcoQGlwLnBvc2l0aW9uKQogICAgICB2aWV3LmRyYXcoR0xfTElORV9TVFJJUCwgW0BpcC5wb3NpdGlvbl0pCiAgICAgIGJlZ2luCiAgICAgICAgcHRzID0gQGRlZmluaXRpb24uYm91bmRzLmNvcm5lcigwLjcpLm1hcCB7IHxwdHwgcHQudHJhbnNmb3JtKHRyKSB9CiAgICAgICAgdmlldy5kcmF3KEdMX1BPTFlHT04sIHB0cykKICAgICAgcmVzY3VlCiAgICAgIGVuZAogICAgZW5kCgogICAgZGVmIG9uTEJ1dHRvbkRvd24oZmxhZ3MsIHgsIHksIHZpZXcpCiAgICAgIGlmIEBpcC52YWxpZD8KICAgICAgICB0ciA9IEdlb206OlRyYW5zZm9ybWF0aW9uLm5ldyhAaXAucG9zaXRpb24pCiAgICAgICAgaW5zdGFuY2UgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuZW50aXRpZXMuYWRkX2luc3RhbmNlKEBkZWZpbml0aW9uLCB0cikKICAgICAgICBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuc2VsZWN0aW9uLmNsZWFyCiAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnNlbGVjdGlvbi5hZGQoaW5zdGFuY2UpCiAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnRvb2xzLnBvcF90b29sCiAgICAgICAgU2tldGNodXAuc2VuZF9hY3Rpb24oInNlbGVjdE1vdmVUb29sOiIpCiAgICAgIGVuZAogICAgZW5kCiAgZW5kCgogIGRlZiBzZWxmLmdldF9kZXZpY2VfaWQKICAgIHByZWZzID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZGV2aWNlX2lkIikKICAgIHJldHVybiBwcmVmcyB1bmxlc3MgcHJlZnMubmlsPyB8fCBwcmVmcy5lbXB0eT8KICAgIGlkID0gU2VjdXJlUmFuZG9tLnV1aWQKICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJkZXZpY2VfaWQiLCBpZCkKICAgIGlkCiAgZW5kCgogICMgPT09PT09PT09PT09PSDYp9mE2KrYrdmC2YIg2YXZhiDYqNmK2KfZhtin2Kog2KfZhNin2LnYqtmF2KfYryAtINil2LXYr9in2LEg2YXYtdit2K0gPT09PT09PT09PT09PQogIGRlZiBzZWxmLnZhbGlkYXRlX2NyZWRlbnRpYWxzKGVtYWlsLCBsaWNlbnNlKQogICAgYmVnaW4KICAgICAgIyDYpdi22KfZgdipIHRpbWVzdGFtcCDZgdix2YrYryDZhNmF2YbYuSDYp9mEY2FjaGUKICAgICAgdGltZXN0YW1wID0gVGltZS5ub3cudG9faQogICAgICB1cmkgPSBVUkkoIiN7VkFMSURBVElPTl9VUkx9P3Q9I3t0aW1lc3RhbXB9JnJhbmQ9I3tTZWN1cmVSYW5kb20uaGV4KDgpfSIpCiAgICAgIAogICAgICAjINin2LPYqtiu2K/Yp9mFIG9wZW4tdXJpINmF2Lkg2KXYudiv2KfYr9in2Kog2YTZhdmG2Lkg2KfZhGNhY2hlCiAgICAgIGNvbnRlbnQgPSBVUkkub3Blbih1cmksIAogICAgICAgICdVc2VyLUFnZW50JyA9PiAnTUhERVNJR04tU2tldGNodXAtUGx1Z2luJywKICAgICAgICAnQ2FjaGUtQ29udHJvbCcgPT4gJ25vLWNhY2hlJywKICAgICAgICAnUHJhZ21hJyA9PiAnbm8tY2FjaGUnCiAgICAgICkucmVhZAogICAgICAKICAgICAgdmFsaWRfdXNlcnMgPSBKU09OLnBhcnNlKGNvbnRlbnQpCiAgICAgIAogICAgICAjINi32KjYp9i52Kkg2YTZhNiq2LXYrdmK2K0KICAgICAgcHV0cyAi4pyFINiq2YUg2KzZhNioINin2YTYqNmK2KfZhtin2Kog2KjZhtis2KfYrSIKICAgICAgcHV0cyAi8J+TpyDYp9mE2KjYrdirINi52YY6ICN7ZW1haWx9IgogICAgICBwdXRzICLwn5SRINmD2YTZhdipINin2YTZhdix2YjYsSDYp9mE2YXYr9iu2YTYqTogI3tsaWNlbnNlfSIKICAgICAgcHV0cyAi8J+RpSDYudiv2K8g2KfZhNmF2LPYqtiu2K/ZhdmK2YYg2KfZhNmF2KrYp9it2YrZhjogI3t2YWxpZF91c2Vycy5zaXplfSIKICAgICAgcHV0cyAi8J+TiyDYp9mE2YXYs9iq2K7Yr9mF2YjZhjogI3t2YWxpZF91c2Vyc30iCiAgICAgIAogICAgICAjINin2YTYqNit2Ksg2LnZhiDYp9mE2YXYs9iq2K7Yr9mFICjYqNmF2LHZiNmG2Kkg2KPZg9ir2LEpCiAgICAgIGZvdW5kID0gZmFsc2UKICAgICAgdmFsaWRfdXNlcnMuZWFjaCBkbyB8dXNlcnwKICAgICAgICBpZiB1c2VyWyJlbWFpbCJdJi5zdHJpcCYuZG93bmNhc2UgPT0gZW1haWwuc3RyaXAuZG93bmNhc2UgJiYgCiAgICAgICAgICAgdXNlclsicGFzc3dvcmQiXSYuc3RyaXAgPT0gbGljZW5zZS5zdHJpcAogICAgICAgICAgZm91bmQgPSB0cnVlCiAgICAgICAgICBwdXRzICLwn46vINiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYp9mE2YXYs9iq2K7Yr9mFOiAje3VzZXJbJ2VtYWlsJ119IgogICAgICAgICAgYnJlYWsKICAgICAgICBlbmQKICAgICAgZW5kCiAgICAgIAogICAgICBwdXRzIGZvdW5kID8gIuKchSDYqtmB2LnZitmEINmG2KfYrNitIiA6ICLinYwg2KrZgdi52YrZhCDZgdin2LTZhCAtINmE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2KfZhNmF2LPYqtiu2K/ZhSIKICAgICAgcmV0dXJuIGZvdW5kCiAgICAgIAogICAgcmVzY3VlIE9wZW5VUkk6OkhUVFBFcnJvciA9PiBlCiAgICAgIHB1dHMgIuKdjCDYrti32KMgSFRUUDogI3tlLm1lc3NhZ2V9IgogICAgICByZXR1cm4gZmFsc2UKICAgIHJlc2N1ZSBKU09OOjpQYXJzZXJFcnJvciA9PiBlCiAgICAgIHB1dHMgIuKdjCDYrti32KMg2YHZiiDYqtit2YTZitmEIEpTT046ICN7ZS5tZXNzYWdlfSIKICAgICAgcmV0dXJuIGZhbHNlCiAgICByZXNjdWUgPT4gZQogICAgICBwdXRzICLinYwg2KfYs9iq2KvZhtin2KEg2YHZiiDYp9mE2KrYrdmC2YI6ICN7ZS5tZXNzYWdlfSIKICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKICBlbmQKCiAgZGVmIHNlbGYuYWN0aXZhdGUoZm9yY2VfcHJvbXB0ID0gdHJ1ZSkKICAgIGVtYWlsID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZW1haWwiKSB8fCAiIgogICAgbGljZW5zZSA9IFNrZXRjaHVwLnJlYWRfZGVmYXVsdChQTFVHSU5fTkFNRSwgImxpY2Vuc2UiKSB8fCAiIgoKICAgICMg2KXYsNinINmD2KfZhiDZhdmB2LHZiNi2INij2Ygg2KfZhNio2YrYp9mG2KfYqiDZgdin2LHYutip2Iwg2KfYt9mE2Kgg2KfZhNil2K/Yrtin2YQKICAgIGlmIGZvcmNlX3Byb21wdCB8fCBlbWFpbC5lbXB0eT8gfHwgbGljZW5zZS5lbXB0eT8KICAgICAgaW5wdXQgPSBVSS5pbnB1dGJveChbItin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiIsICLZg9mE2YXYqSDYp9mE2YXYsdmI2LEiXSwgW2VtYWlsLCBsaWNlbnNlXSwgItiq2YHYudmK2YQgTUhERVNJR04iKQogICAgICByZXR1cm4gdW5sZXNzIGlucHV0CiAgICAgIGVtYWlsLCBsaWNlbnNlID0gaW5wdXQKICAgIGVuZAoKICAgICMg2KrZhti42YrZgSDYp9mE2KjZitin2YbYp9iqINin2YTZhdiv2K7ZhNipCiAgICBlbWFpbCA9IGVtYWlsLnN0cmlwLmRvd25jYXNlCiAgICBsaWNlbnNlID0gbGljZW5zZS5zdHJpcAoKICAgICMg2KfZhNiq2K3ZgtmCINmF2YYg2KjZitin2YbYp9iqINin2YTYp9i52KrZhdin2K8KICAgIHB1dHMgIvCflIQg2KjYr9ihINi52YXZhNmK2Kkg2KfZhNiq2K3ZgtmCLi4uIgogICAgdmFsaWRfZGF0YSA9IHZhbGlkYXRlX2NyZWRlbnRpYWxzKGVtYWlsLCBsaWNlbnNlKQoKICAgIGlmIHZhbGlkX2RhdGEKICAgICAgIyDYrdmB2Lgg2KjZitin2YbYp9iqINin2YTYqtmB2LnZitmECiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJlbWFpbCIsIGVtYWlsKQogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAibGljZW5zZSIsIGxpY2Vuc2UpCiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJhY3RpdmF0ZWRfb25jZSIsIHRydWUpCiAgICAgIFVJLm1lc3NhZ2Vib3goItiq2YUg2KfZhNiq2YHYudmK2YQg2KjZhtis2KfYrSEg2YrZhdmD2YbZgyDYp9mE2KLZhiDYp9iz2KrYrtiv2KfZhSDYrNmF2YrYuSDZhdmD2YjZhtin2Kog2KfZhNmF2YPYqtio2KkuXG7wn5OeIDAxMjA0Mjc5NjA2IikKICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgIyDZgdi02YQg2KfZhNiq2YHYudmK2YQKICAgICAgVUkubWVzc2FnZWJveCgi2KjZitin2YbYp9iqINin2YTYqtmB2LnZitmEINi62YrYsSDYtdit2YrYrdipLiDZitix2KzZiSDYp9mE2KrZiNin2LXZhCDZhdi5IDAxMjA0Mjc5NjA2IikgaWYgZm9yY2VfcHJvbXB0CiAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCiAgZW5kCgogIGRlZiBzZWxmLmFjdGl2YXRlZD8KICAgIGVtYWlsID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZW1haWwiKQogICAgbGljZW5zZSA9IFNrZXRjaHVwLnJlYWRfZGVmYXVsdChQTFVHSU5fTkFNRSwgImxpY2Vuc2UiKQogICAgIWVtYWlsLnRvX3MuZW1wdHk/ICYmICFsaWNlbnNlLnRvX3MuZW1wdHk/CiAgZW5kCgogIGRlZiBzZWxmLnNob3dfbGlicmFyeQogICAgIyA9PT09PT09PT09PT09INin2YTYqtit2YLZgiDZhdmGINin2YTYqtmB2LnZitmEINij2YjZhNin2YsgPT09PT09PT09PT09PQogICAgZW1haWwgPSBTa2V0Y2h1cC5yZWFkX2RlZmF1bHQoUExVR0lOX05BTUUsICJlbWFpbCIpCiAgICBsaWNlbnNlID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAibGljZW5zZSIpCiAgICAKICAgIGlmIGVtYWlsICYmIGxpY2Vuc2UKICAgICAgIyDYqtmG2LjZitmBINin2YTYqNmK2KfZhtin2Kog2KfZhNmF2K3ZgdmI2LjYqQogICAgICBlbWFpbCA9IGVtYWlsLnN0cmlwLmRvd25jYXNlCiAgICAgIGxpY2Vuc2UgPSBsaWNlbnNlLnN0cmlwCiAgICAgIAogICAgICAjINin2YTYqtit2YLZgiDZhdmGINi12K3YqSDYqNmK2KfZhtin2Kog2KfZhNin2LnYqtmF2KfYryDZgtio2YQg2YHYqtitINin2YTZhdmD2KrYqNipCiAgICAgIHVubGVzcyB2YWxpZGF0ZV9jcmVkZW50aWFscyhlbWFpbCwgbGljZW5zZSkKICAgICAgICBVSS5tZXNzYWdlYm94KCLYqNmK2KfZhtin2Kog2KfZhNiq2YHYudmK2YQg2LrZitixINi12K3Zitit2KkuINmK2LHYrNmJINin2YTYqtmI2KfYtdmEINmF2LkgMDEyMDQyNzk2MDYiKQogICAgICAgIGFjdGl2YXRlKHRydWUpCiAgICAgICAgcmV0dXJuCiAgICAgIGVuZAogICAgZWxzZQogICAgICAjINil2LDYpyDZhNmFINiq2YPZhiDZh9mG2KfZgyDYqNmK2KfZhtin2KrYjCDYp9i32YTYqCDYp9mE2KrZgdi52YrZhAogICAgICB1bmxlc3MgYWN0aXZhdGUoZmFsc2UpCiAgICAgICAgYWN0aXZhdGUodHJ1ZSkKICAgICAgICByZXR1cm4KICAgICAgZW5kCiAgICBlbmQKICAgICMgPT09PT09PT09PT09PSDZhtmH2KfZitipINin2YTYqtit2YLZgiA9PT09PT09PT09PT09CgogICAgZGxnID0gVUk6Okh0bWxEaWFsb2cubmV3KHsKICAgICAgOmRpYWxvZ190aXRsZSA9PiAi2YXZg9iq2KjYqSDZhdmD2YjZhtin2KogTUhERVNJR04iLAogICAgICA6cHJlZmVyZW5jZXNfa2V5ID0+ICJtaGRlc2lnbl9saWJyYXJ5IiwKICAgICAgOnNjcm9sbGFibGUgPT4gdHJ1ZSwKICAgICAgOnJlc2l6YWJsZSA9PiB0cnVlLAogICAgICA6d2lkdGggPT4gODAwLAogICAgICA6aGVpZ2h0ID0+IDY1MAogICAgfSkKCiAgICBjYXRlZ29yaWVzID0gQ09NUE9ORU5UUy5tYXAgeyB8Y3wgY1s6Y2F0ZWdvcnldIH0udW5pcQoKICAgIGh0bWwgPSA8PC1IVE1MCiAgICA8aHRtbD48aGVhZD4KICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVRhamF3YWw6d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICAgICAgPHN0eWxlPgogICAgICAgIGJvZHkge2ZvbnQtZmFtaWx5OidUYWphd2FsJyxzYW5zLXNlcmlmO21hcmdpbjowO2JhY2tncm91bmQ6I2Y5ZjlmOTtwYWRkaW5nOjAgMjBweCA0MHB4O2RpcmVjdGlvbjpydGw7fQogICAgICAgIGhlYWRlciB7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtwYWRkaW5nOjIwcHggMDt9CiAgICAgICAgaGVhZGVyIGltZyB7aGVpZ2h0OjUwcHg7Ym9yZGVyLXJhZGl1czo1MCU7fQogICAgICAgIGhlYWRlciBoMiB7bWFyZ2luOjA7Zm9udC1zaXplOjI0cHg7Y29sb3I6IzJlN2QzMjt9CiAgICAgICAgLm1lbnUtdG9nZ2xlIHtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MjhweDt1c2VyLXNlbGVjdDpub25lO30KICAgICAgICAuZmlsdGVyIHtkaXNwbGF5Om5vbmU7bWFyZ2luLWJvdHRvbToyMHB4O30KICAgICAgICAuZmlsdGVyIHNlbGVjdCB7Zm9udC1zaXplOjE2cHg7cGFkZGluZzo2cHggMTBweDtib3JkZXItcmFkaXVzOjZweDtib3JkZXI6MXB4IHNvbGlkICNjY2M7fQogICAgICAgIC5ncmlkIHtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdChhdXRvLWZpbGwsbWlubWF4KDIwMHB4LDFmcikpO2dhcDoyMHB4O30KICAgICAgICAuY2FyZCB7YmFja2dyb3VuZDp3aGl0ZTtib3JkZXItcmFkaXVzOjEycHg7cGFkZGluZzoxMnB4O2JveC1zaGFkb3c6MCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMDgpO3RleHQtYWxpZ246Y2VudGVyO3RyYW5zaXRpb246dHJhbnNmb3JtIDAuM3MgZWFzZSxib3gtc2hhZG93IDAuM3MgZWFzZTt9CiAgICAgICAgLmNhcmQ6aG92ZXIge3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01cHgpO2JveC1zaGFkb3c6MCA4cHggMjBweCByZ2JhKDAsMCwwLDAuMTIpO30KICAgICAgICBpbWcuY29tcG9uZW50LWltZyB7d2lkdGg6MTAwJTtoZWlnaHQ6MjAwcHg7b2JqZWN0LWZpdDpjb3Zlcjtib3JkZXItcmFkaXVzOjhweDt9CiAgICAgICAgaDQge21hcmdpbjoxMHB4IDAgNXB4O2ZvbnQtc2l6ZToxN3B4O2NvbG9yOiMzMzM7fQogICAgICAgIHAge2ZvbnQtc2l6ZToxM3B4O2NvbG9yOiM2NjY7bWFyZ2luOjA7fQogICAgICAgIGJ1dHRvbiB7bWFyZ2luLXRvcDoxMHB4O3BhZGRpbmc6NnB4IDE0cHg7YmFja2dyb3VuZDojNDNhMDQ3O2NvbG9yOndoaXRlO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6NXB4O2N1cnNvcjpwb2ludGVyO3RyYW5zaXRpb246YmFja2dyb3VuZCAwLjNzO30KICAgICAgICBidXR0b246aG92ZXIge2JhY2tncm91bmQ6IzJlN2QzMjt9CiAgICAgICAgZm9vdGVyIHttYXJnaW4tdG9wOjQwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjEycHg7Y29sb3I6Izk5OTt9CiAgICAgIDwvc3R5bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keSBvbmNvbnRleHRtZW51PSJyZXR1cm4gZmFsc2UiPgogICAgICA8aGVhZGVyPgogICAgICAgIDxpbWcgc3JjPSJodHRwczovL21haG1vdWRkZXNpZ24uY29tL1NLRVRDSFVQL2NvbXBvbmVudHMvbG9nby5qcGVnIiBhbHQ9IkxvZ28iIC8+CiAgICAgICAgPGgyPtmF2YPYqtio2Kkg2YXZg9mI2YbYp9iqIE1IREVTSUdOPC9oMj4KICAgICAgICA8ZGl2IGNsYXNzPSJtZW51LXRvZ2dsZSIgb25jbGljaz0idG9nZ2xlTWVudSgpIj7imLA8L2Rpdj4KICAgICAgPC9oZWFkZXI+CgogICAgICA8ZGl2IGNsYXNzPSJmaWx0ZXIiIGlkPSJmaWx0ZXItYm94Ij4KICAgICAgICA8bGFiZWw+CiAgICAgICAgICDwn5eC77iPINin2YTYqti12YbZitmB2KfYqjoKICAgICAgICAgIDxzZWxlY3QgaWQ9ImNhdGVnb3J5IiBvbmNoYW5nZT0iZmlsdGVyQ29tcG9uZW50cygpIj4KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWxsIj7Yp9mE2YPZhDwvb3B0aW9uPgogICAgICAgICAgICAje2NhdGVnb3JpZXMubWFwIHsgfGNhdHwgIjxvcHRpb24gdmFsdWU9JyN7Y2F0fSc+I3tjYXR9PC9vcHRpb24+IiB9LmpvaW59CiAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICA8L2xhYmVsPgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgaWQ9ImNvbXBvbmVudHMiIGNsYXNzPSJncmlkIj48L2Rpdj4KCiAgICAgIDxmb290ZXI+CiAgICAgICAg2KrZhSDYqti12YXZitmFINmI2KrYt9mI2YrYsSDZhdmD2KrYqNipIE1IREVTSUdOINio2YjYp9iz2LfYqSA8Yj5NQVJXQU4gQURFTCA8L2I+INmE2KrYs9mH2YrZhCDYudmF2YTZitipINin2YTYqti12YXZitmFINin2YTYr9in2K7ZhNmKINio2KfYs9iq2K7Yr9in2YUg2KjYsdmG2KfZhdisINiz2YPYqti0INij2KguPGJyPgogICAgICAgIPCfk54g2YTZhNiq2YjYp9i12YQ6IDxiPjAxMjA0Mjc5NjA2PC9iPjxicj4KICAgICAgICDYqtmFINiq2LfZiNmK2LEg2KfZhNmG2LjYp9mFINio2YjYp9iz2LfYqSDZhdix2YjYp9mGINi52KfYr9mEIC0gMDEyMDQyNzk2MDYKICAgICAgPC9mb290ZXI+CgogICAgICA8c2NyaXB0PgpmdW5jdGlvbiBsb2FkQ29tcG9uZW50KGNvbXApe3NrZXRjaHVwLmxvYWRDb21wb25lbnRCeURhdGEoSlNPTi5zdHJpbmdpZnkoY29tcCkpO30KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBlPT5lLnByZXZlbnREZWZhdWx0KCkpOwpjb25zdCBhbGxDb21wb25lbnRzPSN7Q09NUE9ORU5UUy50b19qc29ufTsKZnVuY3Rpb24gcmVuZGVyKGMpe2xldCBoPSIiO2MuZm9yRWFjaCh4PT57aCs9YDxkaXYgY2xhc3M9ImNhcmQiPjxpbWcgY2xhc3M9ImNvbXBvbmVudC1pbWciIHNyYz0iJHt4LmltYWdlfSIgLz48aDQ+JHt4Lm5hbWV9PC9oND48cD4ke3guZGVzY308L3A+PGJ1dHRvbiBvbmNsaWNrPSdsb2FkQ29tcG9uZW50KCR7SlNPTi5zdHJpbmdpZnkoeCl9KSc+2KXYr9ix2KfYrDwvYnV0dG9uPjwvZGl2PmB9KTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29tcG9uZW50cyIpLmlubmVySFRNTD1oO30KZnVuY3Rpb24gZmlsdGVyQ29tcG9uZW50cygpe2NvbnN0IGNhdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnkiKS52YWx1ZTtpZihjYXQ9PT0iYWxsIilyZW5kZXIoYWxsQ29tcG9uZW50cyk7ZWxzZSByZW5kZXIoYWxsQ29tcG9uZW50cy5maWx0ZXIoYz0+Yy5jYXRlZ29yeT09PWNhdCkpO30KZnVuY3Rpb24gdG9nZ2xlTWVudSgpe2NvbnN0IGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlci1ib3giKTtiLnN0eWxlLmRpc3BsYXk9KGIuc3R5bGUuZGlzcGxheT09PSJibG9jayIpPyJub25lIjoiYmxvY2siO30Kd2luZG93Lm9ubG9hZD0oKT0+ZmlsdGVyQ29tcG9uZW50cygpOwogICAgICA8L3NjcmlwdD4KICAgIDwvYm9keT48L2h0bWw+CiAgICBIVE1MCgogICAgZGxnLnNldF9odG1sKGh0bWwpCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImxvYWRDb21wb25lbnRCeURhdGEiKSBkbyB8XywgY29tcF9qc29ufAogICAgICBjb21wID0gSlNPTi5wYXJzZShjb21wX2pzb24sIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICAgICAgdXJsID0gVVJJLnBhcnNlKGNvbXBbOnVybF0pCiAgICAgIGhhc2hfbmFtZSA9IERpZ2VzdDo6U0hBMjU2LmhleGRpZ2VzdCh1cmwudG9fcylbMC4uMTZdICsgIi5za3AiCiAgICAgIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgICAgIEZpbGVVdGlscy5ta2Rpcl9wKGNhY2hlX2RpcikKICAgICAgbG9jYWxfcGF0aCA9IEZpbGUuam9pbihjYWNoZV9kaXIsIGhhc2hfbmFtZSkKCiAgICAgIHVubGVzcyBGaWxlLmV4aXN0Pyhsb2NhbF9wYXRoKQogICAgICAgIHByb2dyZXNzID0gVUk6Okh0bWxEaWFsb2cubmV3KHsKICAgICAgICAgIDpkaWFsb2dfdGl0bGUgPT4gItis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGLi4uIiwKICAgICAgICAgIDpwcmVmZXJlbmNlc19rZXkgPT4gIm1oZGVzaWduX3Byb2dyZXNzIiwKICAgICAgICAgIDpzY3JvbGxhYmxlID0+IGZhbHNlLAogICAgICAgICAgOnJlc2l6YWJsZSA9PiBmYWxzZSwKICAgICAgICAgIDp3aWR0aCA9PiAzMDAsCiAgICAgICAgICA6aGVpZ2h0ID0+IDE1MAogICAgICAgIH0pCgogICAgICAgIHByb2dyZXNzLnNldF9odG1sIDw8LUhUTUwKICAgICAgICAgIDxodG1sPjxoZWFkPgogICAgICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDA7IHBhZGRpbmc6IDIwcHg7IGRpcmVjdGlvbjogcnRsOyB9CiAgICAgICAgICAgICAgaDMgeyBtYXJnaW46IDEwcHggMDsgfQogICAgICAgICAgICAgICNwcm9ncmVzcy1iYXIgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kOiAjZGRkOyBib3JkZXItcmFkaXVzOiAxMHB4OyBvdmVyZmxvdzogaGlkZGVuOyBtYXJnaW4tdG9wOiAxMHB4OyB9CiAgICAgICAgICAgICAgI3Byb2dyZXNzLWZpbGwgeyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiAwJTsgYmFja2dyb3VuZDogIzRjYWY1MDsgdHJhbnNpdGlvbjogd2lkdGggMC4ycyBlYXNlOyB9CiAgICAgICAgICAgICAgI3BlcmNlbnQgeyBtYXJnaW4tdG9wOiA4cHg7IGZvbnQtc2l6ZTogMTRweDsgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgICAgPC9oZWFkPjxib2R5PgogICAgICAgICAgICA8aDM+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYuLi48L2gzPgogICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzcy1iYXIiPjxkaXYgaWQ9InByb2dyZXNzLWZpbGwiPjwvZGl2PjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJwZXJjZW50Ij4wJTwvZGl2PgogICAgICAgICAgPC9ib2R5PjwvaHRtbD4KICAgICAgICBIVE1MCgogICAgICAgIHByb2dyZXNzLnNob3cKCiAgICAgICAgVUkuc3RhcnRfdGltZXIoMC4zLCBmYWxzZSkgZG8KICAgICAgICAgIGJlZ2luCiAgICAgICAgICAgIGNvbnRlbnRfbGVuZ3RoID0gbmlsCiAgICAgICAgICAgIHRlbXBmaWxlID0gVGVtcGZpbGUubmV3KCJtaGNvbXBvbmVudCIpCgogICAgICAgICAgICBVUkkub3Blbih1cmwsCiAgICAgICAgICAgICAgY29udGVudF9sZW5ndGhfcHJvYzogLT4obGVuKSB7IGNvbnRlbnRfbGVuZ3RoID0gbGVuIH0sCiAgICAgICAgICAgICAgcHJvZ3Jlc3NfcHJvYzogLT4oYnl0ZXMpIHsKICAgICAgICAgICAgICAgIHBlcmNlbnQgPSBjb250ZW50X2xlbmd0aCA/ICgoYnl0ZXMudG9fZiAvIGNvbnRlbnRfbGVuZ3RoKSAqIDEwMCkudG9faSA6IDAKICAgICAgICAgICAgICAgIHByb2dyZXNzLmV4ZWN1dGVfc2NyaXB0KCJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtZmlsbCcpLnN0eWxlLndpZHRoID0gJyN7cGVyY2VudH0lJyIpCiAgICAgICAgICAgICAgICBwcm9ncmVzcy5leGVjdXRlX3NjcmlwdCgiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlcmNlbnQnKS5pbm5lclRleHQgPSAnI3twZXJjZW50fSUnIikKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkgZG8gfHJlbW90ZV9maWxlfAogICAgICAgICAgICAgIElPLmNvcHlfc3RyZWFtKHJlbW90ZV9maWxlLCB0ZW1wZmlsZSkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICB0ZW1wZmlsZS5jbG9zZQogICAgICAgICAgICBGaWxlVXRpbHMubXYodGVtcGZpbGUucGF0aCwgbG9jYWxfcGF0aCkKICAgICAgICAgICAgcHJvZ3Jlc3MuY2xvc2UgaWYgcHJvZ3Jlc3MudmlzaWJsZT8KCiAgICAgICAgICAgIGlmIEZpbGUuZXhpc3Q/KGxvY2FsX3BhdGgpICYmIEZpbGUuc2l6ZShsb2NhbF9wYXRoKSA+IDAKICAgICAgICAgICAgICBkZWZpbml0aW9uID0gU2tldGNodXAuYWN0aXZlX21vZGVsLmRlZmluaXRpb25zLmxvYWQobG9jYWxfcGF0aCwgYWxsb3dfbmV3ZXI6IHRydWUpCiAgICAgICAgICAgICAgaWYgZGVmaW5pdGlvbgogICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwucGxhY2VfY29tcG9uZW50KGRlZmluaXRpb24pCiAgICAgICAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinJMg2KrZhSDYqtit2YXZitmEINin2YTZhdmD2YjZhiDYqNmG2KzYp9itIikgdW5sZXNzIGluc3RhbmNlCiAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmB2LTZhCDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGIikKICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDZhNmFINmK2KrZhSDYqtit2YXZitmEINin2YTZhdmE2YEiKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICByZXNjdWUgPT4gZQogICAgICAgICAgICB0ZW1wZmlsZS5jbG9zZSBpZiB0ZW1wZmlsZQogICAgICAgICAgICB0ZW1wZmlsZS51bmxpbmsgaWYgdGVtcGZpbGUKICAgICAgICAgICAgcHJvZ3Jlc3MuY2xvc2UgaWYgcHJvZ3Jlc3MudmlzaWJsZT8KICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4pqgINit2K/YqyDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZhdmD2YjZhjogI3tlLm1lc3NhZ2V9IikKICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICBlbHNlCiAgICAgICAgYmVnaW4KICAgICAgICAgIGlmIEZpbGUuZXhpc3Q/KGxvY2FsX3BhdGgpICYmIEZpbGUuc2l6ZShsb2NhbF9wYXRoKSA+IDAKICAgICAgICAgICAgZGVmaW5pdGlvbiA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5kZWZpbml0aW9ucy5sb2FkKGxvY2FsX3BhdGgsIGFsbG93X25ld2VyOiB0cnVlKQogICAgICAgICAgICBpZiBkZWZpbml0aW9uCiAgICAgICAgICAgICAgaW5zdGFuY2UgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwucGxhY2VfY29tcG9uZW50KGRlZmluaXRpb24pCiAgICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4pyTINiq2YUg2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYg2KjZhtis2KfYrSIpIHVubGVzcyBpbnN0YW5jZQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmB2LTZhCDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGIikKICAgICAgICAgICAgZW5kCiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYp9mE2YXZhNmBINi62YrYsSDZhdmI2KzZiNivINij2Ygg2YHYp9ix2LoiKQogICAgICAgICAgZW5kCiAgICAgICAgcmVzY3VlID0+IGUKICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKaoCDYrdiv2Ksg2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YY6ICN7ZS5tZXNzYWdlfSIpCiAgICAgICAgZW5kCiAgICAgIGVuZAogICAgZW5kCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImNsZWFyQ29tcG9uZW50Q2FjaGUiKSBkbyB8X3wKICAgICAgYmVnaW4KICAgICAgICBjYWNoZV9kaXIgPSBGaWxlLmpvaW4oRGlyLnRtcGRpciwgIm1oZGVzaWduX2NhY2hlXzEiKQogICAgICAgIGlmIEZpbGUuZGlyZWN0b3J5PyhjYWNoZV9kaXIpCiAgICAgICAgICBGaWxlVXRpbHMucm1fcmYoY2FjaGVfZGlyKQogICAgICAgIGVuZAogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKckyDYqtmFINmF2LPYrSDYsNin2YPYsdipINin2YTYqtiu2LLZitmGINin2YTZhdik2YLYqi4iKQogICAgICByZXNjdWUgPT4gZQogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKaoCDYrdiv2Ksg2K7Yt9ijINmB2Yog2YXYs9itINin2YTYsNin2YPYsdipOiAje2UubWVzc2FnZX0iKQogICAgICBlbmQKICAgIGVuZAogICAgZGxnLnNob3cKICBlbmQKCiAgdW5sZXNzIGZpbGVfbG9hZGVkPyhfX0ZJTEVfXykKICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgiI3tQTFVHSU5fTkFNRX0gLSDYp9mE2YXZg9iq2KjYqSIpIHsgc2hvd19saWJyYXJ5IH0KICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgiI3tQTFVHSU5fTkFNRX0gLSDYsdmC2YUg2KfZhNis2YfYp9iyIikgeyBVSS5tZXNzYWdlYm94KCLwn5OxINix2YLZhSDYp9mE2KzZh9in2LI6XG4iICsgZ2V0X2RldmljZV9pZCkgfQogICAgVUkubWVudSgiUGx1Z2lucyIpLmFkZF9pdGVtKCJNSERFU0lHTiAtINmF2LPYrSDYp9mE2LDYp9mD2LHYqSDYp9mE2YXYpNmC2KrYqSIpIGRvCiAgICAgIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgICAgIGlmIEZpbGUuZGlyZWN0b3J5PyhjYWNoZV9kaXIpCiAgICAgICAgRmlsZVV0aWxzLnJtX3JmKGNhY2hlX2RpcikKICAgICAgZW5kCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKckyDYqtmFINmF2LPYrSDYsNin2YPYsdipINin2YTYqtiu2LLZitmGINin2YTZhdik2YLYqi4iKQogICAgZW5kCgogICAgdG9vbGJhciA9IFVJOjpUb29sYmFyLm5ldyhQTFVHSU5fTkFNRSkKICAgIGNtZCA9IFVJOjpDb21tYW5kLm5ldygi2YXZg9iq2KjYqSAje1BMVUdJTl9OQU1FfSIpIHsgc2hvd19saWJyYXJ5IH0KCiAgICBpY29uX3BhdGggPSBGaWxlLmpvaW4oUExVR0lOX0RJUiwgImljb24ucG5nIikgcmVzY3VlIG5pbAogICAgaWYgRmlsZS5leGlzdD8oaWNvbl9wYXRoKQogICAgICBjbWQuc21hbGxfaWNvbiA9IGljb25fcGF0aAogICAgICBjbWQubGFyZ2VfaWNvbiA9IGljb25fcGF0aAogICAgZW5kCiAgICBjbWQudG9vbHRpcCA9ICLZgdiq2K0g2YXZg9iq2KjYqSDZhdmD2YjZhtin2KogTUhERVNJR04iCiAgICB0b29sYmFyLmFkZF9pdGVtKGNtZCkKCiAgICBjbWRfdW5pcXVlID0gVUk6OkNvbW1hbmQubmV3KCLYrNi52YQg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipIikgewogICAgICBtb2R1bGUgTUhERVNJR05fVU5JUVVJRlkKICAgICAgICBkZWYgc2VsZi5tYWtlX2FsbF9jb21wb25lbnRzX3VuaXF1ZShlbnRpdGllcykKICAgICAgICAgIGVudGl0aWVzLmdyZXAoU2tldGNodXA6OkNvbXBvbmVudEluc3RhbmNlKS5lYWNoIGRvIHxpbnN0YW5jZXwKICAgICAgICAgICAgaW5zdGFuY2UubWFrZV91bmlxdWUKICAgICAgICAgICAgbWFrZV9hbGxfY29tcG9uZW50c191bmlxdWUoaW5zdGFuY2UuZGVmaW5pdGlvbi5lbnRpdGllcykKICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIGRlZiBzZWxmLm1ha2VfZGVmaW5pdGlvbnNfdW5pcXVlCiAgICAgICAgICBtb2RlbCA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbAogICAgICAgICAgbW9kZWwuZGVmaW5pdGlvbnMuZWFjaCBkbyB8ZGVmaW5pdGlvbnwKICAgICAgICAgICAgbmV4dCBpZiBkZWZpbml0aW9uLmdyb3VwPyB8fCBkZWZpbml0aW9uLmltYWdlPwogICAgICAgICAgICBkZWZpbml0aW9uLmluc3RhbmNlcy5lYWNoIGRvIHxpbnN0YW5jZXwKICAgICAgICAgICAgICBpbnN0YW5jZS5tYWtlX3VuaXF1ZQogICAgICAgICAgICAgIG1ha2VfYWxsX2NvbXBvbmVudHNfdW5pcXVlKGluc3RhbmNlLmRlZmluaXRpb24uZW50aXRpZXMpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgZGVmIHNlbGYucnVuX3VuaXF1aWZ5CiAgICAgICAgICBtb2RlbCA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbAogICAgICAgICAgbW9kZWwuc3RhcnRfb3BlcmF0aW9uKCLYrNi52YQg2KzZhdmK2Lkg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipIiwgdHJ1ZSkKICAgICAgICAgIG1ha2VfYWxsX2NvbXBvbmVudHNfdW5pcXVlKG1vZGVsLmVudGl0aWVzKQogICAgICAgICAgbWFrZV9kZWZpbml0aW9uc191bmlxdWUKICAgICAgICAgIG1vZGVsLmNvbW1pdF9vcGVyYXRpb24KICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKckyDYqtmFINis2LnZhCDYrNmF2YrYuSDYp9mE2YXZg9mI2YbYp9iqINmB2LHZitiv2KkuIikKICAgICAgICBlbmQKICAgICAgZW5kCiAgICAgIE1IREVTSUdOX1VOSVFVSUZZLnJ1bl91bmlxdWlmeQogICAgfQogICAgdW5pcXVlX2ljb25fcGF0aCA9IEZpbGUuam9pbihQTFVHSU5fRElSLCAidW5pcXVlX2ljb24ucG5nIikgcmVzY3VlIG5pbAogICAgaWYgRmlsZS5leGlzdD8odW5pcXVlX2ljb25fcGF0aCkKICAgICAgY21kX3VuaXF1ZS5zbWFsbF9pY29uID0gdW5pcXVlX2ljb25fcGF0aAogICAgICBjbWRfdW5pcXVlLmxhcmdlX2ljb24gPSB1bmlxdWVfaWNvbl9wYXRoCiAgICBlbmQKICAgIGNtZF91bmlxdWUudG9vbHRpcCA9ICLYrNi52YQg2KzZhdmK2Lkg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipINmB2Yog2KfZhNmG2YXZiNiw2KwiCiAgICB0b29sYmFyLmFkZF9pdGVtKGNtZF91bmlxdWUpCgogICAgdG9vbGJhci5yZXN0b3JlCiAgICBmaWxlX2xvYWRlZChfX0ZJTEVfXykKICBlbmQKZW5k"
}
