{
  "main_code": "cmVxdWlyZSAnc2tldGNodXAucmInCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICd1cmknCnJlcXVpcmUgJ2pzb24nCnJlcXVpcmUgJ3NlY3VyZXJhbmRvbScKcmVxdWlyZSAnb3Blbi11cmknCnJlcXVpcmUgJ3RtcGRpcicKcmVxdWlyZSAnYmFzZTY0JwpyZXF1aXJlICd0ZW1wZmlsZScKcmVxdWlyZSAnZGlnZXN0JwpyZXF1aXJlICdmaWxldXRpbHMnCgptb2R1bGUgTUhERVNJR04KICBQTFVHSU5fTkFNRSA9ICJNSERFU0lHTiIKICBBUElfVVJMID0gImh0dHBzOi8vbWFobW91ZGRlc2lnbi5jb20vd3AtanNvbi9taGRlc2lnbi9WNC92YWxpZGF0ZSIKCiAgQ09NUE9ORU5UUyA9IGJlZ2luCiAgICB1cmwgPSAiaHR0cHM6Ly9tYWhtb3VkZGVzaWduLmNvbS9TS0VUQ0hVUC9jb21wb25lbnRzLVY0Lmpzb24iCiAgICBqc29uX3JhdyA9IFVSSS5vcGVuKHVybCkucmVhZAogICAganNvbl9kYXRhID0gSlNPTi5wYXJzZShqc29uX3JhdykKICAgIGRlY29kZWRfanNvbiA9IEJhc2U2NC5kZWNvZGU2NChqc29uX2RhdGFbImRhdGEiXSkKICAgIEpTT04ucGFyc2UoZGVjb2RlZF9qc29uLCBzeW1ib2xpemVfbmFtZXM6IHRydWUpCiAgcmVzY3VlID0+IGUKICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDZgdi02YQg2KrYrdmF2YrZhCDYqNmK2KfZhtin2Kog2KfZhNmF2YPYqtio2Kk6ICN7ZS5tZXNzYWdlfSIpCiAgICBbXQogIGVuZAoKICAjID09PT09PT09PT0g2KPYr9in2Kkg2KrYqtio2Lkg2KfZhNmF2KfZiNizINi52YbYryDYp9mE2KXYr9ix2KfYrCA9PT09PT09PT09CiAgY2xhc3MgQ29tcG9uZW50UGxhY2VyCiAgICBkZWYgaW5pdGlhbGl6ZShkZWZpbml0aW9uLCBuYW1lKQogICAgICBAZGVmaW5pdGlvbiA9IGRlZmluaXRpb24KICAgICAgQG5hbWUgPSBuYW1lCiAgICAgIEBpcCA9IFNrZXRjaHVwOjpJbnB1dFBvaW50Lm5ldwogICAgZW5kCgogICAgZGVmIG9uTW91c2VNb3ZlKGZsYWdzLCB4LCB5LCB2aWV3KQogICAgICBAaXAucGljayh2aWV3LCB4LCB5KQogICAgICB2aWV3LmludmFsaWRhdGUKICAgIGVuZAoKICAgIGRlZiBkcmF3KHZpZXcpCiAgICAgIHJldHVybiB1bmxlc3MgQGlwLnZhbGlkPwogICAgICB0ciA9IEdlb206OlRyYW5zZm9ybWF0aW9uLm5ldyhAaXAucG9zaXRpb24pCiAgICAgIHZpZXcuZHJhdyhHTF9MSU5FX1NUUklQLCBbQGlwLnBvc2l0aW9uXSkKICAgICAgYmVnaW4KICAgICAgICBwdHMgPSBAZGVmaW5pdGlvbi5ib3VuZHMuY29ybmVyKDAuLjcpLm1hcCB7IHxwdHwgcHQudHJhbnNmb3JtKHRyKSB9CiAgICAgICAgdmlldy5kcmF3KEdMX1BPTFlHT04sIHB0cykKICAgICAgcmVzY3VlCiAgICAgIGVuZAogICAgZW5kCgogICAgZGVmIG9uTEJ1dHRvbkRvd24oZmxhZ3MsIHgsIHksIHZpZXcpCiAgICAgIGlmIEBpcC52YWxpZD8KICAgICAgICB0ciA9IEdlb206OlRyYW5zZm9ybWF0aW9uLm5ldyhAaXAucG9zaXRpb24pCiAgICAgICAgaW5zdGFuY2UgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuZW50aXRpZXMuYWRkX2luc3RhbmNlKEBkZWZpbml0aW9uLCB0cikKICAgICAgICBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuc2VsZWN0aW9uLmNsZWFyCiAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnNlbGVjdGlvbi5hZGQoaW5zdGFuY2UpCiAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnRvb2xzLnBvcF90b29sCiAgICAgICAgU2tldGNodXAuc2VuZF9hY3Rpb24oInNlbGVjdE1vdmVUb29sOiIpCiAgICAgIGVuZAogICAgZW5kCiAgZW5kCgogICMgPT09PT09PT09PSDYp9mE2KrZgdi52YrZhCA9PT09PT09PT09CiAgZGVmIHNlbGYuZ2V0X2RldmljZV9pZAogICAgIyDYsdmC2YUg2KfZhNis2YfYp9iyINir2KfYqNiqCiAgICAiN2I0Y2UwNTEtZmI5ZS00MDViLThmNDktZTIyZGU2OWNjYTI3IgogIGVuZAoKICBkZWYgc2VsZi5hY3RpdmF0ZShmb3JjZV9wcm9tcHQgPSB0cnVlKQogICAgIyDYqtir2KjZitiqINin2YTYqNix2YrYryDZiNmD2YTZhdipINin2YTZhdix2YjYsQogICAgZW1haWwgICA9ICJtYXJ3YW5hZGVsQGdtYWlsLmNvbSIKICAgIGxpY2Vuc2UgPSAiMTIzNDU2Nzg5IgoKICAgIGRldmljZSA9IGdldF9kZXZpY2VfaWQKICAgIHVyaSA9IFVSSShBUElfVVJMKQogICAgcmVzID0gTmV0OjpIVFRQLnBvc3RfZm9ybSh1cmksIHsKICAgICAgJ2VtYWlsJyAgICAgPT4gZW1haWwsCiAgICAgICdsaWNlbnNlJyAgID0+IGxpY2Vuc2UsCiAgICAgICdkZXZpY2VfaWQnID0+IGRldmljZQogICAgfSkKICAgIHZhbGlkID0gSlNPTi5wYXJzZShyZXMuYm9keSlbJ3ZhbGlkJ10gcmVzY3VlIGZhbHNlCgogICAgaWYgdmFsaWQKICAgICAgVUkubWVzc2FnZWJveCgi4pyFINiq2YUg2KfZhNiq2YHYudmK2YQg2KjZhtis2KfYrSIpIGlmIGZvcmNlX3Byb21wdAogICAgICB0cnVlCiAgICBlbHNlCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYp9mE2KrZgdi52YrZhCDZgdi02YQg4oCUINiq2KPZg9ivINmF2YYg2KfZhNio2YrYp9mG2KfYqiDYo9mIINix2YLZhSDYp9mE2KzZh9in2LIiKSBpZiBmb3JjZV9wcm9tcHQKICAgICAgZmFsc2UKICAgIGVuZAogIHJlc2N1ZSA9PiBlCiAgICBVSS5tZXNzYWdlYm94KCLimqDvuI8g2YHYtNmEINin2YTYp9iq2LXYp9mEINio2KfZhNiz2YrYsdmB2LE6ICN7ZS5tZXNzYWdlfSIpIGlmIGZvcmNlX3Byb21wdAogICAgZmFsc2UKICBlbmQKCiAgZGVmIHNlbGYuYWN0aXZhdGVkPwogICAgdHJ1ZQogIGVuZAoKICBkZWYgc2VsZi5zaG93X2xpYnJhcnkKICAgIHVubGVzcyBhY3RpdmF0ZShmYWxzZSkKICAgICAgYWN0aXZhdGUodHJ1ZSkKICAgICAgcmV0dXJuCiAgICBlbmQKCiAgICBkbGcgPSBVSTo6SHRtbERpYWxvZy5uZXcoewogICAgICA6ZGlhbG9nX3RpdGxlID0+ICLZhdmD2KrYqNipINin2YTZhdi32KfYqNiuIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fbGlicmFyeSIsCiAgICAgIDpzY3JvbGxhYmxlID0+IHRydWUsCiAgICAgIDpyZXNpemFibGUgPT4gdHJ1ZSwKICAgICAgOndpZHRoID0+IDgwMCwKICAgICAgOmhlaWdodCA9PiA2NTAKICAgIH0pCgogICAgY2F0ZWdvcmllcyA9IENPTVBPTkVOVFMubWFwIHsgfGN8IGNbOmNhdGVnb3J5XSB9LnVuaXEKCiAgICBodG1sID0gPDwtSFRNTAogICAgPCEtLSDZiNin2KzZh9ipIEhUTUwg2YPZhdinINmB2Yog2KfZhNmD2YjYryDYp9mE2KPYtdmE2YogLS0+CiAgICBIVE1MCgogICAgZGxnLnNldF9odG1sKGh0bWwpCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImxvYWRDb21wb25lbnRCeURhdGEiKSBkbyB8XywgY29tcF9qc29ufAogICAgICBjb21wID0gSlNPTi5wYXJzZShjb21wX2pzb24sIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICAgICAgdXJsID0gVVJJLnBhcnNlKGNvbXBbOnVybF0pCiAgICAgIGhhc2hfbmFtZSA9IERpZ2VzdDo6U0hBMjU2LmhleGRpZ2VzdCh1cmwudG9fcylbMC4uMTZdICsgIi5za3AiCiAgICAgIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgICAgIEZpbGVVdGlscy5ta2Rpcl9wKGNhY2hlX2RpcikKICAgICAgbG9jYWxfcGF0aCA9IEZpbGUuam9pbihjYWNoZV9kaXIsIGhhc2hfbmFtZSkKICAgICAgIyAuLi4g2KjYp9mC2Yog2YPZiNivINin2YTYqtit2YXZitmEINmI2KfZhNil2K/Ysdin2Kwg2YPZhdinINmB2Yog2KfZhNmG2LPYrtipINin2YTYo9i12YTZitipIC4uLgogICAgZW5kCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImNsZWFyQ29tcG9uZW50Q2FjaGUiKSBkbyB8X3wKICAgICAgYmVnaW4KICAgICAgICBjYWNoZV9kaXIgPSBGaWxlLmpvaW4oRGlyLnRtcGRpciwgIm1oZGVzaWduX2NhY2hlXzEiKQogICAgICAgIGlmIEZpbGUuZGlyZWN0b3J5PyhjYWNoZV9kaXIpCiAgICAgICAgICBGaWxlVXRpbHMucm1fcmYoY2FjaGVfZGlyKQogICAgICAgIGVuZAogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDYqtmFINin2YTYqtit2K/ZitirINio2YbYrNin2K0uIikKICAgICAgcmVzY3VlID0+IGUKICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2YHYtNmEINit2LDZgSDYp9mE2YXZhNmB2KfYqiDYp9mE2YXYpNmC2KrYqTogI3tlLm1lc3NhZ2V9IikKICAgICAgZW5kCiAgICBlbmQKICAgIGRsZy5zaG93CiAgZW5kCgogICMgPT09PT09PT09PSDYp9mE2YLZiNin2KbZhSDZiCBUb29sYmFyID09PT09PT09PT0KICB1bmxlc3MgZmlsZV9sb2FkZWQ/KF9fRklMRV9fKQogICAgVUkubWVudSgiUGx1Z2lucyIpLmFkZF9pdGVtKCIje1BMVUdJTl9OQU1FfSAtINiq2YHYudmK2YQiKSB7IGFjdGl2YXRlKHRydWUpIH0KICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgiI3tQTFVHSU5fTkFNRX0gLSDYsdmC2YUg2KfZhNis2YfYp9iyIikgeyBVSS5tZXNzYWdlYm94KCLwn5SRINix2YLZhSDYp9mE2KzZh9in2LI6XG4iICsgZ2V0X2RldmljZV9pZCkgfQogICAgVUkubWVudSgiUGx1Z2lucyIpLmFkZF9pdGVtKCJNSERFU0lHTiAtINiq2K3Yr9mK2Ksg2KfZhNmF2YPYqtio2KkiKSBkbwogICAgICBjYWNoZV9kaXIgPSBGaWxlLmpvaW4oRGlyLnRtcGRpciwgIm1oZGVzaWduX2NhY2hlXzEiKQogICAgICBpZiBGaWxlLmRpcmVjdG9yeT8oY2FjaGVfZGlyKQogICAgICAgIEZpbGVVdGlscy5ybV9yZihjYWNoZV9kaXIpCiAgICAgIGVuZAogICAgICBVSS5tZXNzYWdlYm94KCLinIUg2KrZhSDYp9mE2KrYrdiv2YrYqyDYqNmG2KzYp9itLiIpCiAgICBlbmQKCiAgICB0b29sYmFyID0gVUk6OlRvb2xiYXIubmV3KFBMVUdJTl9OQU1FKQogICAgY21kID0gVUk6OkNvbW1hbmQubmV3KCLZhdmD2KrYqNipICN7UExVR0lOX05BTUV9IikgeyBzaG93X2xpYnJhcnkgfQoKICAgIGljb25fcGF0aCA9IEZpbGUuam9pbihQTFVHSU5fRElSLCAiaWNvbi5wbmciKSByZXNjdWUgbmlsCiAgICBpZiBGaWxlLmV4aXN0PyhpY29uX3BhdGgpCiAgICAgIGNtZC5zbWFsbF9pY29uID0gaWNvbl9wYXRoCiAgICAgIGNtZC5sYXJnZV9pY29uID0gaWNvbl9wYXRoCiAgICBlbmQKICAgIGNtZC50b29sdGlwID0gItiq2LTYutmK2YQg2YXZg9iq2KjYqSBNSERFU0lHTiIKICAgIHRvb2xiYXIuYWRkX2l0ZW0oY21kKQoKICAgIGNtZF91bmlxdWUgPSBVSTo6Q29tbWFuZC5uZXcoItis2LnZhCDZg9mEINin2YTZhdmD2YjZhtin2Kog2YHYsdmK2K/YqSIpIHsKICAgICAgbW9kdWxlIE1IREVTSUdOX1VOSVFVSUZZCiAgICAgICAgZGVmIHNlbGYubWFrZV9hbGxfY29tcG9uZW50c191bmlxdWUoZW50aXRpZXMpCiAgICAgICAgICBlbnRpdGllcy5ncmVwKFNrZXRjaHVwOjpDb21wb25lbnRJbnN0YW5jZSkuZWFjaCBkbyB8aW5zdGFuY2V8CiAgICAgICAgICAgIGluc3RhbmNlLm1ha2VfdW5pcXVlCiAgICAgICAgICAgIG1ha2VfYWxsX2NvbXBvbmVudHNfdW5pcXVlKGluc3RhbmNlLmRlZmluaXRpb24uZW50aXRpZXMpCiAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICBkZWYgc2VsZi5tYWtlX2RlZmluaXRpb25zX3VuaXF1ZQogICAgICAgICAgbW9kZWwgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwKICAgICAgICAgIG1vZGVsLmRlZmluaXRpb25zLmVhY2ggZG8gfGRlZmluaXRpb258CiAgICAgICAgICAgIG5leHQgaWYgZGVmaW5pdGlvbi5ncm91cD8gfHwgZGVmaW5pdGlvbi5pbWFnZT8KICAgICAgICAgICAgZGVmaW5pdGlvbi5pbnN0YW5jZXMuZWFjaCBkbyB8aW5zdGFuY2V8CiAgICAgICAgICAgICAgaW5zdGFuY2UubWFrZV91bmlxdWUKICAgICAgICAgICAgICBtYWtlX2FsbF9jb21wb25lbnRzX3VuaXF1ZShpbnN0YW5jZS5kZWZpbml0aW9uLmVudGl0aWVzKQogICAgICAgICAgICBlbmQKICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIGRlZiBzZWxmLnJ1bl91bmlxdWlmeQogICAgICAgICAgbW9kZWwgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwKICAgICAgICAgIG1vZGVsLnN0YXJ0X29wZXJhdGlvbigi2KzYudmEINmD2YQg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipIiwgdHJ1ZSkKICAgICAgICAgIG1ha2VfYWxsX2NvbXBvbmVudHNfdW5pcXVlKG1vZGVsLmVudGl0aWVzKQogICAgICAgICAgbWFrZV9kZWZpbml0aW9uc191bmlxdWUKICAgICAgICAgIG1vZGVsLmNvbW1pdF9vcGVyYXRpb24KICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDYqtmFINis2LnZhCDZg9mEINin2YTZg9mF2KjZiNmG2YbYqtin2Kog2YHYsdmK2K/YqS4iKQogICAgICAgIGVuZAogICAgICBlbmQKICAgICAgTUhERVNJR05fVU5JUVVJRlkucnVuX3VuaXF1aWZ5CiAgICB9CiAgICB1bmlxdWVfaWNvbl9wYXRoID0gRmlsZS5qb2luKFBMVUdJTl9ESVIsICJ1bmlxdWVfaWNvbi5wbmciKSByZXNjdWUgbmlsCiAgICBpZiBGaWxlLmV4aXN0Pyh1bmlxdWVfaWNvbl9wYXRoKQogICAgICBjbWRfdW5pcXVlLnNtYWxsX2ljb24gPSB1bmlxdWVfaWNvbl9wYXRoCiAgICAgIGNtZF91bmlxdWUubGFyZ2VfaWNvbiA9IHVuaXF1ZV9pY29uX3BhdGgKICAgIGVuZAogICAgY21kX3VuaXF1ZS50b29sdGlwID0gItin2KzYudmEINin2YTZhdmD2YjZhtin2Kog2KfZhNmB2LHYudmK2Kkg2YHYsdmK2K/YqSIKICAgIHRvb2xiYXIuYWRkX2l0ZW0oY21kX3VuaXF1ZSkKCiAgICB0b29sYmFyLnJlc3RvcmUKICAgIGZpbGVfbG9hZGVkKF9fRklMRV9fKQogIGVuZAplbmQK"  // كود روبي مشفر بـ base64
}
