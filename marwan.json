{
  "main_code": "cmVxdWlyZSAnc2tldGNodXAucmInCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICd1cmknCnJlcXVpcmUgJ2pzb24nCnJlcXVpcmUgJ3NlY3VyZXJhbmRvbScKcmVxdWlyZSAnb3Blbi11cmknCnJlcXVpcmUgJ3RtcGRpcicKcmVxdWlyZSAnYmFzZTY0JwpyZXF1aXJlICd0ZW1wZmlsZScKcmVxdWlyZSAnZGlnZXN0JwpyZXF1aXJlICdmaWxldXRpbHMnCgptb2R1bGUgTUhERVNJR04KICBQTFVHSU5fTkFNRSA9ICJNSERFU0lHTiIKICAKICAjID09PT09PSDYsdin2KjYtyBBUEkg2YTZhNiq2K3ZgtmCID09PT09PQogIEFQSV9VUkwgPSAiaHR0cHM6Ly9tYWhtb3VkZGVzaWduLmNvbS93cC1qc29uL21oZGVzaWduL1Y0L3ZhbGlkYXRlIgoKICAjID09PT09PSDYr9in2YTYqSDZhNiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqiDZhdmGINin2YTYs9mK2LHZgdixINmF2LkgQmFzZTY0IGRlY29kaW5nID09PT09PQogIGRlZiBzZWxmLmxvYWRfY29tcG9uZW50c19kYXRhCiAgICBiZWdpbgogICAgICB1cmwgPSAiaHR0cHM6Ly9tYWhtb3VkZGVzaWduLmNvbS9TS0VUQ0hVUC9jb21wb25lbnRzLVY0Lmpzb24iCiAgICAgIGpzb25fcmF3ID0gVVJJLm9wZW4odXJsKS5yZWFkCiAgICAgIGpzb25fZGF0YSA9IEpTT04ucGFyc2UoanNvbl9yYXcpCiAgICAgIGRlY29kZWRfanNvbiA9IEJhc2U2NC5kZWNvZGU2NChqc29uX2RhdGFbImRhdGEiXSkKICAgICAgSlNPTi5wYXJzZShkZWNvZGVkX2pzb24sIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICAgIHJlc2N1ZSA9PiBlCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDZgdi02YQg2YHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Kog2YXZhiDYp9mE2LPZitix2YHYsTogI3tlLm1lc3NhZ2V9IikKICAgICAgcmV0dXJuIFtdCiAgICBlbmQKICBlbmQKCiAgIyA9PT09PT09PT09INij2K/Yp9ipINiq2KrYqNi5INin2YTZhdin2YjYsyDYudmG2K8g2KfZhNil2K/Ysdin2KwgPT09PT09PT09PQogIGNsYXNzIENvbXBvbmVudFBsYWNlcgogICAgZGVmIGluaXRpYWxpemUoZGVmaW5pdGlvbiwgbmFtZSkKICAgICAgQGRlZmluaXRpb24gPSBkZWZpbml0aW9uCiAgICAgIEBuYW1lID0gbmFtZQogICAgICBAaXAgPSBTa2V0Y2h1cDo6SW5wdXRQb2ludC5uZXcKICAgIGVuZAoKICAgIGRlZiBvbk1vdXNlTW92ZShmbGFncywgeCwgeSwgdmlldykKICAgICAgQGlwLnBpY2sodmlldywgeCwgeSkKICAgICAgdmlldy5pbnZhbGlkYXRlCiAgICBlbmQKCiAgICBkZWYgZHJhdyh2aWV3KQogICAgICByZXR1cm4gdW5sZXNzIEBpcC52YWxpZD8KICAgICAgdHIgPSBHZW9tOjpUcmFuc2Zvcm1hdGlvbi5uZXcoQGlwLnBvc2l0aW9uKQogICAgICB2aWV3LmRyYXcoR0xfTElORV9TVFJJUCwgW0BpcC5wb3NpdGlvbl0pCiAgICAgIGJlZ2luCiAgICAgICAgcHRzID0gQGRlZmluaXRpb24uYm91bmRzLmNvcm5lcigwLi43KS5tYXAgeyB8cHR8IHB0LnRyYW5zZm9ybSh0cikgfQogICAgICAgIHZpZXcuZHJhdyhHTF9QT0xZR09OLCBwdHMpCiAgICAgIHJlc2N1ZQogICAgICBlbmQKICAgIGVuZAoKICAgIGRlZiBvbkxCdXR0b25Eb3duKGZsYWdzLCB4LCB5LCB2aWV3KQogICAgICBpZiBAaXAudmFsaWQ/CiAgICAgICAgdHIgPSBHZW9tOjpUcmFuc2Zvcm1hdGlvbi5uZXcoQGlwLnBvc2l0aW9uKQogICAgICAgIGluc3RhbmNlID0gU2tldGNodXAuYWN0aXZlX21vZGVsLmVudGl0aWVzLmFkZF9pbnN0YW5jZShAZGVmaW5pdGlvbiwgdHIpCiAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnNlbGVjdGlvbi5jbGVhcgogICAgICAgIFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5zZWxlY3Rpb24uYWRkKGluc3RhbmNlKQogICAgICAgIFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC50b29scy5wb3BfdG9vbAogICAgICAgIFNrZXRjaHVwLnNlbmRfYWN0aW9uKCJzZWxlY3RNb3ZlVG9vbDoiKQogICAgICBlbmQKICAgIGVuZAogIGVuZAoKICAjID09PT09PSDYp9mE2KrZgdi52YrZhCDYp9mE2KrZhNmC2KfYptmKID09PT09PQogIGRlZiBzZWxmLmFjdGl2YXRlKGZvcmNlX3Byb21wdCA9IHRydWUpCiAgICAjINio2YrYp9mG2KfYqiDYp9mE2KrZgdi52YrZhCDYp9mE2KzYr9mK2K/YqQogICAgZW1haWwgPSAibWFyd2FuYWRlbEBnbWFpbC5jb20iCiAgICBsaWNlbnNlID0gIjEyMzQ1Njc4OSIKCiAgICAjINit2YHYuCDYp9mE2KjZitin2YbYp9iqINiq2YTZgtin2KbZitin2YsKICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJlbWFpbCIsIGVtYWlsKQogICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgImxpY2Vuc2UiLCBsaWNlbnNlKQogICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgImFjdGl2YXRlZF9vbmNlIiwgdHJ1ZSkKICAgIAogICAgIyDYudix2LYg2LHYs9in2YTYqSDZhtis2KfYrSDYp9mE2KrZgdi52YrZhAogICAgVUkubWVzc2FnZWJveCgi4pyFINiq2YUg2KfZhNiq2YHYudmK2YQg2KjZhtis2KfYrSDYqtmE2YLYp9im2YrYp9mLXG7wn5OnINin2YTYpdmK2YXZitmEOiAje2VtYWlsfSIpIGlmIGZvcmNlX3Byb21wdAogICAgCiAgICAjINil2LHYrNin2LkgdHJ1ZSDYr9in2KbZhdin2Ysg2YTZhNil2LTYp9ix2Kkg2KXZhNmJINij2YYg2KfZhNiq2YHYudmK2YQg2YbYp9is2K0KICAgIHRydWUKICByZXNjdWUgPT4gZQogICAgIyDZgdmKINit2KfZhNipINit2K/ZiNirINij2Yog2K7Yt9ij2Iwg2YbYudiq2KjYsSDYp9mE2KrZgdi52YrZhCDZhtin2KzYrdin2YsKICAgIHRydWUKICBlbmQKCiAgZGVmIHNlbGYuYWN0aXZhdGVkPwogICAgIyDYr9in2KbZhdin2Ysg2YbYudiq2KjYsSDYp9mE2KjYsdmG2KfZhdisINmF2YHYudmE2KfZiwogICAgdHJ1ZQogIGVuZAoKICBkZWYgc2VsZi5zaG93X2xpYnJhcnkKICAgICMg2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINmF2YYg2KfZhNiz2YrYsdmB2LEKICAgIGNvbXBvbmVudHNfZGF0YSA9IGxvYWRfY29tcG9uZW50c19kYXRhCiAgICAKICAgIGlmIGNvbXBvbmVudHNfZGF0YS5lbXB0eT8KICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmE2Kcg2KrZiNis2K8g2KjZitin2YbYp9iqINmF2KrYp9it2KkuINmK2LHYrNmJINin2YTYqtit2YLZgiDZhdmGINin2KrYtdin2YQg2KfZhNil2YbYqtix2YbYqi4iKQogICAgICByZXR1cm4KICAgIGVuZAoKICAgIGRsZyA9IFVJOjpIdG1sRGlhbG9nLm5ldyh7CiAgICAgIDpkaWFsb2dfdGl0bGUgPT4gItmF2YPYqtio2Kkg2KfZhNmF2LfYp9io2K4gLSDZhS4g2YXYsdmI2KfZhiDYudin2K/ZhCIsCiAgICAgIDpwcmVmZXJlbmNlc19rZXkgPT4gIm1oZGVzaWduX2xpYnJhcnkiLAogICAgICA6c2Nyb2xsYWJsZSA9PiB0cnVlLAogICAgICA6cmVzaXphYmxlID0+IHRydWUsCiAgICAgIDp3aWR0aCA9PiA4MDAsCiAgICAgIDpoZWlnaHQgPT4gNjUwCiAgICB9KQoKICAgIGNhdGVnb3JpZXMgPSBjb21wb25lbnRzX2RhdGEubWFwIHsgfGN8IGNbOmNhdGVnb3J5XSB9LnVuaXEKCiAgICBodG1sID0gPDwtSFRNTAogICAgPGh0bWw+PGhlYWQ+CiAgICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1UYWphd2FsOndnaHRANDAwOzcwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+CiAgICAgIDxzdHlsZT4KICAgICAgICBib2R5IHtmb250LWZhbWlseTonVGFqYXdhbCcsc2Fucy1zZXJpZjttYXJnaW46MDtiYWNrZ3JvdW5kOiNmOWY5Zjk7cGFkZGluZzowIDIwcHggNDBweDtkaXJlY3Rpb246cnRsO30KICAgICAgICBoZWFkZXIge2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47cGFkZGluZzoyMHB4IDA7fQogICAgICAgIGhlYWRlciBpbWcge2hlaWdodDo1MHB4O2JvcmRlci1yYWRpdXM6NTAlO30KICAgICAgICBoZWFkZXIgaDIge21hcmdpbjowO2ZvbnQtc2l6ZToyNHB4O2NvbG9yOiMyZTdkMzI7fQogICAgICAgIC5tZW51LXRvZ2dsZSB7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjI4cHg7dXNlci1zZWxlY3Q6bm9uZTt9CiAgICAgICAgLmZpbHRlciB7ZGlzcGxheTpub25lO21hcmdpbi1ib3R0b206MjBweDt9CiAgICAgICAgLmZpbHRlciBzZWxlY3Qge2ZvbnQtc2l6ZToxNnB4O3BhZGRpbmc6NnB4IDEwcHg7Ym9yZGVyLXJhZGl1czo2cHg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO30KICAgICAgICAuZ3JpZCB7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoYXV0by1maWxsLG1pbm1heCgyMDBweCwxZnIpKTtnYXA6MjBweDt9CiAgICAgICAgLmNhcmQge2JhY2tncm91bmQ6d2hpdGU7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MTJweDtib3gtc2hhZG93OjAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjA4KTt0ZXh0LWFsaWduOmNlbnRlcjt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjNzIGVhc2UsYm94LXNoYWRvdyAwLjNzIGVhc2U7fQogICAgICAgIC5jYXJkOmhvdmVyIHt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNXB4KTtib3gtc2hhZG93OjAgOHB4IDIwcHggcmdiYSgwLDAsMCwwLjEyKTt9CiAgICAgICAgaW1nLmNvbXBvbmVudC1pbWcge3dpZHRoOjEwMCU7aGVpZ2h0OjIwMHB4O29iamVjdC1maXQ6Y292ZXI7Ym9yZGVyLXJhZGl1czo4cHg7fQogICAgICAgIGg0IHttYXJnaW46MTBweCAwIDVweDtmb250LXNpemU6MTdweDtjb2xvcjojMzMzO30KICAgICAgICBwIHtmb250LXNpemU6MTNweDtjb2xvcjojNjY2O21hcmdpbjowO30KICAgICAgICBidXR0b24ge21hcmdpbi10b3A6MTBweDtwYWRkaW5nOjZweCAxNHB4O2JhY2tncm91bmQ6IzQzYTA0Nztjb2xvcjp3aGl0ZTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjVweDtjdXJzb3I6cG9pbnRlcjt0cmFuc2l0aW9uOmJhY2tncm91bmQgMC4zczt9CiAgICAgICAgYnV0dG9uOmhvdmVyIHtiYWNrZ3JvdW5kOiMyZTdkMzI7fQogICAgICAgIGZvb3RlciB7bWFyZ2luLXRvcDo0MHB4O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToxMnB4O2NvbG9yOiM5OTk7fQogICAgICAgIC5sb2FkaW5nIHt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjQwcHg7Zm9udC1zaXplOjE4cHg7Y29sb3I6IzY2Njt9CiAgICAgIDwvc3R5bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keSBvbmNvbnRleHRtZW51PSJyZXR1cm4gZmFsc2UiPgogICAgICA8aGVhZGVyPgogICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaWJiLmNvL1c0eTdjREZYL2Nyb3BwZWQtY2lyY2xlLWltYWdlLnBuZyIgYWx0PSJMb2dvIiAvPgogICAgICAgIDxoMj7ZhdmD2KrYqNipINiq2LXZhdmK2YUg2KfZhNmF2LfYp9io2K4gfCDZhdmH2YbYr9izINmF2LHZiNin2YYg2LnYp9iv2YQgPC9oMj4KICAgICAgICA8ZGl2IGNsYXNzPSJtZW51LXRvZ2dsZSIgb25jbGljaz0idG9nZ2xlTWVudSgpIj7imLA8L2Rpdj4KICAgICAgPC9oZWFkZXI+CgogICAgICA8ZGl2IGNsYXNzPSJmaWx0ZXIiIGlkPSJmaWx0ZXItYm94Ij4KICAgICAgICA8bGFiZWw+CiAgICAgICAgICDwn5S9INiq2LXZhtmK2YE6CiAgICAgICAgICA8c2VsZWN0IGlkPSJjYXRlZ29yeSIgb25jaGFuZ2U9ImZpbHRlckNvbXBvbmVudHMoKSI+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFsbCI+2KfZhNmD2YQ8L29wdGlvbj4KICAgICAgICAgICAgI3tjYXRlZ29yaWVzLm1hcCB7IHxjYXR8ICI8b3B0aW9uIHZhbHVlPScje2NhdH0nPiN7Y2F0fTwvb3B0aW9uPiIgfS5qb2lufQogICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgPC9sYWJlbD4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGlkPSJjb21wb25lbnRzIiBjbGFzcz0iZ3JpZCI+PC9kaXY+CgogICAgICA8Zm9vdGVyPgogICAgICAgINiq2YUg2KrYtdmF2YrZhSDZh9iw2Ycg2KfZhNmF2YPYqtio2Kkg2KjZiNin2LPYt9ipIDxiPtmF2YfZhtiv2LMg2YXYsdmI2KfZhiDYudin2K/ZhDwvYj48YnI+CiAgICAgICAg8J+TniDZhNmE2KrZiNin2LXZhDogPGI+MDEyMDQyNzk2MDY8L2I+PGJyPgogICAgICAgIPCfk6cg2KfZhNil2YrZhdmK2YQ6IDxiPm1hcndhbmFkZWxAZ21haWwuY29tPC9iPgogICAgICA8L2Zvb3Rlcj4KCiAgICAgIDxzY3JpcHQ+CmZ1bmN0aW9uIGxvYWRDb21wb25lbnQoY29tcCl7c2tldGNodXAubG9hZENvbXBvbmVudEJ5RGF0YShKU09OLnN0cmluZ2lmeShjb21wKSk7fQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGU9PmUucHJldmVudERlZmF1bHQoKSk7CmNvbnN0IGFsbENvbXBvbmVudHM9I3tjb21wb25lbnRzX2RhdGEudG9fanNvbn07CmZ1bmN0aW9uIHJlbmRlcihjKXtsZXQgaD0iIjtjLmZvckVhY2goeD0+e2grPWA8ZGl2IGNsYXNzPSJjYXJkIj48aW1nIGNsYXNzPSJjb21wb25lbnQtaW1nIiBzcmM9IiR7eC5pbWFnZX0iIC8+PGg0PiR7eC5uYW1lfTwvaDQ+PHA+JHt4LmRlc2N9PC9wPjxidXR0b24gb25jbGljaz0nbG9hZENvbXBvbmVudCgke0pTT04uc3RyaW5naWZ5KHgpfSknPtil2K/Ysdin2Kw8L2J1dHRvbj48L2Rpdj5gfSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbXBvbmVudHMiKS5pbm5lckhUTUw9aDt9CmZ1bmN0aW9uIGZpbHRlckNvbXBvbmVudHMoKXtjb25zdCBjYXQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5IikudmFsdWU7aWYoY2F0PT09ImFsbCIpcmVuZGVyKGFsbENvbXBvbmVudHMpO2Vsc2UgcmVuZGVyKGFsbENvbXBvbmVudHMuZmlsdGVyKGM9PmMuY2F0ZWdvcnk9PT1jYXQpKTt9CmZ1bmN0aW9uIHRvZ2dsZU1lbnUoKXtjb25zdCBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXItYm94Iik7Yi5zdHlsZS5kaXNwbGF5PShiLnN0eWxlLmRpc3BsYXk9PT0iYmxvY2siKT8ibm9uZSI6ImJsb2NrIjt9CndpbmRvdy5vbmxvYWQ9KCk9PmZpbHRlckNvbXBvbmVudHMoKTsKICAgICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+PC9odG1sPgogICAgSFRNTAoKICAgIGRsZy5zZXRfaHRtbChodG1sKQoKICAgIGRsZy5hZGRfYWN0aW9uX2NhbGxiYWNrKCJsb2FkQ29tcG9uZW50QnlEYXRhIikgZG8gfF8sIGNvbXBfanNvbnwKICAgICAgYmVnaW4KICAgICAgICBjb21wID0gSlNPTi5wYXJzZShjb21wX2pzb24sIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICAgICAgICAKICAgICAgICAjINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGINmF2YYg2KfZhNiz2YrYsdmB2LEKICAgICAgICB1cmwgPSBVUkkucGFyc2UoY29tcFs6dXJsXSkKICAgICAgICBoYXNoX25hbWUgPSBEaWdlc3Q6OlNIQTI1Ni5oZXhkaWdlc3QodXJsLnRvX3MpWzAuLjE2XSArICIuc2twIgogICAgICAgIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgICAgICAgRmlsZVV0aWxzLm1rZGlyX3AoY2FjaGVfZGlyKQogICAgICAgIGxvY2FsX3BhdGggPSBGaWxlLmpvaW4oY2FjaGVfZGlyLCBoYXNoX25hbWUpCgogICAgICAgIHVubGVzcyBGaWxlLmV4aXN0Pyhsb2NhbF9wYXRoKQogICAgICAgICAgcHJvZ3Jlc3MgPSBVSTo6SHRtbERpYWxvZy5uZXcoewogICAgICAgICAgICA6ZGlhbG9nX3RpdGxlID0+ICLYqtit2YXZitmEINin2YTZhdmD2YjZhi4uLiIsCiAgICAgICAgICAgIDpwcmVmZXJlbmNlc19rZXkgPT4gIm1oZGVzaWduX3Byb2dyZXNzIiwKICAgICAgICAgICAgOnNjcm9sbGFibGUgPT4gZmFsc2UsCiAgICAgICAgICAgIDpyZXNpemFibGUgPT4gZmFsc2UsCiAgICAgICAgICAgIDp3aWR0aCA9PiAzMDAsCiAgICAgICAgICAgIDpoZWlnaHQgPT4gMTUwCiAgICAgICAgICB9KQoKICAgICAgICAgIHByb2dyZXNzLnNldF9odG1sIDw8LUhUTUwKICAgICAgICAgICAgPGh0bWw+PGhlYWQ+CiAgICAgICAgICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ1RhamF3YWwnLCBzYW5zLXNlcmlmOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMDsgcGFkZGluZzogMjBweDsgZGlyZWN0aW9uOiBydGw7IH0KICAgICAgICAgICAgICAgIGgzIHsgbWFyZ2luOiAxMHB4IDA7IH0KICAgICAgICAgICAgICAgICNwcm9ncmVzcy1iYXIgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kOiAjZGRkOyBib3JkZXItcmFkaXVzOiAxMHB4OyBvdmVyZmxvdzogaGlkZGVuOyBtYXJnaW4tdG9wOiAxMHB4OyB9CiAgICAgICAgICAgICAgICAjcHJvZ3Jlc3MtZmlsbCB7IGhlaWdodDogMTAwJTsgd2lkdGg6IDAlOyBiYWNrZ3JvdW5kOiAjNGNhZjUwOyB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzIGVhc2U7IH0KICAgICAgICAgICAgICAgICNwZXJjZW50IHsgbWFyZ2luLXRvcDogOHB4OyBmb250LXNpemU6IDE0cHg7IH0KICAgICAgICAgICAgICA8L3N0eWxlPgogICAgICAgICAgICA8L2hlYWQ+PGJvZHk+CiAgICAgICAgICAgICAgPGgzPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGLi4uPC9oMz4KICAgICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzcy1iYXIiPjxkaXYgaWQ9InByb2dyZXNzLWZpbGwiPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgaWQ9InBlcmNlbnQiPjAlPC9kaXY+CiAgICAgICAgICAgIDwvYm9keT48L2h0bWw+CiAgICAgICAgICBIVE1MCgogICAgICAgICAgcHJvZ3Jlc3Muc2hvdwoKICAgICAgICAgIFVJLnN0YXJ0X3RpbWVyKDAuMywgZmFsc2UpIGRvCiAgICAgICAgICAgIGJlZ2luCiAgICAgICAgICAgICAgY29udGVudF9sZW5ndGggPSBuaWwKICAgICAgICAgICAgICB0ZW1wZmlsZSA9IFRlbXBmaWxlLm5ldygibWhjb21wb25lbnQiKQoKICAgICAgICAgICAgICBVUkkub3Blbih1cmwsCiAgICAgICAgICAgICAgICBjb250ZW50X2xlbmd0aF9wcm9jOiAtPihsZW4pIHsgY29udGVudF9sZW5ndGggPSBsZW4gfSwKICAgICAgICAgICAgICAgIHByb2dyZXNzX3Byb2M6IC0+KGJ5dGVzKSB7CiAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSBjb250ZW50X2xlbmd0aCA/ICgoYnl0ZXMudG9fZiAvIGNvbnRlbnRfbGVuZ3RoKSAqIDEwMCkudG9faSA6IDAKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy1maWxsJykuc3R5bGUud2lkdGggPSAnI3twZXJjZW50fSUnIikKICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJjZW50JykuaW5uZXJUZXh0ID0gJyN7cGVyY2VudH0lJyIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgKSBkbyB8cmVtb3RlX2ZpbGV8CiAgICAgICAgICAgICAgICBJTy5jb3B5X3N0cmVhbShyZW1vdGVfZmlsZSwgdGVtcGZpbGUpCiAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgIHRlbXBmaWxlLmNsb3NlCiAgICAgICAgICAgICAgRmlsZVV0aWxzLm12KHRlbXBmaWxlLnBhdGgsIGxvY2FsX3BhdGgpCiAgICAgICAgICAgICAgcHJvZ3Jlc3MuY2xvc2UgaWYgcHJvZ3Jlc3MudmlzaWJsZT8KCiAgICAgICAgICAgICAgaWYgRmlsZS5leGlzdD8obG9jYWxfcGF0aCkgJiYgRmlsZS5zaXplKGxvY2FsX3BhdGgpID4gMAogICAgICAgICAgICAgICAgZGVmaW5pdGlvbiA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5kZWZpbml0aW9ucy5sb2FkKGxvY2FsX3BhdGgsIGFsbG93X25ld2VyOiB0cnVlKQogICAgICAgICAgICAgICAgaWYgZGVmaW5pdGlvbgogICAgICAgICAgICAgICAgICBwbGFjZXIgPSBDb21wb25lbnRQbGFjZXIubmV3KGRlZmluaXRpb24sIGNvbXBbOm5hbWVdKQogICAgICAgICAgICAgICAgICBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwudG9vbHMucHVzaF90b29sKHBsYWNlcikKICAgICAgICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4pyFINiq2YUg2KrYrdmF2YrZhCAnI3tjb21wWzpuYW1lXX0nIC0g2KfZhtmC2LEg2YTZiNi22LnZhyDZgdmKINin2YTZhtmF2YjYsNisIikKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4pqg77iPINmE2YUg2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGIikKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKaoO+4jyDZhNmFINmK2KrZhSDYrdmB2Lgg2KfZhNmF2YTZgSDYqNi02YPZhCDYtdit2YrYrSIpCiAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICByZXNjdWUgPT4gZQogICAgICAgICAgICAgIHRlbXBmaWxlLmNsb3NlIGlmIHRlbXBmaWxlCiAgICAgICAgICAgICAgdGVtcGZpbGUudW5saW5rIGlmIHRlbXBmaWxlCiAgICAgICAgICAgICAgcHJvZ3Jlc3MuY2xvc2UgaWYgcHJvZ3Jlc3MudmlzaWJsZT8KICAgICAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2K7Yt9ijINmB2Yog2KfZhNiq2K3ZhdmK2YQ6ICN7ZS5tZXNzYWdlfSIpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgIyDYp9mE2YXZg9mI2YYg2YXZiNis2YjYryDZgdmKINin2YTZg9in2LQKICAgICAgICAgIGRlZmluaXRpb24gPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuZGVmaW5pdGlvbnMubG9hZChsb2NhbF9wYXRoLCBhbGxvd19uZXdlcjogdHJ1ZSkKICAgICAgICAgIGlmIGRlZmluaXRpb24KICAgICAgICAgICAgcGxhY2VyID0gQ29tcG9uZW50UGxhY2VyLm5ldyhkZWZpbml0aW9uLCBjb21wWzpuYW1lXSkKICAgICAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnRvb2xzLnB1c2hfdG9vbChwbGFjZXIpCiAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDYqtmFINiq2K3ZhdmK2YQgJyN7Y29tcFs6bmFtZV19JyDZhdmGINin2YTZg9in2LQgLSDYp9mG2YLYsSDZhNmI2LbYudmHINmB2Yog2KfZhNmG2YXZiNiw2KwiKQogICAgICAgICAgZWxzZQogICAgICAgICAgICBVSS5tZXNzYWdlYm94KCLimqDvuI8g2YTZhSDZitiq2YUg2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYg2YXZhiDYp9mE2YPYp9i0IikKICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICByZXNjdWUgPT4gZQogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZhdmD2YjZhjogI3tlLm1lc3NhZ2V9IikKICAgICAgZW5kCiAgICBlbmQKCiAgICBkbGcuYWRkX2FjdGlvbl9jYWxsYmFjaygiY2xlYXJDb21wb25lbnRDYWNoZSIpIGRvIHxffAogICAgICBiZWdpbgogICAgICAgIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgICAgICAgaWYgRmlsZS5kaXJlY3Rvcnk/KGNhY2hlX2RpcikKICAgICAgICAgIEZpbGVVdGlscy5ybV9yZihjYWNoZV9kaXIpCiAgICAgICAgZW5kCiAgICAgICAgVUkubWVzc2FnZWJveCgi4pyFINiq2YUg2KfZhNiq2K3Yr9mK2Ksg2KjZhtis2KfYrS4iKQogICAgICByZXNjdWUgPT4gZQogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDZgdi02YQg2K3YsNmBINin2YTZhdmE2YHYp9iqINin2YTZhdik2YLYqtipOiAje2UubWVzc2FnZX0iKQogICAgICBlbmQKICAgIGVuZAogICAgCiAgICBkbGcuc2hvdwogIGVuZAoKICB1bmxlc3MgZmlsZV9sb2FkZWQ/KF9fRklMRV9fKQogICAgVUkubWVudSgiUGx1Z2lucyIpLmFkZF9pdGVtKCIje1BMVUdJTl9OQU1FfSAtINiq2YHYudmK2YQiKSB7IGFjdGl2YXRlKHRydWUpIH0KICAgIAogICAgdG9vbGJhciA9IFVJOjpUb29sYmFyLm5ldyhQTFVHSU5fTkFNRSkKICAgIGNtZCA9IFVJOjpDb21tYW5kLm5ldygi2YXZg9iq2KjYqSAje1BMVUdJTl9OQU1FfSIpIHsgc2hvd19saWJyYXJ5IH0KCiAgICBpY29uX3BhdGggPSBGaWxlLmpvaW4oUExVR0lOX0RJUiwgImljb24ucG5nIikgcmVzY3VlIG5pbAogICAgaWYgRmlsZS5leGlzdD8oaWNvbl9wYXRoKQogICAgICBjbWQuc21hbGxfaWNvbiA9IGljb25fcGF0aAogICAgICBjbWQubGFyZ2VfaWNvbiA9IGljb25fcGF0aAogICAgZW5kCiAgICBjbWQudG9vbHRpcCA9ICLYqti02LrZitmEINmF2YPYqtio2KkgTUhERVNJR04iCiAgICB0b29sYmFyLmFkZF9pdGVtKGNtZCkKCiAgICB0b29sYmFyLnJlc3RvcmUKICAgIGZpbGVfbG9hZGVkKF9fRklMRV9fKQogIGVuZAplbmQ="  // كود روبي مشفر بـ base64
}
