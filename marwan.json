{
  "main_code": "cmVxdWlyZSAnc2tldGNodXAucmInCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICd1cmknCnJlcXVpcmUgJ2pzb24nCnJlcXVpcmUgJ3NlY3VyZXJhbmRvbScKcmVxdWlyZSAnb3Blbi11cmknCnJlcXVpcmUgJ3RtcGRpcicKcmVxdWlyZSAnYmFzZTY0JwpyZXF1aXJlICd0ZW1wZmlsZScKcmVxdWlyZSAnZGlnZXN0JwpyZXF1aXJlICdmaWxldXRpbHMnCgptb2R1bGUgTUhERVNJR04KICBQTFVHSU5fTkFNRSA9ICJNSERFU0lHTiIKICBWQUxJREFUSU9OX1VSTCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbWFyd2FuYWRlbGV0dGFodGFoYW4tc3Vkby9BUEkxMjMvcmVmcy9oZWFkcy9tYWluL2VtYWlsLmpzb24iCgogIENPTVBPTkVOVFMgPSBiZWdpbgogICAgdXJsID0gImh0dHBzOi8vbWFobW91ZGRlc2lnbi5jb20vU0tFVENIVVAvY29tcG9uZW50cy1WNC5qc29uIgogICAganNvbl9yYXcgPSBVUkkub3Blbih1cmwpLnJlYWQKICAgIGpzb25fZGF0YSA9IEpTT04ucGFyc2UoanNvbl9yYXcpCiAgICBkZWNvZGVkX2pzb24gPSBCYXNlNjQuZGVjb2RlNjQoanNvbl9kYXRhWyJkYXRhIl0pCiAgICBjb21wb25lbnRzID0gSlNPTi5wYXJzZShkZWNvZGVkX2pzb24sIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICAgIAogICAgIyDYpdi52KfYr9ipINiq2LXZhtmK2YEg2KfZhNmF2YPZiNmG2KfYqiDYqNmG2KfYodmLINi52YTZiSDYp9mE2YLYp9im2YXYqSDYp9mE2KzYr9mK2K/YqQogICAgY29tcG9uZW50cy5tYXAgZG8gfGNvbXBvbmVudHwKICAgICAgY2F0ZWdvcnkgPSBjYXNlIGNvbXBvbmVudFs6Y2F0ZWdvcnldCiAgICAgIHdoZW4gItmI2K3Yr9in2Kog2YLYp9i52K/YqSIKICAgICAgICAi2YjYrdiv2KfYqiDYs9mB2YTZitipIgogICAgICB3aGVuICLZiNit2K/Yp9iqINit2KfYpti3IiwgItix2YHZiNmBIgogICAgICAgICLZiNit2K/Yp9iqINi52YTZiNmK2KkiCiAgICAgIHdoZW4gItiu2LLYp9mG2Kkg2YXZhNin2KjYsyIsICLYrtiy2KfZhtipINij2K3YsNmK2KkiCiAgICAgICAgItiv2YjYp9mE2YrYqCIKICAgICAgd2hlbiAi2KPYq9in2Ksg2K3YsSIKICAgICAgICAi2YHYsdi0INmF2LfYp9io2LkiCiAgICAgIGVsc2UKICAgICAgICBjb21wb25lbnRbOmNhdGVnb3J5XQogICAgICBlbmQKICAgICAgCiAgICAgIGNvbXBvbmVudC5tZXJnZShjYXRlZ29yeTogY2F0ZWdvcnkpCiAgICBlbmQKICByZXNjdWUgPT4gZQogICAgVUkubWVzc2FnZWJveCgi2K3Yr9irINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqjogI3tlLm1lc3NhZ2V9IikKICAgIFtdCiAgZW5kCgogICMgPT09PT09PT09PT09PSDYqNin2YLZiiDYp9mE2YPZiNivINmK2KjZgtmJINmD2YXYpyDZh9mIID09PT09PT09PT09PT0KICBjbGFzcyBDb21wb25lbnRQbGFjZXIKICAgIGRlZiBpbml0aWFsaXplKGRlZmluaXRpb24sIG5hbWUpCiAgICAgIEBkZWZpbml0aW9uID0gZGVmaW5pdGlvbgogICAgICBAbmFtZSA9IG5hbWUKICAgICAgQGlwID0gU2tldGNodXA6OklucHV0UG9pbnQubmV3CiAgICBlbmQKCiAgICBkZWYgb25Nb3VzZU1vdmUoZmxhZ3MsIHgsIHksIHZpZXcpCiAgICAgIEBpcC5waWNrKHZpZXcsIHgsIHkpCiAgICAgIHZpZXcuaW52YWxpZGF0ZQogICAgZW5kCgogICAgZGVmIGRyYXcodmlldykKICAgICAgcmV0dXJuIHVubGVzcyBAaXAudmFsaWQ/CiAgICAgIHRyID0gR2VvbTo6VHJhbnNmb3JtYXRpb24ubmV3KEBpcC5wb3NpdGlvbikKICAgICAgdmlldy5kcmF3KEdMX0xJTkVfU1RSSVAsIFtAaXAucG9zaXRpb25dKQogICAgICBiZWdpbgogICAgICAgIHB0cyA9IEBkZWZpbml0aW9uLmJvdW5kcy5jb3JuZXIoMC43KS5tYXAgeyB8cHR8IHB0LnRyYW5zZm9ybSh0cikgfQogICAgICAgIHZpZXcuZHJhdyhHTF9QT0xZR09OLCBwdHMpCiAgICAgIHJlc2N1ZQogICAgICBlbmQKICAgIGVuZAoKICBkZWYgb25MQnV0dG9uRG93bihmbGFncywgeCwgeSwgdmlldykKICBpZiBAaXAudmFsaWQ/CiAgICB0ciA9IEdlb206OlRyYW5zZm9ybWF0aW9uLm5ldyhAaXAucG9zaXRpb24pCiAgICBpbnN0YW5jZSA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5lbnRpdGllcy5hZGRfaW5zdGFuY2UoQGRlZmluaXRpb24sIHRyKQogICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnNlbGVjdGlvbi5jbGVhcgogICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnNlbGVjdGlvbi5hZGQoaW5zdGFuY2UpCiAgICBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwudG9vbHMucG9wX3Rvb2wKICAgIFNrZXRjaHVwLnNlbmRfYWN0aW9uKCJzZWxlY3RNb3ZlVG9vbDoiKQogIGVuZAplbmQKICBlbmQKCiAgZGVmIHNlbGYuZ2V0X2RldmljZV9pZAogICAgcHJlZnMgPSBTa2V0Y2h1cC5yZWFkX2RlZmF1bHQoUExVR0lOX05BTUUsICJkZXZpY2VfaWQiKQogICAgcmV0dXJuIHByZWZzIHVubGVzcyBwcmVmcy5uaWw/IHx8IHByZWZzLmVtcHR5PwogICAgaWQgPSBTZWN1cmVSYW5kb20udXVpZAogICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgImRldmljZV9pZCIsIGlkKQogICAgaWQKICBlbmQKCiAgIyA9PT09PT09PT09PT09INin2YTYqtit2YLZgiDZhdmGINio2YrYp9mG2KfYqiDYp9mE2KfYudiq2YXYp9ivID09PT09PT09PT09PT0KICBkZWYgc2VsZi52YWxpZGF0ZV9jcmVkZW50aWFscyhlbWFpbCwgbGljZW5zZSkKICAgIGJlZ2luCiAgICAgIHVyaSA9IFVSSShWQUxJREFUSU9OX1VSTCkKICAgICAgcmVzcG9uc2UgPSBOZXQ6OkhUVFAuZ2V0KHVyaSkKICAgICAgdmFsaWRfdXNlcnMgPSBKU09OLnBhcnNlKHJlc3BvbnNlKQogICAgICAKICAgICAgdmFsaWRfdXNlcnMuYW55PyB7IHx1c2VyfCAKICAgICAgICB1c2VyWyJlbWFpbCJdID09IGVtYWlsICYmIHVzZXJbInBhc3N3b3JkIl0gPT0gbGljZW5zZSAKICAgICAgfQogICAgcmVzY3VlID0+IGUKICAgICAgZmFsc2UKICAgIGVuZAogIGVuZAoKICBkZWYgc2VsZi5hY3RpdmF0ZShmb3JjZV9wcm9tcHQgPSB0cnVlKQogICAgZW1haWwgPSBTa2V0Y2h1cC5yZWFkX2RlZmF1bHQoUExVR0lOX05BTUUsICJlbWFpbCIpIHx8ICIiCiAgICBsaWNlbnNlID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAibGljZW5zZSIpIHx8ICIiCgogICAgIyDYpdiw2Kcg2YPYp9mGINmF2YHYsdmI2LYg2KPZiCDYp9mE2KjZitin2YbYp9iqINmB2KfYsdi62KnYjCDYp9i32YTYqCDYp9mE2KXYr9iu2KfZhAogICAgaWYgZm9yY2VfcHJvbXB0IHx8IGVtYWlsLmVtcHR5PyB8fCBsaWNlbnNlLmVtcHR5PwogICAgICBpbnB1dCA9IFVJLmlucHV0Ym94KFsi2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKIiwgItmD2YTZhdipINin2YTZhdix2YjYsSJdLCBbZW1haWwsIGxpY2Vuc2VdLCAi2KrZgdi52YrZhCBNSERFU0lHTiIpCiAgICAgIHJldHVybiB1bmxlc3MgaW5wdXQKICAgICAgZW1haWwsIGxpY2Vuc2UgPSBpbnB1dAogICAgZW5kCgogICAgIyDYp9mE2KrYrdmC2YIg2YXZhiDYqNmK2KfZhtin2Kog2KfZhNin2LnYqtmF2KfYryDYudio2LEgR2l0SHViIEFQSQogICAgdmFsaWRfZGF0YSA9IHZhbGlkYXRlX2NyZWRlbnRpYWxzKGVtYWlsLCBsaWNlbnNlKQoKICAgIGlmIHZhbGlkX2RhdGEKICAgICAgIyDYrdmB2Lgg2KjZitin2YbYp9iqINin2YTYqtmB2LnZitmECiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJlbWFpbCIsIGVtYWlsKQogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAibGljZW5zZSIsIGxpY2Vuc2UpCiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJhY3RpdmF0ZWRfb25jZSIsIHRydWUpCiAgICAgIFVJLm1lc3NhZ2Vib3goItiq2YUg2KfZhNiq2YHYudmK2YQg2KjZhtis2KfYrSEg2YrZhdmD2YbZgyDYp9mE2KLZhiDYp9iz2KrYrtiv2KfZhSDYrNmF2YrYuSDZhdmD2YjZhtin2Kog2KfZhNmF2YPYqtio2KkuXG7wn5OeIDAxMjA0Mjc5NjA2IikKICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgIyDZgdi02YQg2KfZhNiq2YHYudmK2YQKICAgICAgVUkubWVzc2FnZWJveCgi2KjZitin2YbYp9iqINin2YTYqtmB2LnZitmEINi62YrYsSDYtdit2YrYrdipLiDZitix2KzZiSDYp9mE2KrZiNin2LXZhCDZhdi5IDAxMjA0Mjc5NjA2IikgaWYgZm9yY2VfcHJvbXB0CiAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCiAgZW5kCgogIGRlZiBzZWxmLmFjdGl2YXRlZD8KICAgIGVtYWlsID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZW1haWwiKQogICAgbGljZW5zZSA9IFNrZXRjaHVwLnJlYWRfZGVmYXVsdChQTFVHSU5fTkFNRSwgImxpY2Vuc2UiKQogICAgIWVtYWlsLnRvX3MuZW1wdHk/ICYmICFsaWNlbnNlLnRvX3MuZW1wdHk/CiAgZW5kCgogIGRlZiBzZWxmLnNob3dfbGlicmFyeQogICAgIyA9PT09PT09PT09PT09INin2YTYqtit2YLZgiDZhdmGINin2YTYqtmB2LnZitmEINij2YjZhNin2YsgPT09PT09PT09PT09PQogICAgZW1haWwgPSBTa2V0Y2h1cC5yZWFkX2RlZmF1bHQoUExVR0lOX05BTUUsICJlbWFpbCIpCiAgICBsaWNlbnNlID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAibGljZW5zZSIpCiAgICAKICAgIGlmIGVtYWlsICYmIGxpY2Vuc2UKICAgICAgIyDYp9mE2KrYrdmC2YIg2YXZhiDYtdit2Kkg2KjZitin2YbYp9iqINin2YTYp9i52KrZhdin2K8g2YLYqNmEINmB2KrYrSDYp9mE2YXZg9iq2KjYqQogICAgICB1bmxlc3MgdmFsaWRhdGVfY3JlZGVudGlhbHMoZW1haWwsIGxpY2Vuc2UpCiAgICAgICAgVUkubWVzc2FnZWJveCgi2KjZitin2YbYp9iqINin2YTYqtmB2LnZitmEINi62YrYsSDYtdit2YrYrdipLiDZitix2KzZiSDYp9mE2KrZiNin2LXZhCDZhdi5IDAxMjA0Mjc5NjA2IikKICAgICAgICBhY3RpdmF0ZSh0cnVlKQogICAgICAgIHJldHVybgogICAgICBlbmQKICAgIGVsc2UKICAgICAgIyDYpdiw2Kcg2YTZhSDYqtmD2YYg2YfZhtin2YMg2KjZitin2YbYp9iq2Iwg2KfYt9mE2Kgg2KfZhNiq2YHYudmK2YQKICAgICAgdW5sZXNzIGFjdGl2YXRlKGZhbHNlKQogICAgICAgIGFjdGl2YXRlKHRydWUpCiAgICAgICAgcmV0dXJuCiAgICAgIGVuZAogICAgZW5kCiAgICAjID09PT09PT09PT09PT0g2YbZh9in2YrYqSDYp9mE2KrYrdmC2YIgPT09PT09PT09PT09PQoKICAgIGRsZyA9IFVJOjpIdG1sRGlhbG9nLm5ldyh7CiAgICAgIDpkaWFsb2dfdGl0bGUgPT4gItmF2YPYqtio2Kkg2YXZg9mI2YbYp9iqIE1IREVTSUdOIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fbGlicmFyeSIsCiAgICAgIDpzY3JvbGxhYmxlID0+IHRydWUsCiAgICAgIDpyZXNpemFibGUgPT4gdHJ1ZSwKICAgICAgOndpZHRoID0+IDgwMCwKICAgICAgOmhlaWdodCA9PiA2NTAKICAgIH0pCgogICAgY2F0ZWdvcmllcyA9IENPTVBPTkVOVFMubWFwIHsgfGN8IGNbOmNhdGVnb3J5XSB9LnVuaXEKCiAgICBodG1sID0gPDwtSFRNTAogICAgPGh0bWw+PGhlYWQ+CiAgICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1UYWphd2FsOndnaHRANDAwOzcwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+CiAgICAgIDxzdHlsZT4KICAgICAgICBib2R5IHtmb250LWZhbWlseTonVGFqYXdhbCcsc2Fucy1zZXJpZjttYXJnaW46MDtiYWNrZ3JvdW5kOiNmOWY5Zjk7cGFkZGluZzowIDIwcHggNDBweDtkaXJlY3Rpb246cnRsO30KICAgICAgICBoZWFkZXIge2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47cGFkZGluZzoyMHB4IDA7fQogICAgICAgIGhlYWRlciBpbWcge2hlaWdodDo1MHB4O2JvcmRlci1yYWRpdXM6NTAlO30KICAgICAgICBoZWFkZXIgaDIge21hcmdpbjowO2ZvbnQtc2l6ZToyNHB4O2NvbG9yOiMyZTdkMzI7fQogICAgICAgIC5tZW51LXRvZ2dsZSB7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjI4cHg7dXNlci1zZWxlY3Q6bm9uZTt9CiAgICAgICAgLmZpbHRlciB7ZGlzcGxheTpub25lO21hcmdpbi1ib3R0b206MjBweDt9CiAgICAgICAgLmZpbHRlciBzZWxlY3Qge2ZvbnQtc2l6ZToxNnB4O3BhZGRpbmc6NnB4IDEwcHg7Ym9yZGVyLXJhZGl1czo2cHg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO30KICAgICAgICAuZ3JpZCB7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoYXV0by1maWxsLG1pbm1heCgyMDBweCwxZnIpKTtnYXA6MjBweDt9CiAgICAgICAgLmNhcmQge2JhY2tncm91bmQ6d2hpdGU7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MTJweDtib3gtc2hhZG93OjAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjA4KTt0ZXh0LWFsaWduOmNlbnRlcjt0cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjNzIGVhc2UsYm94LXNoYWRvdyAwLjNzIGVhc2U7fQogICAgICAgIC5jYXJkOmhvdmVyIHt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNXB4KTtib3gtc2hhZG93OjAgOHB4IDIwcHggcmdiYSgwLDAsMCwwLjEyKTt9CiAgICAgICAgaW1nLmNvbXBvbmVudC1pbWcge3dpZHRoOjEwMCU7aGVpZ2h0OjIwMHB4O29iamVjdC1maXQ6Y292ZXI7Ym9yZGVyLXJhZGl1czo4cHg7fQogICAgICAgIGg0IHttYXJnaW46MTBweCAwIDVweDtmb250LXNpemU6MTdweDtjb2xvcjojMzMzO30KICAgICAgICBwIHtmb250LXNpemU6MTNweDtjb2xvcjojNjY2O21hcmdpbjowO30KICAgICAgICBidXR0b24ge21hcmdpbi10b3A6MTBweDtwYWRkaW5nOjZweCAxNHB4O2JhY2tncm91bmQ6IzQzYTA0Nztjb2xvcjp3aGl0ZTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjVweDtjdXJzb3I6cG9pbnRlcjt0cmFuc2l0aW9uOmJhY2tncm91bmQgMC4zczt9CiAgICAgICAgYnV0dG9uOmhvdmVyIHtiYWNrZ3JvdW5kOiMyZTdkMzI7fQogICAgICAgIGZvb3RlciB7bWFyZ2luLXRvcDo0MHB4O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToxMnB4O2NvbG9yOiM5OTk7fQogICAgICA8L3N0eWxlPgogICAgPC9oZWFkPgogICAgPGJvZHkgb25jb250ZXh0bWVudT0icmV0dXJuIGZhbHNlIj4KICAgICAgPGhlYWRlcj4KICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9tYWhtb3VkZGVzaWduLmNvbS9TS0VUQ0hVUC9jb21wb25lbnRzL2xvZ28uanBlZyIgYWx0PSJMb2dvIiAvPgogICAgICAgIDxoMj7ZhdmD2KrYqNipINmF2YPZiNmG2KfYqiBNSERFU0lHTjwvaDI+CiAgICAgICAgPGRpdiBjbGFzcz0ibWVudS10b2dnbGUiIG9uY2xpY2s9InRvZ2dsZU1lbnUoKSI+4piwPC9kaXY+CiAgICAgIDwvaGVhZGVyPgoKICAgICAgPGRpdiBjbGFzcz0iZmlsdGVyIiBpZD0iZmlsdGVyLWJveCI+CiAgICAgICAgPGxhYmVsPgogICAgICAgICAg8J+Xgu+4jyDYp9mE2KrYtdmG2YrZgdin2Ko6CiAgICAgICAgICA8c2VsZWN0IGlkPSJjYXRlZ29yeSIgb25jaGFuZ2U9ImZpbHRlckNvbXBvbmVudHMoKSI+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFsbCI+2KfZhNmD2YQ8L29wdGlvbj4KICAgICAgICAgICAgI3tjYXRlZ29yaWVzLm1hcCB7IHxjYXR8ICI8b3B0aW9uIHZhbHVlPScje2NhdH0nPiN7Y2F0fTwvb3B0aW9uPiIgfS5qb2lufQogICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgPC9sYWJlbD4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGlkPSJjb21wb25lbnRzIiBjbGFzcz0iZ3JpZCI+PC9kaXY+CgogICAgICA8Zm9vdGVyPgogICAgICAgINiq2YUg2KrYtdmF2YrZhSDZiNiq2LfZiNmK2LEg2YXZg9iq2KjYqSBNSERFU0lHTiDYqNmI2KfYs9i32KkgPGI+TUFSV0FOIEFERUwgPC9iPiDZhNiq2LPZh9mK2YQg2LnZhdmE2YrYqSDYp9mE2KrYtdmF2YrZhSDYp9mE2K/Yp9iu2YTZiiDYqNin2LPYqtiu2K/Yp9mFINio2LHZhtin2YXYrCDYs9mD2KrYtCDYo9ioLjxicj4KICAgICAgICDwn5OeINmE2YTYqtmI2KfYtdmEOiA8Yj4wMTIwNDI3OTYwNjwvYj48YnI+CiAgICAgICAg2KrZhSDYqti32YjZitixINin2YTZhti42KfZhSDYqNmI2KfYs9i32Kkg2YXYsdmI2KfZhiDYudin2K/ZhCAtIDAxMjA0Mjc5NjA2CiAgICAgIDwvZm9vdGVyPgoKICAgICAgPHNjcmlwdD4KZnVuY3Rpb24gbG9hZENvbXBvbmVudChjb21wKXtza2V0Y2h1cC5sb2FkQ29tcG9uZW50QnlEYXRhKEpTT04uc3RyaW5naWZ5KGNvbXApKTt9CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZT0+ZS5wcmV2ZW50RGVmYXVsdCgpKTsKY29uc3QgYWxsQ29tcG9uZW50cz0je0NPTVBPTkVOVFMudG9fanNvbn07CmZ1bmN0aW9uIHJlbmRlcihjKXtsZXQgaD0iIjtjLmZvckVhY2goeD0+e2grPWA8ZGl2IGNsYXNzPSJjYXJkIj48aW1nIGNsYXNzPSJjb21wb25lbnQtaW1nIiBzcmM9IiR7eC5pbWFnZX0iIC8+PGg0PiR7eC5uYW1lfTwvaDQ+PHA+JHt4LmRlc2N9PC9wPjxidXR0b24gb25jbGljaz0nbG9hZENvbXBvbmVudCgke0pTT04uc3RyaW5naWZ5KHgpfSknPtil2K/Ysdin2Kw8L2J1dHRvbj48L2Rpdj5gfSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbXBvbmVudHMiKS5pbm5lckhUTUw9aDt9CmZ1bmN0aW9uIGZpbHRlckNvbXBvbmVudHMoKXtjb25zdCBjYXQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5IikudmFsdWU7aWYoY2F0PT09ImFsbCIpcmVuZGVyKGFsbENvbXBvbmVudHMpO2Vsc2UgcmVuZGVyKGFsbENvbXBvbmVudHMuZmlsdGVyKGM9PmMuY2F0ZWdvcnk9PT1jYXQpKTt9CmZ1bmN0aW9uIHRvZ2dsZU1lbnUoKXtjb25zdCBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXItYm94Iik7Yi5zdHlsZS5kaXNwbGF5PShiLnN0eWxlLmRpc3BsYXk9PT0iYmxvY2siKT8ibm9uZSI6ImJsb2NrIjt9CndpbmRvdy5vbmxvYWQ9KCk9PmZpbHRlckNvbXBvbmVudHMoKTsKICAgICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+PC9odG1sPgogICAgSFRNTAoKICAgIGRsZy5zZXRfaHRtbChodG1sKQoKZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImxvYWRDb21wb25lbnRCeURhdGEiKSBkbyB8XywgY29tcF9qc29ufAogIGNvbXAgPSBKU09OLnBhcnNlKGNvbXBfanNvbiwgc3ltYm9saXplX25hbWVzOiB0cnVlKQogIHVybCA9IFVSSS5wYXJzZShjb21wWzp1cmxdKQogIGhhc2hfbmFtZSA9IERpZ2VzdDo6U0hBMjU2LmhleGRpZ2VzdCh1cmwudG9fcylbMC4uMTZdICsgIi5za3AiCiAgY2FjaGVfZGlyID0gRmlsZS5qb2luKERpci50bXBkaXIsICJtaGRlc2lnbl9jYWNoZV8xIikKICBGaWxlVXRpbHMubWtkaXJfcChjYWNoZV9kaXIpCiAgbG9jYWxfcGF0aCA9IEZpbGUuam9pbihjYWNoZV9kaXIsIGhhc2hfbmFtZSkKCiAgdW5sZXNzIEZpbGUuZXhpc3Q/KGxvY2FsX3BhdGgpCiAgICBwcm9ncmVzcyA9IFVJOjpIdG1sRGlhbG9nLm5ldyh7CiAgICAgIDpkaWFsb2dfdGl0bGUgPT4gItis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGLi4uIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fcHJvZ3Jlc3MiLAogICAgICA6c2Nyb2xsYWJsZSA9PiBmYWxzZSwKICAgICAgOnJlc2l6YWJsZSA9PiBmYWxzZSwKICAgICAgOndpZHRoID0+IDMwMCwKICAgICAgOmhlaWdodCA9PiAxNTAKICAgIH0pCgogICAgcHJvZ3Jlc3Muc2V0X2h0bWwgPDwtSFRNTAogICAgICA8aHRtbD48aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPHN0eWxlPgogICAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnVGFqYXdhbCcsIHNhbnMtc2VyaWY7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwOyBwYWRkaW5nOiAyMHB4OyBkaXJlY3Rpb246IHJ0bDsgfQogICAgICAgICAgaDMgeyBtYXJnaW46IDEwcHggMDsgfQogICAgICAgICAgI3Byb2dyZXNzLWJhciB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDIwcHg7IGJhY2tncm91bmQ6ICNkZGQ7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IG1hcmdpbi10b3A6IDEwcHg7IH0KICAgICAgICAgICNwcm9ncmVzcy1maWxsIHsgaGVpZ2h0OiAxMDAlOyB3aWR0aDogMCU7IGJhY2tncm91bmQ6ICM0Y2FmNTA7IHRyYW5zaXRpb246IHdpZHRoIDAuMnMgZWFzZTsgfQogICAgICAgICAgI3BlcmNlbnQgeyBtYXJnaW4tdG9wOiA4cHg7IGZvbnQtc2l6ZTogMTRweDsgfQogICAgICAgIDwvc3R5bGU+CiAgICAgIDwvaGVhZD48Ym9keT4KICAgICAgICA8aDM+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYuLi48L2gzPgogICAgICAgIDxkaXYgaWQ9InByb2dyZXNzLWJhciI+PGRpdiBpZD0icHJvZ3Jlc3MtZmlsbCI+PC9kaXY+PC9kaXY+CiAgICAgICAgPGRpdiBpZD0icGVyY2VudCI+MCU8L2Rpdj4KICAgICAgPC9ib2R5PjwvaHRtbD4KICAgIEhUTUwKCiAgICBwcm9ncmVzcy5zaG93CgogICAgVUkuc3RhcnRfdGltZXIoMC4zLCBmYWxzZSkgZG8KICAgICAgYmVnaW4KICAgICAgICBjb250ZW50X2xlbmd0aCA9IG5pbAogICAgICAgIHRlbXBmaWxlID0gVGVtcGZpbGUubmV3KCJtaGNvbXBvbmVudCIpCgogICAgICAgIFVSSS5vcGVuKHVybCwKICAgICAgICAgIGNvbnRlbnRfbGVuZ3RoX3Byb2M6IC0+KGxlbikgeyBjb250ZW50X2xlbmd0aCA9IGxlbiB9LAogICAgICAgICAgcHJvZ3Jlc3NfcHJvYzogLT4oYnl0ZXMpIHsKICAgICAgICAgICAgcGVyY2VudCA9IGNvbnRlbnRfbGVuZ3RoID8gKChieXRlcy50b19mIC8gY29udGVudF9sZW5ndGgpICogMTAwKS50b19pIDogMAogICAgICAgICAgICBwcm9ncmVzcy5leGVjdXRlX3NjcmlwdCgiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWZpbGwnKS5zdHlsZS53aWR0aCA9ICcje3BlcmNlbnR9JSciKQogICAgICAgICAgICBwcm9ncmVzcy5leGVjdXRlX3NjcmlwdCgiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlcmNlbnQnKS5pbm5lclRleHQgPSAnI3twZXJjZW50fSUnIikKICAgICAgICAgIH0KICAgICAgICApIGRvIHxyZW1vdGVfZmlsZXwKICAgICAgICAgIElPLmNvcHlfc3RyZWFtKHJlbW90ZV9maWxlLCB0ZW1wZmlsZSkKICAgICAgICBlbmQKCiAgICAgICAgdGVtcGZpbGUuY2xvc2UKICAgICAgICBGaWxlVXRpbHMubXYodGVtcGZpbGUucGF0aCwgbG9jYWxfcGF0aCkKICAgICAgICBwcm9ncmVzcy5jbG9zZSBpZiBwcm9ncmVzcy52aXNpYmxlPwoKICAgICAgICBpZiBGaWxlLmV4aXN0Pyhsb2NhbF9wYXRoKSAmJiBGaWxlLnNpemUobG9jYWxfcGF0aCkgPiAwCiAgICAgICAgICBkZWZpbml0aW9uID0gU2tldGNodXAuYWN0aXZlX21vZGVsLmRlZmluaXRpb25zLmxvYWQobG9jYWxfcGF0aCwgYWxsb3dfbmV3ZXI6IHRydWUpCiAgICAgICAgICBpZiBkZWZpbml0aW9uCiAgICAgICAgICAgIGluc3RhbmNlID0gU2tldGNodXAuYWN0aXZlX21vZGVsLnBsYWNlX2NvbXBvbmVudChkZWZpbml0aW9uKQogICAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinJMg2KrZhSDYqtit2YXZitmEINin2YTZhdmD2YjZhiDYqNmG2KzYp9itIikgdW5sZXNzIGluc3RhbmNlCiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDZgdi02YQg2YHZiiDYqtit2YXZitmEINin2YTZhdmD2YjZhiIpCiAgICAgICAgICBlbmQKICAgICAgICBlbHNlCiAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2YTZhSDZitiq2YUg2KrYrdmF2YrZhCDYp9mE2YXZhNmBIikKICAgICAgICBlbmQKCiAgICAgIHJlc2N1ZSA9PiBlCiAgICAgICAgdGVtcGZpbGUuY2xvc2UgaWYgdGVtcGZpbGUKICAgICAgICB0ZW1wZmlsZS51bmxpbmsgaWYgdGVtcGZpbGUKICAgICAgICBwcm9ncmVzcy5jbG9zZSBpZiBwcm9ncmVzcy52aXNpYmxlPwogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKaoCDYrdiv2Ksg2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YY6ICN7ZS5tZXNzYWdlfSIpCiAgICAgIGVuZAogICAgZW5kCiAgZWxzZQogICAgYmVnaW4KICAgICAgaWYgRmlsZS5leGlzdD8obG9jYWxfcGF0aCkgJiYgRmlsZS5zaXplKGxvY2FsX3BhdGgpID4gMAogICAgICAgIGRlZmluaXRpb24gPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuZGVmaW5pdGlvbnMubG9hZChsb2NhbF9wYXRoLCBhbGxvd19uZXdlcjogdHJ1ZSkKICAgICAgICBpZiBkZWZpbml0aW9uCiAgICAgICAgICBpbnN0YW5jZSA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5wbGFjZV9jb21wb25lbnQoZGVmaW5pdGlvbikKICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKckyDYqtmFINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGINio2YbYrNin2K0iKSB1bmxlc3MgaW5zdGFuY2UKICAgICAgICBlbHNlCiAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2YHYtNmEINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYiKQogICAgICAgIGVuZAogICAgICBlbHNlCiAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINin2YTZhdmE2YEg2LrZitixINmF2YjYrNmI2K8g2KPZiCDZgdin2LHYuiIpCiAgICAgIGVuZAogICAgcmVzY3VlID0+IGUKICAgICAgVUkubWVzc2FnZWJveCgi4pqgINit2K/YqyDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZhdmD2YjZhjogI3tlLm1lc3NhZ2V9IikKICAgIGVuZAogIGVuZAplbmQKCmRsZy5hZGRfYWN0aW9uX2NhbGxiYWNrKCJjbGVhckNvbXBvbmVudENhY2hlIikgZG8gfF98CiAgYmVnaW4KICAgIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgICBpZiBGaWxlLmRpcmVjdG9yeT8oY2FjaGVfZGlyKQogICAgICBGaWxlVXRpbHMucm1fcmYoY2FjaGVfZGlyKQogICAgZW5kCiAgICBVSS5tZXNzYWdlYm94KCLinJMg2KrZhSDZhdiz2K0g2LDYp9mD2LHYqSDYp9mE2KrYrtiy2YrZhiDYp9mE2YXYpNmC2KouIikKICByZXNjdWUgPT4gZQogICAgVUkubWVzc2FnZWJveCgi4pqgINit2K/YqyDYrti32KMg2YHZiiDZhdiz2K0g2KfZhNiw2KfZg9ix2Kk6ICN7ZS5tZXNzYWdlfSIpCiAgZW5kCmVuZApkbGcuc2hvdwogIGVuZAoKICB1bmxlc3MgZmlsZV9sb2FkZWQ/KF9fRklMRV9fKQogICAgVUkubWVudSgiUGx1Z2lucyIpLmFkZF9pdGVtKCIje1BMVUdJTl9OQU1FfSAtINin2YTZhdmD2KrYqNipIikgeyBhY3RpdmF0ZSh0cnVlKSB9CiAgICBVSS5tZW51KCJQbHVnaW5zIikuYWRkX2l0ZW0oIiN7UExVR0lOX05BTUV9IC0g2LHZgtmFINin2YTYrNmH2KfYsiIpIHsgVUkubWVzc2FnZWJveCgi8J+TsSDYsdmC2YUg2KfZhNis2YfYp9iyOlxuIiArIGdldF9kZXZpY2VfaWQpIH0KICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgiTUhERVNJR04gLSDZhdiz2K0g2KfZhNiw2KfZg9ix2Kkg2KfZhNmF2KTZgtiq2KkiKSBkbwogICAgICBjYWNoZV9kaXIgPSBGaWxlLmpvaW4oRGlyLnRtcGRpciwgIm1oZGVzaWduX2NhY2hlXzEiKQogICAgICBpZiBGaWxlLmRpcmVjdG9yeT8oY2FjaGVfZGlyKQogICAgICAgIEZpbGVVdGlscy5ybV9yZihjYWNoZV9kaXIpCiAgICAgIGVuZAogICAgICBVSS5tZXNzYWdlYm94KCLinJMg2KrZhSDZhdiz2K0g2LDYp9mD2LHYqSDYp9mE2KrYrtiy2YrZhiDYp9mE2YXYpNmC2KouIikKICAgIGVuZAoKICAgIHRvb2xiYXIgPSBVSTo6VG9vbGJhci5uZXcoUExVR0lOX05BTUUpCiAgICBjbWQgPSBVSTo6Q29tbWFuZC5uZXcoItmF2YPYqtio2KkgI3tQTFVHSU5fTkFNRX0iKSB7IHNob3dfbGlicmFyeSB9CgogICAgaWNvbl9wYXRoID0gRmlsZS5qb2luKFBMVUdJTl9ESVIsICJpY29uLnBuZyIpIHJlc2N1ZSBuaWwKICAgIGlmIEZpbGUuZXhpc3Q/KGljb25fcGF0aCkKICAgICAgY21kLnNtYWxsX2ljb24gPSBpY29uX3BhdGgKICAgICAgY21kLmxhcmdlX2ljb24gPSBpY29uX3BhdGgKICAgIGVuZAogICAgY21kLnRvb2x0aXAgPSAi2YHYqtitINmF2YPYqtio2Kkg2YXZg9mI2YbYp9iqIE1IREVTSUdOIgogICAgdG9vbGJhci5hZGRfaXRlbShjbWQpCgogICAgY21kX3VuaXF1ZSA9IFVJOjpDb21tYW5kLm5ldygi2KzYudmEINin2YTZhdmD2YjZhtin2Kog2YHYsdmK2K/YqSIpIHsKICAgICAgbW9kdWxlIE1IREVTSUdOX1VOSVFVSUZZCiAgICAgICAgZGVmIHNlbGYubWFrZV9hbGxfY29tcG9uZW50c191bmlxdWUoZW50aXRpZXMpCiAgICAgICAgICBlbnRpdGllcy5ncmVwKFNrZXRjaHVwOjpDb21wb25lbnRJbnN0YW5jZSkuZWFjaCBkbyB8aW5zdGFuY2V8CiAgICAgICAgICAgIGluc3RhbmNlLm1ha2VfdW5pcXVlCiAgICAgICAgICAgIG1ha2VfYWxsX2NvbXBvbmVudHNfdW5pcXVlKGluc3RhbmNlLmRlZmluaXRpb24uZW50aXRpZXMpCiAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICBkZWYgc2VsZi5tYWtlX2RlZmluaXRpb25zX3VuaXF1ZQogICAgICAgICAgbW9kZWwgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwKICAgICAgICAgIG1vZGVsLmRlZmluaXRpb25zLmVhY2ggZG8gfGRlZmluaXRpb258CiAgICAgICAgICAgIG5leHQgaWYgZGVmaW5pdGlvbi5ncm91cD8gfHwgZGVmaW5pdGlvbi5pbWFnZT8KICAgICAgICAgICAgZGVmaW5pdGlvbi5pbnN0YW5jZXMuZWFjaCBkbyB8aW5zdGFuY2V8CiAgICAgICAgICAgICAgaW5zdGFuY2UubWFrZV91bmlxdWUKICAgICAgICAgICAgICBtYWtlX2FsbF9jb21wb25lbnRzX3VuaXF1ZShpbnN0YW5jZS5kZWZpbml0aW9uLmVudGl0aWVzKQogICAgICAgICAgICBlbmQKICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIGRlZiBzZWxmLnJ1bl91bmlxdWlmeQogICAgICAgICAgbW9kZWwgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwKICAgICAgICAgIG1vZGVsLnN0YXJ0X29wZXJhdGlvbigi2KzYudmEINis2YXZiti5INin2YTZhdmD2YjZhtin2Kog2YHYsdmK2K/YqSIsIHRydWUpCiAgICAgICAgICBtYWtlX2FsbF9jb21wb25lbnRzX3VuaXF1ZShtb2RlbC5lbnRpdGllcykKICAgICAgICAgIG1ha2VfZGVmaW5pdGlvbnNfdW5pcXVlCiAgICAgICAgICBtb2RlbC5jb21taXRfb3BlcmF0aW9uCiAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinJMg2KrZhSDYrNi52YQg2KzZhdmK2Lkg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipLiIpCiAgICAgICAgZW5kCiAgICAgIGVuZAogICAgICBNSERFU0lHTl9VTklRVUlGWS5ydW5fdW5pcXVpZnkKICAgIH0KICAgIHVuaXF1ZV9pY29uX3BhdGggPSBGaWxlLmpvaW4oUExVR0lOX0RJUiwgInVuaXF1ZV9pY29uLnBuZyIpIHJlc2N1ZSBuaWwKICAgIGlmIEZpbGUuZXhpc3Q/KHVuaXF1ZV9pY29uX3BhdGgpCiAgICAgIGNtZF91bmlxdWUuc21hbGxfaWNvbiA9IHVuaXF1ZV9pY29uX3BhdGgKICAgICAgY21kX3VuaXF1ZS5sYXJnZV9pY29uID0gdW5pcXVlX2ljb25fcGF0aAogICAgZW5kCiAgICBjbWRfdW5pcXVlLnRvb2x0aXAgPSAi2KzYudmEINis2YXZiti5INin2YTZhdmD2YjZhtin2Kog2YHYsdmK2K/YqSDZgdmKINin2YTZhtmF2YjYsNisIgogICAgdG9vbGJhci5hZGRfaXRlbShjbWRfdW5pcXVlKQoKICAgIHRvb2xiYXIucmVzdG9yZQogICAgZmlsZV9sb2FkZWQoX19GSUxFX18pCiAgZW5kCmVuZA=="
}
