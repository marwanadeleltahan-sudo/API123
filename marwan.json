{
  "main_code": "cmVxdWlyZSAnc2tldGNodXAucmInCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICd1cmknCnJlcXVpcmUgJ2pzb24nCnJlcXVpcmUgJ3NlY3VyZXJhbmRvbScKcmVxdWlyZSAnb3Blbi11cmknCnJlcXVpcmUgJ3RtcGRpcicKcmVxdWlyZSAnYmFzZTY0JwpyZXF1aXJlICd0ZW1wZmlsZScKcmVxdWlyZSAnZGlnZXN0JwpyZXF1aXJlICdmaWxldXRpbHMnCgptb2R1bGUgTUhERVNJR04KICBQTFVHSU5fTkFNRSA9ICJNSERFU0lHTiIKICAjINin2LPYqtiu2K/Yp9mFIEdpdEh1YiBBUEkg2KjYr9mE2KfZiyDZhdmGIFJBVyDZhdio2KfYtNixCiAgVkFMSURBVElPTl9VUkwgPSAiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9tYXJ3YW5hZGVsZXR0YWh0YWhhbi1zdWRvL0FQSTEyMy9jb250ZW50cy9lbWFpbC5qc29uIgoKICBDT01QT05FTlRTID0gYmVnaW4KICAgIHVybCA9ICJodHRwczovL21haG1vdWRkZXNpZ24uY29tL1NLRVRDSFVQL2NvbXBvbmVudHMtVjQuanNvbiIKICAgIGpzb25fcmF3ID0gVVJJLm9wZW4odXJsKS5yZWFkCiAgICBqc29uX2RhdGEgPSBKU09OLnBhcnNlKGpzb25fcmF3KQogICAgZGVjb2RlZF9qc29uID0gQmFzZTY0LmRlY29kZTY0KGpzb25fZGF0YVsiZGF0YSJdKQogICAgY29tcG9uZW50cyA9IEpTT04ucGFyc2UoZGVjb2RlZF9qc29uLCBzeW1ib2xpemVfbmFtZXM6IHRydWUpCiAgICAKICAgICMg2KXYudin2K/YqSDYqti12YbZitmBINin2YTZhdmD2YjZhtin2Kog2KjZhtin2KHZiyDYudmE2Ykg2KfZhNmC2KfYptmF2Kkg2KfZhNis2K/Zitiv2KkKICAgIGNvbXBvbmVudHMubWFwIGRvIHxjb21wb25lbnR8CiAgICAgIGNhdGVnb3J5ID0gY2FzZSBjb21wb25lbnRbOmNhdGVnb3J5XQogICAgICB3aGVuICLZiNit2K/Yp9iqINmC2KfYudiv2KkiCiAgICAgICAgItmI2K3Yr9in2Kog2LPZgdmE2YrYqSIKICAgICAgd2hlbiAi2YjYrdiv2KfYqiDYrdin2KbYtyIsICLYsdmB2YjZgSIKICAgICAgICAi2YjYrdiv2KfYqiDYudmE2YjZitipIgogICAgICB3aGVuICLYrtiy2KfZhtipINmF2YTYp9io2LMiLCAi2K7Ystin2YbYqSDYo9it2LDZitipIgogICAgICAgICLYr9mI2KfZhNmK2KgiCiAgICAgIHdoZW4gItij2KvYp9irINit2LEiCiAgICAgICAgItmB2LHYtCDZhdi32KfYqNi5IgogICAgICBlbHNlCiAgICAgICAgY29tcG9uZW50WzpjYXRlZ29yeV0KICAgICAgZW5kCiAgICAgIAogICAgICBjb21wb25lbnQubWVyZ2UoY2F0ZWdvcnk6IGNhdGVnb3J5KQogICAgZW5kCiAgcmVzY3VlID0+IGUKICAgIFVJLm1lc3NhZ2Vib3goItit2K/YqyDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Ko6ICN7ZS5tZXNzYWdlfSIpCiAgICBbXQogIGVuZAoKICAjID09PT09PT09PT09PT0g2KjYp9mC2Yog2KfZhNmD2YjYryDZitio2YLZiSDZg9mF2Kcg2YfZiCA9PT09PT09PT09PT09CiAgY2xhc3MgQ29tcG9uZW50UGxhY2VyCiAgICBkZWYgaW5pdGlhbGl6ZShkZWZpbml0aW9uLCBuYW1lKQogICAgICBAZGVmaW5pdGlvbiA9IGRlZmluaXRpb24KICAgICAgQG5hbWUgPSBuYW1lCiAgICAgIEBpcCA9IFNrZXRjaHVwOjpJbnB1dFBvaW50Lm5ldwogICAgZW5kCgogICAgZGVmIG9uTW91c2VNb3ZlKGZsYWdzLCB4LCB5LCB2aWV3KQogICAgICBAaXAucGljayh2aWV3LCB4LCB5KQogICAgICB2aWV3LmludmFsaWRhdGUKICAgIGVuZAoKICAgIGRlZiBkcmF3KHZpZXcpCiAgICAgIHJldHVybiB1bmxlc3MgQGlwLnZhbGlkPwogICAgICB0ciA9IEdlb206OlRyYW5zZm9ybWF0aW9uLm5ldyhAaXAucG9zaXRpb24pCiAgICAgIHZpZXcuZHJhdyhHTF9MSU5FX1NUUklQLCBbQGlwLnBvc2l0aW9uXSkKICAgICAgYmVnaW4KICAgICAgICBwdHMgPSBAZGVmaW5pdGlvbi5ib3VuZHMuY29ybmVyKDAuNykubWFwIHsgfHB0fCBwdC50cmFuc2Zvcm0odHIpIH0KICAgICAgICB2aWV3LmRyYXcoR0xfUE9MWUdPTiwgcHRzKQogICAgICByZXNjdWUKICAgICAgZW5kCiAgICBlbmQKCiAgZGVmIG9uTEJ1dHRvbkRvd24oZmxhZ3MsIHgsIHksIHZpZXcpCiAgaWYgQGlwLnZhbGlkPwogICAgdHIgPSBHZW9tOjpUcmFuc2Zvcm1hdGlvbi5uZXcoQGlwLnBvc2l0aW9uKQogICAgaW5zdGFuY2UgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuZW50aXRpZXMuYWRkX2luc3RhbmNlKEBkZWZpbml0aW9uLCB0cikKICAgIFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5zZWxlY3Rpb24uY2xlYXIKICAgIFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5zZWxlY3Rpb24uYWRkKGluc3RhbmNlKQogICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnRvb2xzLnBvcF90b29sCiAgICBTa2V0Y2h1cC5zZW5kX2FjdGlvbigic2VsZWN0TW92ZVRvb2w6IikKICBlbmQKZW5kCiAgZW5kCgogIGRlZiBzZWxmLmdldF9kZXZpY2VfaWQKICAgIHByZWZzID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZGV2aWNlX2lkIikKICAgIHJldHVybiBwcmVmcyB1bmxlc3MgcHJlZnMubmlsPyB8fCBwcmVmcy5lbXB0eT8KICAgIGlkID0gU2VjdXJlUmFuZG9tLnV1aWQKICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJkZXZpY2VfaWQiLCBpZCkKICAgIGlkCiAgZW5kCgogICMgPT09PT09PT09PT09PSDYp9mE2KrYrdmC2YIg2YXZhiDYqNmK2KfZhtin2Kog2KfZhNin2LnYqtmF2KfYryDYqNin2LPYqtiu2K/Yp9mFIEdpdEh1YiBBUEkgPT09PT09PT09PT09PQogIGRlZiBzZWxmLnZhbGlkYXRlX2NyZWRlbnRpYWxzKGVtYWlsLCBsaWNlbnNlKQogICAgYmVnaW4KICAgICAgdXJpID0gVVJJKFZBTElEQVRJT05fVVJMKQogICAgICByZXEgPSBOZXQ6OkhUVFA6OkdldC5uZXcodXJpKQogICAgICAjINil2LbYp9mB2KkgaGVhZGVycyDZhNmE2KrYudin2YXZhCDZhdi5IEdpdEh1YiBBUEkKICAgICAgcmVxWydBY2NlcHQnXSA9ICdhcHBsaWNhdGlvbi92bmQuZ2l0aHViLnYzK2pzb24nCiAgICAgIHJlcVsnVXNlci1BZ2VudCddID0gJ01IREVTSUdOLVNrZXRjaHVwLVBsdWdpbicKICAgICAgCiAgICAgIHJlc3BvbnNlID0gTmV0OjpIVFRQLnN0YXJ0KHVyaS5ob3N0bmFtZSwgdXJpLnBvcnQsIHVzZV9zc2w6IHRydWUpIGRvIHxodHRwfAogICAgICAgIGh0dHAucmVxdWVzdChyZXEpCiAgICAgIGVuZAogICAgICAKICAgICAgaWYgcmVzcG9uc2UuY29kZSA9PSAnMjAwJwogICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHkpCiAgICAgICAgIyDZgdmDINiq2LTZgdmK2LEg2YXYrdiq2YjZiSBCYXNlNjQg2YXZhiBHaXRIdWIKICAgICAgICBjb250ZW50ID0gQmFzZTY0LmRlY29kZTY0KGRhdGFbJ2NvbnRlbnQnXSkKICAgICAgICB2YWxpZF91c2VycyA9IEpTT04ucGFyc2UoY29udGVudCkKICAgICAgICAKICAgICAgICBwdXRzICLwn5SNINin2YTYqNit2Ksg2LnZhjogI3tlbWFpbH0iICMg2YTZhNiq2LXYrdmK2K0KICAgICAgICBwdXRzICLwn5OLINin2YTZhdiz2KrYrtiv2YXZiNmGINin2YTZhdiq2KfYrdmI2YY6ICN7dmFsaWRfdXNlcnN9IiAjINmE2YTYqti12K3ZititCiAgICAgICAgCiAgICAgICAgdmFsaWRfdXNlcnMuYW55PyB7IHx1c2VyfCAKICAgICAgICAgIHVzZXJbImVtYWlsIl0gPT0gZW1haWwgJiYgdXNlclsicGFzc3dvcmQiXSA9PSBsaWNlbnNlIAogICAgICAgIH0KICAgICAgZWxzZQogICAgICAgIHB1dHMgIuKdjCDYrti32KMg2YHZiiBBUEk6ICN7cmVzcG9uc2UuY29kZX0iICMg2YTZhNiq2LXYrdmK2K0KICAgICAgICBmYWxzZQogICAgICBlbmQKICAgIHJlc2N1ZSA9PiBlCiAgICAgIHB1dHMgIuKdjCDYp9iz2KrYq9mG2KfYoTogI3tlLm1lc3NhZ2V9IiAjINmE2YTYqti12K3ZititCiAgICAgIGZhbHNlCiAgICBlbmQKICBlbmQKCiAgZGVmIHNlbGYuYWN0aXZhdGUoZm9yY2VfcHJvbXB0ID0gdHJ1ZSkKICAgIGVtYWlsID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZW1haWwiKSB8fCAiIgogICAgbGljZW5zZSA9IFNrZXRjaHVwLnJlYWRfZGVmYXVsdChQTFVHSU5fTkFNRSwgImxpY2Vuc2UiKSB8fCAiIgoKICAgICMg2KXYsNinINmD2KfZhiDZhdmB2LHZiNi2INij2Ygg2KfZhNio2YrYp9mG2KfYqiDZgdin2LHYutip2Iwg2KfYt9mE2Kgg2KfZhNil2K/Yrtin2YQKICAgIGlmIGZvcmNlX3Byb21wdCB8fCBlbWFpbC5lbXB0eT8gfHwgbGljZW5zZS5lbXB0eT8KICAgICAgaW5wdXQgPSBVSS5pbnB1dGJveChbItin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiIsICLZg9mE2YXYqSDYp9mE2YXYsdmI2LEiXSwgW2VtYWlsLCBsaWNlbnNlXSwgItiq2YHYudmK2YQgTUhERVNJR04iKQogICAgICByZXR1cm4gdW5sZXNzIGlucHV0CiAgICAgIGVtYWlsLCBsaWNlbnNlID0gaW5wdXQKICAgIGVuZAoKICAgICMg2KfZhNiq2K3ZgtmCINmF2YYg2KjZitin2YbYp9iqINin2YTYp9i52KrZhdin2K8g2LnYqNixIEdpdEh1YiBBUEkKICAgIHZhbGlkX2RhdGEgPSB2YWxpZGF0ZV9jcmVkZW50aWFscyhlbWFpbCwgbGljZW5zZSkKCiAgICBpZiB2YWxpZF9kYXRhCiAgICAgICMg2K3Zgdi4INio2YrYp9mG2KfYqiDYp9mE2KrZgdi52YrZhAogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZW1haWwiLCBlbWFpbCkKICAgICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgImxpY2Vuc2UiLCBsaWNlbnNlKQogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiYWN0aXZhdGVkX29uY2UiLCB0cnVlKQogICAgICBVSS5tZXNzYWdlYm94KCLYqtmFINin2YTYqtmB2LnZitmEINio2YbYrNin2K0hINmK2YXZg9mG2YMg2KfZhNii2YYg2KfYs9iq2K7Yr9in2YUg2KzZhdmK2Lkg2YXZg9mI2YbYp9iqINin2YTZhdmD2KrYqNipLlxu8J+TniAwMTIwNDI3OTYwNiIpCiAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlCiAgICAgICMg2YHYtNmEINin2YTYqtmB2LnZitmECiAgICAgIFVJLm1lc3NhZ2Vib3goItio2YrYp9mG2KfYqiDYp9mE2KrZgdi52YrZhCDYutmK2LEg2LXYrdmK2K3YqS4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSAwMTIwNDI3OTYwNiIpIGlmIGZvcmNlX3Byb21wdAogICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAogIGVuZAoKICBkZWYgc2VsZi5hY3RpdmF0ZWQ/CiAgICBlbWFpbCA9IFNrZXRjaHVwLnJlYWRfZGVmYXVsdChQTFVHSU5fTkFNRSwgImVtYWlsIikKICAgIGxpY2Vuc2UgPSBTa2V0Y2h1cC5yZWFkX2RlZmF1bHQoUExVR0lOX05BTUUsICJsaWNlbnNlIikKICAgICFlbWFpbC50b19zLmVtcHR5PyAmJiAhbGljZW5zZS50b19zLmVtcHR5PwogIGVuZAoKICBkZWYgc2VsZi5zaG93X2xpYnJhcnkKICAgICMgPT09PT09PT09PT09PSDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KrZgdi52YrZhCDYo9mI2YTYp9mLID09PT09PT09PT09PT0KICAgIGVtYWlsID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZW1haWwiKQogICAgbGljZW5zZSA9IFNrZXRjaHVwLnJlYWRfZGVmYXVsdChQTFVHSU5fTkFNRSwgImxpY2Vuc2UiKQogICAgCiAgICBpZiBlbWFpbCAmJiBsaWNlbnNlCiAgICAgICMg2KfZhNiq2K3ZgtmCINmF2YYg2LXYrdipINio2YrYp9mG2KfYqiDYp9mE2KfYudiq2YXYp9ivINmC2KjZhCDZgdiq2K0g2KfZhNmF2YPYqtio2KkKICAgICAgdW5sZXNzIHZhbGlkYXRlX2NyZWRlbnRpYWxzKGVtYWlsLCBsaWNlbnNlKQogICAgICAgIFVJLm1lc3NhZ2Vib3goItio2YrYp9mG2KfYqiDYp9mE2KrZgdi52YrZhCDYutmK2LEg2LXYrdmK2K3YqS4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSAwMTIwNDI3OTYwNiIpCiAgICAgICAgYWN0aXZhdGUodHJ1ZSkKICAgICAgICByZXR1cm4KICAgICAgZW5kCiAgICBlbHNlCiAgICAgICMg2KXYsNinINmE2YUg2KrZg9mGINmH2YbYp9mDINio2YrYp9mG2KfYqtiMINin2LfZhNioINin2YTYqtmB2LnZitmECiAgICAgIHVubGVzcyBhY3RpdmF0ZShmYWxzZSkKICAgICAgICBhY3RpdmF0ZSh0cnVlKQogICAgICAgIHJldHVybgogICAgICBlbmQKICAgIGVuZAogICAgIyA9PT09PT09PT09PT09INmG2YfYp9mK2Kkg2KfZhNiq2K3ZgtmCID09PT09PT09PT09PT0KCiAgICBkbGcgPSBVSTo6SHRtbERpYWxvZy5uZXcoewogICAgICA6ZGlhbG9nX3RpdGxlID0+ICLZhdmD2KrYqNipINmF2YPZiNmG2KfYqiBNSERFU0lHTiIsCiAgICAgIDpwcmVmZXJlbmNlc19rZXkgPT4gIm1oZGVzaWduX2xpYnJhcnkiLAogICAgICA6c2Nyb2xsYWJsZSA9PiB0cnVlLAogICAgICA6cmVzaXphYmxlID0+IHRydWUsCiAgICAgIDp3aWR0aCA9PiA4MDAsCiAgICAgIDpoZWlnaHQgPT4gNjUwCiAgICB9KQoKICAgIGNhdGVnb3JpZXMgPSBDT01QT05FTlRTLm1hcCB7IHxjfCBjWzpjYXRlZ29yeV0gfS51bmlxCgogICAgaHRtbCA9IDw8LUhUTUwKICAgIDxodG1sPjxoZWFkPgogICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9VGFqYXdhbDp3Z2h0QDQwMDs3MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgogICAgICA8c3R5bGU+CiAgICAgICAgYm9keSB7Zm9udC1mYW1pbHk6J1RhamF3YWwnLHNhbnMtc2VyaWY7bWFyZ2luOjA7YmFja2dyb3VuZDojZjlmOWY5O3BhZGRpbmc6MCAyMHB4IDQwcHg7ZGlyZWN0aW9uOnJ0bDt9CiAgICAgICAgaGVhZGVyIHtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3BhZGRpbmc6MjBweCAwO30KICAgICAgICBoZWFkZXIgaW1nIHtoZWlnaHQ6NTBweDtib3JkZXItcmFkaXVzOjUwJTt9CiAgICAgICAgaGVhZGVyIGgyIHttYXJnaW46MDtmb250LXNpemU6MjRweDtjb2xvcjojMmU3ZDMyO30KICAgICAgICAubWVudS10b2dnbGUge2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToyOHB4O3VzZXItc2VsZWN0Om5vbmU7fQogICAgICAgIC5maWx0ZXIge2Rpc3BsYXk6bm9uZTttYXJnaW4tYm90dG9tOjIwcHg7fQogICAgICAgIC5maWx0ZXIgc2VsZWN0IHtmb250LXNpemU6MTZweDtwYWRkaW5nOjZweCAxMHB4O2JvcmRlci1yYWRpdXM6NnB4O2JvcmRlcjoxcHggc29saWQgI2NjYzt9CiAgICAgICAgLmdyaWQge2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZmlsbCxtaW5tYXgoMjAwcHgsMWZyKSk7Z2FwOjIwcHg7fQogICAgICAgIC5jYXJkIHtiYWNrZ3JvdW5kOndoaXRlO2JvcmRlci1yYWRpdXM6MTJweDtwYWRkaW5nOjEycHg7Ym94LXNoYWRvdzowIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4wOCk7dGV4dC1hbGlnbjpjZW50ZXI7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4zcyBlYXNlLGJveC1zaGFkb3cgMC4zcyBlYXNlO30KICAgICAgICAuY2FyZDpob3ZlciB7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCk7Ym94LXNoYWRvdzowIDhweCAyMHB4IHJnYmEoMCwwLDAsMC4xMik7fQogICAgICAgIGltZy5jb21wb25lbnQtaW1nIHt3aWR0aDoxMDAlO2hlaWdodDoyMDBweDtvYmplY3QtZml0OmNvdmVyO2JvcmRlci1yYWRpdXM6OHB4O30KICAgICAgICBoNCB7bWFyZ2luOjEwcHggMCA1cHg7Zm9udC1zaXplOjE3cHg7Y29sb3I6IzMzMzt9CiAgICAgICAgcCB7Zm9udC1zaXplOjEzcHg7Y29sb3I6IzY2NjttYXJnaW46MDt9CiAgICAgICAgYnV0dG9uIHttYXJnaW4tdG9wOjEwcHg7cGFkZGluZzo2cHggMTRweDtiYWNrZ3JvdW5kOiM0M2EwNDc7Y29sb3I6d2hpdGU7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czo1cHg7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDAuM3M7fQogICAgICAgIGJ1dHRvbjpob3ZlciB7YmFja2dyb3VuZDojMmU3ZDMyO30KICAgICAgICBmb290ZXIge21hcmdpbi10b3A6NDBweDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MTJweDtjb2xvcjojOTk5O30KICAgICAgPC9zdHlsZT4KICAgIDwvaGVhZD4KICAgIDxib2R5IG9uY29udGV4dG1lbnU9InJldHVybiBmYWxzZSI+CiAgICAgIDxoZWFkZXI+CiAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vbWFobW91ZGRlc2lnbi5jb20vU0tFVENIVVAvY29tcG9uZW50cy9sb2dvLmpwZWciIGFsdD0iTG9nbyIgLz4KICAgICAgICA8aDI+2YXZg9iq2KjYqSDZhdmD2YjZhtin2KogTUhERVNJR048L2gyPgogICAgICAgIDxkaXYgY2xhc3M9Im1lbnUtdG9nZ2xlIiBvbmNsaWNrPSJ0b2dnbGVNZW51KCkiPuKYsDwvZGl2PgogICAgICA8L2hlYWRlcj4KCiAgICAgIDxkaXYgY2xhc3M9ImZpbHRlciIgaWQ9ImZpbHRlci1ib3giPgogICAgICAgIDxsYWJlbD4KICAgICAgICAgIPCfl4LvuI8g2KfZhNiq2LXZhtmK2YHYp9iqOgogICAgICAgICAgPHNlbGVjdCBpZD0iY2F0ZWdvcnkiIG9uY2hhbmdlPSJmaWx0ZXJDb21wb25lbnRzKCkiPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbGwiPtin2YTZg9mEPC9vcHRpb24+CiAgICAgICAgICAgICN7Y2F0ZWdvcmllcy5tYXAgeyB8Y2F0fCAiPG9wdGlvbiB2YWx1ZT0nI3tjYXR9Jz4je2NhdH08L29wdGlvbj4iIH0uam9pbn0KICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgIDwvbGFiZWw+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBpZD0iY29tcG9uZW50cyIgY2xhc3M9ImdyaWQiPjwvZGl2PgoKICAgICAgPGZvb3Rlcj4KICAgICAgICDYqtmFINiq2LXZhdmK2YUg2YjYqti32YjZitixINmF2YPYqtio2KkgTUhERVNJR04g2KjZiNin2LPYt9ipIDxiPk1BUldBTiBBREVMIDwvYj4g2YTYqtiz2YfZitmEINi52YXZhNmK2Kkg2KfZhNiq2LXZhdmK2YUg2KfZhNiv2KfYrtmE2Yog2KjYp9iz2KrYrtiv2KfZhSDYqNix2YbYp9mF2Kwg2LPZg9iq2LQg2KPYqC48YnI+CiAgICAgICAg8J+TniDZhNmE2KrZiNin2LXZhDogPGI+MDEyMDQyNzk2MDY8L2I+PGJyPgogICAgICAgINiq2YUg2KrYt9mI2YrYsSDYp9mE2YbYuNin2YUg2KjZiNin2LPYt9ipINmF2LHZiNin2YYg2LnYp9iv2YQgLSAwMTIwNDI3OTYwNgogICAgICA8L2Zvb3Rlcj4KCiAgICAgIDxzY3JpcHQ+CmZ1bmN0aW9uIGxvYWRDb21wb25lbnQoY29tcCl7c2tldGNodXAubG9hZENvbXBvbmVudEJ5RGF0YShKU09OLnN0cmluZ2lmeShjb21wKSk7fQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGU9PmUucHJldmVudERlZmF1bHQoKSk7CmNvbnN0IGFsbENvbXBvbmVudHM9I3tDT01QT05FTlRTLnRvX2pzb259OwpmdW5jdGlvbiByZW5kZXIoYyl7bGV0IGg9IiI7Yy5mb3JFYWNoKHg9PntoKz1gPGRpdiBjbGFzcz0iY2FyZCI+PGltZyBjbGFzcz0iY29tcG9uZW50LWltZyIgc3JjPSIke3guaW1hZ2V9IiAvPjxoND4ke3gubmFtZX08L2g0PjxwPiR7eC5kZXNjfTwvcD48YnV0dG9uIG9uY2xpY2s9J2xvYWRDb21wb25lbnQoJHtKU09OLnN0cmluZ2lmeSh4KX0pJz7Ypdiv2LHYp9isPC9idXR0b24+PC9kaXY+YH0pO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb21wb25lbnRzIikuaW5uZXJIVE1MPWg7fQpmdW5jdGlvbiBmaWx0ZXJDb21wb25lbnRzKCl7Y29uc3QgY2F0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXRlZ29yeSIpLnZhbHVlO2lmKGNhdD09PSJhbGwiKXJlbmRlcihhbGxDb21wb25lbnRzKTtlbHNlIHJlbmRlcihhbGxDb21wb25lbnRzLmZpbHRlcihjPT5jLmNhdGVnb3J5PT09Y2F0KSk7fQpmdW5jdGlvbiB0b2dnbGVNZW51KCl7Y29uc3QgYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyLWJveCIpO2Iuc3R5bGUuZGlzcGxheT0oYi5zdHlsZS5kaXNwbGF5PT09ImJsb2NrIik/Im5vbmUiOiJibG9jayI7fQp3aW5kb3cub25sb2FkPSgpPT5maWx0ZXJDb21wb25lbnRzKCk7CiAgICAgIDwvc2NyaXB0PgogICAgPC9ib2R5PjwvaHRtbD4KICAgIEhUTUwKCiAgICBkbGcuc2V0X2h0bWwoaHRtbCkKCmRsZy5hZGRfYWN0aW9uX2NhbGxiYWNrKCJsb2FkQ29tcG9uZW50QnlEYXRhIikgZG8gfF8sIGNvbXBfanNvbnwKICBjb21wID0gSlNPTi5wYXJzZShjb21wX2pzb24sIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICB1cmwgPSBVUkkucGFyc2UoY29tcFs6dXJsXSkKICBoYXNoX25hbWUgPSBEaWdlc3Q6OlNIQTI1Ni5oZXhkaWdlc3QodXJsLnRvX3MpWzAuLjE2XSArICIuc2twIgogIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgRmlsZVV0aWxzLm1rZGlyX3AoY2FjaGVfZGlyKQogIGxvY2FsX3BhdGggPSBGaWxlLmpvaW4oY2FjaGVfZGlyLCBoYXNoX25hbWUpCgogIHVubGVzcyBGaWxlLmV4aXN0Pyhsb2NhbF9wYXRoKQogICAgcHJvZ3Jlc3MgPSBVSTo6SHRtbERpYWxvZy5uZXcoewogICAgICA6ZGlhbG9nX3RpdGxlID0+ICLYrNin2LHZiiDYqtit2YXZitmEINin2YTZhdmD2YjZhi4uLiIsCiAgICAgIDpwcmVmZXJlbmNlc19rZXkgPT4gIm1oZGVzaWduX3Byb2dyZXNzIiwKICAgICAgOnNjcm9sbGFibGUgPT4gZmFsc2UsCiAgICAgIDpyZXNpemFibGUgPT4gZmFsc2UsCiAgICAgIDp3aWR0aCA9PiAzMDAsCiAgICAgIDpoZWlnaHQgPT4gMTUwCiAgICB9KQoKICAgIHByb2dyZXNzLnNldF9odG1sIDw8LUhUTUwKICAgICAgPGh0bWw+PGhlYWQ+CiAgICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICAgIDxzdHlsZT4KICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ1RhamF3YWwnLCBzYW5zLXNlcmlmOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMDsgcGFkZGluZzogMjBweDsgZGlyZWN0aW9uOiBydGw7IH0KICAgICAgICAgIGgzIHsgbWFyZ2luOiAxMHB4IDA7IH0KICAgICAgICAgICNwcm9ncmVzcy1iYXIgeyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kOiAjZGRkOyBib3JkZXItcmFkaXVzOiAxMHB4OyBvdmVyZmxvdzogaGlkZGVuOyBtYXJnaW4tdG9wOiAxMHB4OyB9CiAgICAgICAgICAjcHJvZ3Jlc3MtZmlsbCB7IGhlaWdodDogMTAwJTsgd2lkdGg6IDAlOyBiYWNrZ3JvdW5kOiAjNGNhZjUwOyB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzIGVhc2U7IH0KICAgICAgICAgICNwZXJjZW50IHsgbWFyZ2luLXRvcDogOHB4OyBmb250LXNpemU6IDE0cHg7IH0KICAgICAgICA8L3N0eWxlPgogICAgICA8L2hlYWQ+PGJvZHk+CiAgICAgICAgPGgzPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGLi4uPC9oMz4KICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzcy1iYXIiPjxkaXYgaWQ9InByb2dyZXNzLWZpbGwiPjwvZGl2PjwvZGl2PgogICAgICAgIDxkaXYgaWQ9InBlcmNlbnQiPjAlPC9kaXY+CiAgICAgIDwvYm9keT48L2h0bWw+CiAgICBIVE1MCgogICAgcHJvZ3Jlc3Muc2hvdwoKICAgIFVJLnN0YXJ0X3RpbWVyKDAuMywgZmFsc2UpIGRvCiAgICAgIGJlZ2luCiAgICAgICAgY29udGVudF9sZW5ndGggPSBuaWwKICAgICAgICB0ZW1wZmlsZSA9IFRlbXBmaWxlLm5ldygibWhjb21wb25lbnQiKQoKICAgICAgICBVUkkub3Blbih1cmwsCiAgICAgICAgICBjb250ZW50X2xlbmd0aF9wcm9jOiAtPihsZW4pIHsgY29udGVudF9sZW5ndGggPSBsZW4gfSwKICAgICAgICAgIHByb2dyZXNzX3Byb2M6IC0+KGJ5dGVzKSB7CiAgICAgICAgICAgIHBlcmNlbnQgPSBjb250ZW50X2xlbmd0aCA/ICgoYnl0ZXMudG9fZiAvIGNvbnRlbnRfbGVuZ3RoKSAqIDEwMCkudG9faSA6IDAKICAgICAgICAgICAgcHJvZ3Jlc3MuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy1maWxsJykuc3R5bGUud2lkdGggPSAnI3twZXJjZW50fSUnIikKICAgICAgICAgICAgcHJvZ3Jlc3MuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJjZW50JykuaW5uZXJUZXh0ID0gJyN7cGVyY2VudH0lJyIpCiAgICAgICAgICB9CiAgICAgICAgKSBkbyB8cmVtb3RlX2ZpbGV8CiAgICAgICAgICBJTy5jb3B5X3N0cmVhbShyZW1vdGVfZmlsZSwgdGVtcGZpbGUpCiAgICAgICAgZW5kCgogICAgICAgIHRlbXBmaWxlLmNsb3NlCiAgICAgICAgRmlsZVV0aWxzLm12KHRlbXBmaWxlLnBhdGgsIGxvY2FsX3BhdGgpCiAgICAgICAgcHJvZ3Jlc3MuY2xvc2UgaWYgcHJvZ3Jlc3MudmlzaWJsZT8KCiAgICAgICAgaWYgRmlsZS5leGlzdD8obG9jYWxfcGF0aCkgJiYgRmlsZS5zaXplKGxvY2FsX3BhdGgpID4gMAogICAgICAgICAgZGVmaW5pdGlvbiA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5kZWZpbml0aW9ucy5sb2FkKGxvY2FsX3BhdGgsIGFsbG93X25ld2VyOiB0cnVlKQogICAgICAgICAgaWYgZGVmaW5pdGlvbgogICAgICAgICAgICBpbnN0YW5jZSA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5wbGFjZV9jb21wb25lbnQoZGVmaW5pdGlvbikKICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4pyTINiq2YUg2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYg2KjZhtis2KfYrSIpIHVubGVzcyBpbnN0YW5jZQogICAgICAgICAgZWxzZQogICAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2YHYtNmEINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYiKQogICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmE2YUg2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNmF2YTZgSIpCiAgICAgICAgZW5kCgogICAgICByZXNjdWUgPT4gZQogICAgICAgIHRlbXBmaWxlLmNsb3NlIGlmIHRlbXBmaWxlCiAgICAgICAgdGVtcGZpbGUudW5saW5rIGlmIHRlbXBmaWxlCiAgICAgICAgcHJvZ3Jlc3MuY2xvc2UgaWYgcHJvZ3Jlc3MudmlzaWJsZT8KICAgICAgICBVSS5tZXNzYWdlYm94KCLimqAg2K3Yr9irINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGOiAje2UubWVzc2FnZX0iKQogICAgICBlbmQKICAgIGVuZAogIGVsc2UKICAgIGJlZ2luCiAgICAgIGlmIEZpbGUuZXhpc3Q/KGxvY2FsX3BhdGgpICYmIEZpbGUuc2l6ZShsb2NhbF9wYXRoKSA+IDAKICAgICAgICBkZWZpbml0aW9uID0gU2tldGNodXAuYWN0aXZlX21vZGVsLmRlZmluaXRpb25zLmxvYWQobG9jYWxfcGF0aCwgYWxsb3dfbmV3ZXI6IHRydWUpCiAgICAgICAgaWYgZGVmaW5pdGlvbgogICAgICAgICAgaW5zdGFuY2UgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwucGxhY2VfY29tcG9uZW50KGRlZmluaXRpb24pCiAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinJMg2KrZhSDYqtit2YXZitmEINin2YTZhdmD2YjZhiDYqNmG2KzYp9itIikgdW5sZXNzIGluc3RhbmNlCiAgICAgICAgZWxzZQogICAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmB2LTZhCDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGIikKICAgICAgICBlbmQKICAgICAgZWxzZQogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYp9mE2YXZhNmBINi62YrYsSDZhdmI2KzZiNivINij2Ygg2YHYp9ix2LoiKQogICAgICBlbmQKICAgIHJlc2N1ZSA9PiBlCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKaoCDYrdiv2Ksg2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YY6ICN7ZS5tZXNzYWdlfSIpCiAgICBlbmQKICBlbmQKZW5kCgpkbGcuYWRkX2FjdGlvbl9jYWxsYmFjaygiY2xlYXJDb21wb25lbnRDYWNoZSIpIGRvIHxffAogIGJlZ2luCiAgICBjYWNoZV9kaXIgPSBGaWxlLmpvaW4oRGlyLnRtcGRpciwgIm1oZGVzaWduX2NhY2hlXzEiKQogICAgaWYgRmlsZS5kaXJlY3Rvcnk/KGNhY2hlX2RpcikKICAgICAgRmlsZVV0aWxzLnJtX3JmKGNhY2hlX2RpcikKICAgIGVuZAogICAgVUkubWVzc2FnZWJveCgi4pyTINiq2YUg2YXYs9itINiw2KfZg9ix2Kkg2KfZhNiq2K7YstmK2YYg2KfZhNmF2KTZgtiqLiIpCiAgcmVzY3VlID0+IGUKICAgIFVJLm1lc3NhZ2Vib3goIuKaoCDYrdiv2Ksg2K7Yt9ijINmB2Yog2YXYs9itINin2YTYsNin2YPYsdipOiAje2UubWVzc2FnZX0iKQogIGVuZAplbmQKZGxnLnNob3cKICBlbmQKCiAgdW5sZXNzIGZpbGVfbG9hZGVkPyhfX0ZJTEVfXykKICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgiI3tQTFVHSU5fTkFNRX0gLSDYp9mE2YXZg9iq2KjYqSIpIHsgc2hvd19saWJyYXJ5IH0KICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgiI3tQTFVHSU5fTkFNRX0gLSDYsdmC2YUg2KfZhNis2YfYp9iyIikgeyBVSS5tZXNzYWdlYm94KCLwn5OxINix2YLZhSDYp9mE2KzZh9in2LI6XG4iICsgZ2V0X2RldmljZV9pZCkgfQogICAgVUkubWVudSgiUGx1Z2lucyIpLmFkZF9pdGVtKCJNSERFU0lHTiAtINmF2LPYrSDYp9mE2LDYp9mD2LHYqSDYp9mE2YXYpNmC2KrYqSIpIGRvCiAgICAgIGNhY2hlX2RpciA9IEZpbGUuam9pbihEaXIudG1wZGlyLCAibWhkZXNpZ25fY2FjaGVfMSIpCiAgICAgIGlmIEZpbGUuZGlyZWN0b3J5PyhjYWNoZV9kaXIpCiAgICAgICAgRmlsZVV0aWxzLnJtX3JmKGNhY2hlX2RpcikKICAgICAgZW5kCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKckyDYqtmFINmF2LPYrSDYsNin2YPYsdipINin2YTYqtiu2LLZitmGINin2YTZhdik2YLYqi4iKQogICAgZW5kCgogICAgdG9vbGJhciA9IFVJOjpUb29sYmFyLm5ldyhQTFVHSU5fTkFNRSkKICAgIGNtZCA9IFVJOjpDb21tYW5kLm5ldygi2YXZg9iq2KjYqSAje1BMVUdJTl9OQU1FfSIpIHsgc2hvd19saWJyYXJ5IH0KCiAgICBpY29uX3BhdGggPSBGaWxlLmpvaW4oUExVR0lOX0RJUiwgImljb24ucG5nIikgcmVzY3VlIG5pbAogICAgaWYgRmlsZS5leGlzdD8oaWNvbl9wYXRoKQogICAgICBjbWQuc21hbGxfaWNvbiA9IGljb25fcGF0aAogICAgICBjbWQubGFyZ2VfaWNvbiA9IGljb25fcGF0aAogICAgZW5kCiAgICBjbWQudG9vbHRpcCA9ICLZgdiq2K0g2YXZg9iq2KjYqSDZhdmD2YjZhtin2KogTUhERVNJR04iCiAgICB0b29sYmFyLmFkZF9pdGVtKGNtZCkKCiAgICBjbWRfdW5pcXVlID0gVUk6OkNvbW1hbmQubmV3KCLYrNi52YQg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipIikgewogICAgICBtb2R1bGUgTUhERVNJR05fVU5JUVVJRlkKICAgICAgICBkZWYgc2VsZi5tYWtlX2FsbF9jb21wb25lbnRzX3VuaXF1ZShlbnRpdGllcykKICAgICAgICAgIGVudGl0aWVzLmdyZXAoU2tldGNodXA6OkNvbXBvbmVudEluc3RhbmNlKS5lYWNoIGRvIHxpbnN0YW5jZXwKICAgICAgICAgICAgaW5zdGFuY2UubWFrZV91bmlxdWUKICAgICAgICAgICAgbWFrZV9hbGxfY29tcG9uZW50c191bmlxdWUoaW5zdGFuY2UuZGVmaW5pdGlvbi5lbnRpdGllcykKICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIGRlZiBzZWxmLm1ha2VfZGVmaW5pdGlvbnNfdW5pcXVlCiAgICAgICAgICBtb2RlbCA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbAogICAgICAgICAgbW9kZWwuZGVmaW5pdGlvbnMuZWFjaCBkbyB8ZGVmaW5pdGlvbnwKICAgICAgICAgICAgbmV4dCBpZiBkZWZpbml0aW9uLmdyb3VwPyB8fCBkZWZpbml0aW9uLmltYWdlPwogICAgICAgICAgICBkZWZpbml0aW9uLmluc3RhbmNlcy5lYWNoIGRvIHxpbnN0YW5jZXwKICAgICAgICAgICAgICBpbnN0YW5jZS5tYWtlX3VuaXF1ZQogICAgICAgICAgICAgIG1ha2VfYWxsX2NvbXBvbmVudHNfdW5pcXVlKGluc3RhbmNlLmRlZmluaXRpb24uZW50aXRpZXMpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgZGVmIHNlbGYucnVuX3VuaXF1aWZ5CiAgICAgICAgICBtb2RlbCA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbAogICAgICAgICAgbW9kZWwuc3RhcnRfb3BlcmF0aW9uKCLYrNi52YQg2KzZhdmK2Lkg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipIiwgdHJ1ZSkKICAgICAgICAgIG1ha2VfYWxsX2NvbXBvbmVudHNfdW5pcXVlKG1vZGVsLmVudGl0aWVzKQogICAgICAgICAgbWFrZV9kZWZpbml0aW9uc191bmlxdWUKICAgICAgICAgIG1vZGVsLmNvbW1pdF9vcGVyYXRpb24KICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKckyDYqtmFINis2LnZhCDYrNmF2YrYuSDYp9mE2YXZg9mI2YbYp9iqINmB2LHZitiv2KkuIikKICAgICAgICBlbmQKICAgICAgZW5kCiAgICAgIE1IREVTSUdOX1VOSVFVSUZZLnJ1bl91bmlxdWlmeQogICAgfQogICAgdW5pcXVlX2ljb25fcGF0aCA9IEZpbGUuam9pbihQTFVHSU5fRElSLCAidW5pcXVlX2ljb24ucG5nIikgcmVzY3VlIG5pbAogICAgaWYgRmlsZS5leGlzdD8odW5pcXVlX2ljb25fcGF0aCkKICAgICAgY21kX3VuaXF1ZS5zbWFsbF9pY29uID0gdW5pcXVlX2ljb25fcGF0aAogICAgICBjbWRfdW5pcXVlLmxhcmdlX2ljb24gPSB1bmlxdWVfaWNvbl9wYXRoCiAgICBlbmQKICAgIGNtZF91bmlxdWUudG9vbHRpcCA9ICLYrNi52YQg2KzZhdmK2Lkg2KfZhNmF2YPZiNmG2KfYqiDZgdix2YrYr9ipINmB2Yog2KfZhNmG2YXZiNiw2KwiCiAgICB0b29sYmFyLmFkZF9pdGVtKGNtZF91bmlxdWUpCgogICAgdG9vbGJhci5yZXN0b3JlCiAgICBmaWxlX2xvYWRlZChfX0ZJTEVfXykKICBlbmQKZW5k"
}
