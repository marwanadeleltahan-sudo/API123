{
  "main_code": "cmVxdWlyZSAnc2tldGNodXAucmInCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICd1cmknCnJlcXVpcmUgJ2pzb24nCnJlcXVpcmUgJ29wZW4tdXJpJwpyZXF1aXJlICd0bXBkaXInCnJlcXVpcmUgJ2Jhc2U2NCcKcmVxdWlyZSAndGVtcGZpbGUnCnJlcXVpcmUgJ2RpZ2VzdCcKcmVxdWlyZSAnZmlsZXV0aWxzJwoKbW9kdWxlIE1IREVTSUdOCiAgUExVR0lOX05BTUUgPSAiTUhERVNJR04iCiAgQVBJX1VSTCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbWFyd2FuYWRlbGVsdGFoYW4tc3Vkby9BUEkxMjMvcmVmcy9oZWFkcy9tYWluL2VtYWlsLmpzb24iCgogIENPTVBPTkVOVFMgPSBiZWdpbgogICAgdXJsID0gImh0dHBzOi8vbWFobW91ZGRlc2lnbi5jb20vU0tFVENIVVAvY29tcG9uZW50cy1WNC5qc29uIgogICAganNvbl9yYXcgPSBVUkkub3Blbih1cmwpLnJlYWQKICAgIGpzb25fZGF0YSA9IEpTT04ucGFyc2UoanNvbl9yYXcpCiAgICBkZWNvZGVkX2pzb24gPSBCYXNlNjQuZGVjb2RlNjQoanNvbl9kYXRhWyJkYXRhIl0pCiAgICBKU09OLnBhcnNlKGRlY29kZWRfanNvbiwgc3ltYm9saXplX25hbWVzOiB0cnVlKQogIHJlc2N1ZSA9PiBlCiAgICBVSS5tZXNzYWdlYm94KCLinYwg2K3Yr9irINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPYqtio2Kk6ICN7ZS5tZXNzYWdlfSIpCiAgICBbXQogIGVuZAoKICAjID09PSDZhti42KfZhSDYp9mE2KrZgdi52YrZhCDYp9mE2LDZg9mKID09PQogIGRlZiBzZWxmLmFjdGl2YXRlKGZvcmNlX3Byb21wdCA9IGZhbHNlKQogICAgIyDYp9mE2KrYrdmC2YIg2YXZhiDZiNis2YjYryDYqNmK2KfZhtin2Kog2YXYs9is2YTYqSDZhdiz2KjZgtin2YsKICAgIHNhdmVkX2VtYWlsID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAic2F2ZWRfZW1haWwiKSB8fCAiIgogICAgc2F2ZWRfcGFzc3dvcmQgPSBTa2V0Y2h1cC5yZWFkX2RlZmF1bHQoUExVR0lOX05BTUUsICJzYXZlZF9wYXNzd29yZCIpIHx8ICIiCiAgICBsYXN0X2FwaV9oYXNoID0gU2tldGNodXAucmVhZF9kZWZhdWx0KFBMVUdJTl9OQU1FLCAibGFzdF9hcGlfaGFzaCIpIHx8ICIiCiAgICAKICAgICMg2K3Ys9in2Kgg2YfYp9i0INin2YTZgCBBUEkg2KfZhNit2KfZhNmKINmE2YTYqtit2YLZgiDZhdmGINin2YTYqti62YrZitix2KfYqgogICAgY3VycmVudF9hcGlfaGFzaCA9IGdldF9hcGlfaGFzaAogICAgCiAgICAjINil2LDYpyDZg9in2YbYqiDYp9mE2KjZitin2YbYp9iqINmF2LPYrNmE2Kkg2YjYp9mE2YAgQVBJINmE2YUg2YrYqti62YrYsdiMINmG2KrYrdmC2YIg2YXZhtmH2KcKICAgIGlmICFzYXZlZF9lbWFpbC5lbXB0eT8gJiYgIXNhdmVkX3Bhc3N3b3JkLmVtcHR5PyAmJiBsYXN0X2FwaV9oYXNoID09IGN1cnJlbnRfYXBpX2hhc2gKICAgICAgdmFsaWQgPSBjaGVja19jcmVkZW50aWFscyhzYXZlZF9lbWFpbCwgc2F2ZWRfcGFzc3dvcmQpCiAgICAgIGlmIHZhbGlkCiAgICAgICAgcmV0dXJuIHRydWUgIyDYp9mE2KjZitin2YbYp9iqINi12K3Zitit2Kkg2YjZhNinINiv2KfYudmKINmE2KXYudin2K/YqSDYp9mE2K/YrtmI2YQKICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgIyDYpdiw2Kcg2YjYtdmE2YbYpyDZh9mG2KfYjCDZiti52YbZiiDZhNin2LLZhSDZhtiv2K7ZhCDYp9mE2KjZitin2YbYp9iqCiAgICBlbWFpbCA9ICIiCiAgICBwYXNzd29yZCA9ICIiCiAgICAKICAgICMg2LfZhNioINin2YTYqNmK2KfZhtin2Kog2YXZhiDYp9mE2YXYs9iq2K7Yr9mFCiAgICBpbnB1dCA9IFVJLmlucHV0Ym94KFsi2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKIiwgItmD2YTZhdipINin2YTZhdix2YjYsSJdLCBbZW1haWwsIHBhc3N3b3JkXSwgItiq2YHYudmK2YQgTUhERVNJR04iKQogICAgcmV0dXJuIGZhbHNlIHVubGVzcyBpbnB1dAogICAgZW1haWwsIHBhc3N3b3JkID0gaW5wdXQKCiAgICAjINin2YTYqtit2YLZgiDZhdmGINin2YTYqNmK2KfZhtin2Kog2LnYqNixIEFQSQogICAgdmFsaWQgPSBjaGVja19jcmVkZW50aWFscyhlbWFpbCwgcGFzc3dvcmQpCiAgICAKICAgIGlmIHZhbGlkCiAgICAgICMg2K3Zgdi4INin2YTYqNmK2KfZhtin2Kog2YjYp9mE2YfYp9i0INin2YTYrNiv2YrYrwogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAic2F2ZWRfZW1haWwiLCBlbWFpbCkKICAgICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgInNhdmVkX3Bhc3N3b3JkIiwgcGFzc3dvcmQpCiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJsYXN0X2FwaV9oYXNoIiwgY3VycmVudF9hcGlfaGFzaCkKICAgICAgCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDZhdio2LHZiNmDINmK2Kcg2YfZhtiv2LPYqSDYp9mE2KXYttin2YHYqSDYtNi62KfZhNipXG7YqtmFINio2LHZhdis2Kkg2KfZhNil2LbYp9mB2Kkg2KjZiNin2LPYt9ipINmF2YfZhtiv2LMg2YXYsdmI2KfZhiDYudin2K/ZhCIpCiAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYp9mE2KjZitin2YbYp9iqINi62YTYtyDYrdin2YjZhCDZhdix2Kkg2KrYp9mG2YrYqSDZitinINmH2YbYr9iz2Kkg2KfZiCDZg9mE2YUgMDEyMDQyNzk2MDYiKQogICAgICAjINmF2LPYrSDYp9mE2KjZitin2YbYp9iqINin2YTZhdit2YHZiNi42Kkg2KXYsNinINmD2KfZhtiqINiu2KfYt9im2KkKICAgICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgInNhdmVkX2VtYWlsIiwgIiIpCiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJzYXZlZF9wYXNzd29yZCIsICIiKQogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAibGFzdF9hcGlfaGFzaCIsICIiKQogICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAogIHJlc2N1ZSA9PiBlCiAgICBVSS5tZXNzYWdlYm94KCLimqDvuI8g2K3Yr9irINiu2LfYoyDZgdmKINin2YTYqtit2YLZgjogI3tlLm1lc3NhZ2V9IikKICAgIHJldHVybiBmYWxzZQogIGVuZAoKICAjINiv2KfZhNipINmE2K3Ys9in2Kgg2YfYp9i0INin2YTZgCBBUEkg2YTZhNmD2LTZgSDYudmGINin2YTYqti62YrZitix2KfYqgogIGRlZiBzZWxmLmdldF9hcGlfaGFzaAogICAgYmVnaW4KICAgICAgdXJpID0gVVJJKEFQSV9VUkwpCiAgICAgIGh0dHAgPSBOZXQ6OkhUVFAubmV3KHVyaS5ob3N0LCB1cmkucG9ydCkKICAgICAgaHR0cC51c2Vfc3NsID0gdHJ1ZSBpZiB1cmkuc2NoZW1lID09ICdodHRwcycKICAgICAgaHR0cC5vcGVuX3RpbWVvdXQgPSA1CiAgICAgIGh0dHAucmVhZF90aW1lb3V0ID0gNQogICAgICAKICAgICAgcmVxdWVzdCA9IE5ldDo6SFRUUDo6R2V0Lm5ldyh1cmkpCiAgICAgIHJlc3BvbnNlID0gaHR0cC5yZXF1ZXN0KHJlcXVlc3QpCiAgICAgIAogICAgICBpZiByZXNwb25zZS5pc19hPyhOZXQ6OkhUVFBTdWNjZXNzKQogICAgICAgICMg2K3Ys9in2Kgg2YfYp9i0INmE2YTZhdit2KrZiNmJINmE2YTZg9i02YEg2LnZhiDYp9mE2KrYutmK2YrYsdin2KoKICAgICAgICByZXR1cm4gRGlnZXN0OjpTSEEyNTYuaGV4ZGlnZXN0KHJlc3BvbnNlLmJvZHkpCiAgICAgIGVsc2UKICAgICAgICByZXR1cm4gImVycm9yIgogICAgICBlbmQKICAgIHJlc2N1ZQogICAgICByZXR1cm4gImVycm9yIgogICAgZW5kCiAgZW5kCgogIGRlZiBzZWxmLmNoZWNrX2NyZWRlbnRpYWxzKGVtYWlsLCBwYXNzd29yZCkKICAgIGJlZ2luCiAgICAgICMg2KrZhti42YrZgSDYp9mE2KjZitin2YbYp9iqINmF2YYg2KfZhNmF2LPYp9mB2KfYqgogICAgICBlbWFpbCA9IGVtYWlsLnRvX3Muc3RyaXAKICAgICAgcGFzc3dvcmQgPSBwYXNzd29yZC50b19zLnN0cmlwCiAgICAgIAogICAgICAjINin2YTYqtit2YLZgiDZhdmGINij2YYg2KfZhNit2YLZiNmEINi62YrYsSDZgdin2LHYutipCiAgICAgIGlmIGVtYWlsLmVtcHR5PyB8fCBwYXNzd29yZC5lbXB0eT8KICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2YrYrNioINmF2YTYoSDYrNmF2YrYuSDYp9mE2K3ZgtmI2YQiKQogICAgICAgIHJldHVybiBmYWxzZQogICAgICBlbmQKICAgICAgCiAgICAgIHVyaSA9IFVSSShBUElfVVJMKQogICAgICBodHRwID0gTmV0OjpIVFRQLm5ldyh1cmkuaG9zdCwgdXJpLnBvcnQpCiAgICAgIGh0dHAudXNlX3NzbCA9IHRydWUgaWYgdXJpLnNjaGVtZSA9PSAnaHR0cHMnCiAgICAgIGh0dHAub3Blbl90aW1lb3V0ID0gMTAKICAgICAgaHR0cC5yZWFkX3RpbWVvdXQgPSAxMAogICAgICAKICAgICAgcmVxdWVzdCA9IE5ldDo6SFRUUDo6R2V0Lm5ldyh1cmkpCiAgICAgIHJlc3BvbnNlID0gaHR0cC5yZXF1ZXN0KHJlcXVlc3QpCiAgICAgIAogICAgICBpZiByZXNwb25zZS5pc19hPyhOZXQ6OkhUVFBTdWNjZXNzKQogICAgICAgIHZhbGlkX3VzZXJzID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KQogICAgICAgIAogICAgICAgICMg2KfZhNio2K3YqyDYudmGINin2YTZhdiz2KrYrtiv2YUg2KfZhNmF2LfYp9io2YIKICAgICAgICB2YWxpZCA9IHZhbGlkX3VzZXJzLmFueT8gZG8gfHVzZXJ8CiAgICAgICAgICB1c2VyX2VtYWlsID0gKHVzZXJbImVtYWlsIl0gfHwgdXNlcls6ZW1haWxdIHx8ICIiKS50b19zLnN0cmlwLmRvd25jYXNlCiAgICAgICAgICB1c2VyX3Bhc3N3b3JkID0gKHVzZXJbInBhc3N3b3JkIl0gfHwgdXNlcls6cGFzc3dvcmRdIHx8ICIiKS50b19zLnN0cmlwCiAgICAgICAgICAKICAgICAgICAgIHVzZXJfZW1haWwgPT0gZW1haWwuZG93bmNhc2UgJiYgdXNlcl9wYXNzd29yZCA9PSBwYXNzd29yZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIHJldHVybiB2YWxpZAogICAgICAgIAogICAgICBlbHNlCiAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINiq2LnYsNixINin2YTYp9iq2LXYp9mEINio2K7Yp9iv2YUg2KfZhNiq2K3ZgtmCIC0g2KfZhNix2YXYsjogI3tyZXNwb25zZS5jb2RlfSIpCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIGVuZAogICAgICAKICAgIHJlc2N1ZSBOZXQ6Ok9wZW5UaW1lb3V0LCBOZXQ6OlJlYWRUaW1lb3V0CiAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYp9mG2KrZh9iqINmF2YfZhNipINin2YTYp9iq2LXYp9mEINio2KfZhNiu2KfYr9mFIikKICAgICAgcmV0dXJuIGZhbHNlCiAgICByZXNjdWUgSlNPTjo6UGFyc2VyRXJyb3IKICAgICAgVUkubWVzc2FnZWJveCgi4p2MINiq2YbYs9mK2YIg2KfZhNio2YrYp9mG2KfYqiDZhdmGINin2YTYrtin2K/ZhSDYutmK2LEg2LXYrdmK2K0iKQogICAgICByZXR1cm4gZmFsc2UKICAgIHJlc2N1ZSA9PiBlCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYrti32KMg2YHZiiDYp9mE2KfYqti12KfZhCDYqNin2YTYrtin2K/ZhTogI3tlLm1lc3NhZ2V9IikKICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKICBlbmQKICAjID09PT09PT09PT09PT09PT09PT09PT0KCiAgZGVmIHNlbGYuc2hvd19saWJyYXJ5CiAgICAjID09PSDYqtit2YLZgiDZhdmGINin2YTYqtmB2LnZitmEINij2YjZhNin2YsgPT09CiAgICB1bmxlc3MgYWN0aXZhdGUoZmFsc2UpICAjIGZhbHNlINmK2LnZhtmKINmE2Kcg2YbYt9mE2Kgg2KfZhNio2YrYp9mG2KfYqiDYpdiw2Kcg2YPYp9mG2Kog2YXYs9is2YTYqQogICAgICByZXR1cm4KICAgIGVuZAogICAgIyA9PT09PT09PT09PT09PT09PT09PT09CgogICAgZGxnID0gVUk6Okh0bWxEaWFsb2cubmV3KHsKICAgICAgOmRpYWxvZ190aXRsZSA9PiAi2YXZg9iq2KjYqSDZhdmD2YjZhtin2KogTUhERVNJR04iLAogICAgICA6cHJlZmVyZW5jZXNfa2V5ID0+ICJtaGRlc2lnbl9saWJyYXJ5IiwKICAgICAgOnNjcm9sbGFibGUgPT4gdHJ1ZSwKICAgICAgOnJlc2l6YWJsZSA9PiB0cnVlLAogICAgICA6d2lkdGggPT4gODAwLAogICAgICA6aGVpZ2h0ID0+IDY1MAogICAgfSkKCiAgICBjYXRlZ29yaWVzID0gQ09NUE9ORU5UUy5tYXAgeyB8Y3wgY1s6Y2F0ZWdvcnldIH0udW5pcQoKICAgIGh0bWwgPSA8PC1IVE1MCiAgICA8aHRtbD48aGVhZD4KICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVRhamF3YWw6d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICAgICAgPHN0eWxlPgogICAgICAgIGJvZHkge2ZvbnQtZmFtaWx5OidUYWphd2FsJyxzYW5zLXNlcmlmO21hcmdpbjowO2JhY2tncm91bmQ6I2Y5ZjlmOTtwYWRkaW5nOjAgMjBweCA0MHB4O2RpcmVjdGlvbjpydGw7fQogICAgICAgIGhlYWRlciB7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtwYWRkaW5nOjIwcHggMDt9CiAgICAgICAgaGVhZGVyIGltZyB7aGVpZ2h0OjUwcHg7Ym9yZGVyLXJhZGl1czo1MCU7fQogICAgICAgIGhlYWRlciBoMiB7bWFyZ2luOjA7Zm9udC1zaXplOjI0cHg7Y29sb3I6IzJlN2QzMjt9CiAgICAgICAgLm1lbnUtdG9nZ2xlIHtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MjhweDt1c2VyLXNlbGVjdDpub25lO30KICAgICAgICAuZmlsdGVyIHtkaXNwbGF5Om5vbmU7bWFyZ2luLWJvdHRvbToyMHB4O30KICAgICAgICAuZmlsdGVyIHNlbGVjdCB7Zm9udC1zaXplOjE2cHg7cGFkZGluZzo2cHggMTBweDtib3JkZXItcmFkaXVzOjZweDtib3JkZXI6MXB4IHNvbGlkICNjY2M7fQogICAgICAgIC5ncmlkIHtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdChhdXRvLWZpbGwsbWlubWF4KDIwMHB4LDFmcikpO2dhcDoyMHB4O30KICAgICAgICAuY2FyZCB7YmFja2dyb3VuZDp3aGl0ZTtib3JkZXItcmFkaXVzOjEycHg7cGFkZGluZzoxMnB4O2JveC1zaGFkb3c6MCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMDgpO3RleHQtYWxpZ246Y2VudGVyO3RyYW5zaXRpb246dHJhbnNmb3JtIDAuM3MgZWFzZSxib3gtc2hhZG93IDAuM3MgZWFzZTt9CiAgICAgICAgLmNhcmQ6aG92ZXIge3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01cHgpO2JveC1zaGFkb3c6MCA4cHggMjBweCByZ2JhKDAsMCwwLDAuMTIpO30KICAgICAgICBpbWcuY29tcG9uZW50LWltZyB7d2lkdGg6MTAwJTtoZWlnaHQ6MjAwcHg7b2JqZWN0LWZpdDpjb3Zlcjtib3JkZXItcmFkaXVzOjhweDt9CiAgICAgICAgaDQge21hcmdpbjoxMHB4IDAgNXB4O2ZvbnQtc2l6ZToxN3B4O2NvbG9yOiMzMzM7fQogICAgICAgIHAge2ZvbnQtc2l6ZToxM3B4O2NvbG9yOiM2NjY7bWFyZ2luOjA7fQogICAgICAgIGJ1dHRvbiB7bWFyZ2luLXRvcDoxMHB4O3BhZGRpbmc6NnB4IDE0cHg7YmFja2dyb3VuZDojNDNhMDQ3O2NvbG9yOndoaXRlO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6NXB4O2N1cnNvcjpwb2ludGVyO3RyYW5zaXRpb246YmFja2dyb3VuZCAwLjNzO30KICAgICAgICBidXR0b246aG92ZXIge2JhY2tncm91bmQ6IzJlN2QzMjt9CiAgICAgICAgZm9vdGVyIHttYXJnaW4tdG9wOjQwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjEycHg7Y29sb3I6Izk5OTt9CiAgICAgIDwvc3R5bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keSBvbmNvbnRleHRtZW51PSJyZXR1cm4gZmFsc2UiPgogICAgICA8aGVhZGVyPgogICAgICAgIDxpbWcgc3JjPSJodHRwczovL21haG1vdWRkZXNpZ24uY29tL1NLRVRDSFVQL2NvbXBvbmVudHMvbG9nby5qcGVnIiBhbHQ9IkxvZ28iIC8+CiAgICAgICAgPGgyPtmF2YPYqtio2Kkg2YXZg9mI2YbYp9iqIE1IREVTSUdOPC9oMj4KICAgICAgICA8ZGl2IGNsYXNzPSJtZW51LXRvZ2dsZSIgb25jbGljaz0idG9nZ2xlTWVudSgpIj7imLA8L2Rpdj4KICAgICAgPC9oZWFkZXI+CgogICAgICA8ZGl2IGNsYXNzPSJmaWx0ZXIiIGlkPSJmaWx0ZXItYm94Ij4KICAgICAgICA8bGFiZWw+CiAgICAgICAgICDwn5SNINiq2LXZgdmK2Kkg2K3Ys9ioOgogICAgICAgICAgPHNlbGVjdCBpZD0iY2F0ZWdvcnkiIG9uY2hhbmdlPSJmaWx0ZXJDb21wb25lbnRzKCkiPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbGwiPtin2YTZg9mEPC9vcHRpb24+CiAgICAgICAgICAgICN7Y2F0ZWdvcmllcy5tYXAgeyB8Y2F0fCAiPG9wdGlvbiB2YWx1ZT0nI3tjYXR9Jz4je2NhdH08L29wdGlvbj4iIH0uam9pbn0KICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgIDwvbGFiZWw+CiAgICAgIDwvZGl2PgoKICAgICAgPGRpdiBpZD0iY29tcG9uZW50cyIgY2xhc3M9ImdyaWQiPjwvZGl2PgoKICAgICAgPGZvb3Rlcj4KICAgICAgICDYqtmFINiq2LfZiNmK2LEg2KfZhNil2LbYp9mB2Kkg2KjZiNin2LPYt9ipIDxiPtmF2YfZhtiv2LMg2YXYsdmI2KfZhiDYudin2K/ZhDwvYj48YnI+CiAgICAgICAg2YTZhNiv2LnZhSDYp9mE2YHZhtmKOiA8Yj4wMTIwNDI3OTYwNjwvYj4KICAgICAgPC9mb290ZXI+CgogICAgICA8c2NyaXB0PgpmdW5jdGlvbiBsb2FkQ29tcG9uZW50KGNvbXApe3NrZXRjaHVwLmxvYWRDb21wb25lbnRCeURhdGEoSlNPTi5zdHJpbmdpZnkoY29tcCkpO30KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBlPT5lLnByZXZlbnREZWZhdWx0KCkpOwpjb25zdCBhbGxDb21wb25lbnRzPSN7Q09NUE9ORU5UUy50b19qc29ufTsKZnVuY3Rpb24gcmVuZGVyKGMpe2xldCBoPSIiO2MuZm9yRWFjaCh4PT57aCs9YDxkaXYgY2xhc3M9ImNhcmQiPjxpbWcgY2xhc3M9ImNvbXBvbmVudC1pbWciIHNyYz0iJHt4LmltYWdlfSIgLz48aDQ+JHt4Lm5hbWV9PC9oND48cD4ke3guZGVzY308L3A+PGJ1dHRvbiBvbmNsaWNrPSdsb2FkQ29tcG9uZW50KCR7SlNPTi5zdHJpbmdpZnkoeCl9KSc+2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YY8L2J1dHRvbj48L2Rpdj5gfSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbXBvbmVudHMiKS5pbm5lckhUTUw9aDt9CmZ1bmN0aW9uIGZpbHRlckNvbXBvbmVudHMoKXtjb25zdCBjYXQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5IikudmFsdWU7aWYoY2F0PT09ImFsbCIpcmVuZGVyKGFsbENvbXBvbmVudHMpO2Vsc2UgcmVuZGVyKGFsbENvbXBvbmVudHMuZmlsdGVyKGM9PmMuY2F0ZWdvcnk9PT1jYXQpKTt9CmZ1bmN0aW9uIHRvZ2dsZU1lbnUoKXtjb25zdCBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXItYm94Iik7Yi5zdHlsZS5kaXNwbGF5PShiLnN0eWxlLmRpc3BsYXk9PT0iYmxvY2siKT8ibm9uZSI6ImJsb2NrIjt9CndpbmRvdy5vbmxvYWQ9KCk9PmZpbHRlckNvbXBvbmVudHMoKTsKICAgICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+PC9odG1sPgogICAgSFRNTAoKICAgIGRsZy5zZXRfaHRtbChodG1sKQoKICAgIGRsZy5hZGRfYWN0aW9uX2NhbGxiYWNrKCJsb2FkQ29tcG9uZW50QnlEYXRhIikgZG8gfF8sIGNvbXBfanNvbnwKICAgICAgIyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KrZgdi52YrZhCDZhdix2Kkg2KPYrtix2Ykg2YLYqNmEINiq2K3ZhdmK2YQg2KPZiiDZhdmD2YjZhgogICAgICB1bmxlc3MgYWN0aXZhdGUoZmFsc2UpCiAgICAgICAgbmV4dAogICAgICBlbmQKICAgICAgCiAgICAgIGNvbXAgPSBKU09OLnBhcnNlKGNvbXBfanNvbiwgc3ltYm9saXplX25hbWVzOiB0cnVlKQogICAgICB1cmwgPSBVUkkucGFyc2UoY29tcFs6dXJsXSkKICAgICAgaGFzaF9uYW1lID0gRGlnZXN0OjpTSEEyNTYuaGV4ZGlnZXN0KHVybC50b19zKVswLi4xNl0gKyAiLnNrcCIKICAgICAgY2FjaGVfZGlyID0gRmlsZS5qb2luKERpci50bXBkaXIsICJtaGRlc2lnbl9jYWNoZV8xIikKICAgICAgRmlsZVV0aWxzLm1rZGlyX3AoY2FjaGVfZGlyKQogICAgICBsb2NhbF9wYXRoID0gRmlsZS5qb2luKGNhY2hlX2RpciwgaGFzaF9uYW1lKQoKICAgICAgdW5sZXNzIEZpbGUuZXhpc3Q/KGxvY2FsX3BhdGgpCiAgICAgICAgcHJvZ3Jlc3MgPSBVSTo6SHRtbERpYWxvZy5uZXcoewogICAgICAgICAgOmRpYWxvZ190aXRsZSA9PiAi2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYuLi4iLAogICAgICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fcHJvZ3Jlc3MiLAogICAgICAgICAgOnNjcm9sbGFibGUgPT4gZmFsc2UsCiAgICAgICAgICA6cmVzaXphYmxlID0+IGZhbHNlLAogICAgICAgICAgOndpZHRoID0+IDMwMCwKICAgICAgICAgIDpoZWlnaHQgPT4gMTUwCiAgICAgICAgfSkKCiAgICAgICAgcHJvZ3Jlc3Muc2V0X2h0bWwgPDwtSFRNTAogICAgICAgIDxodG1sPjxoZWFkPgogICAgICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDA7IHBhZGRpbmc6IDIwcHg7IGRpcmVjdGlvbjogcnRsOyB9CiAgICAgICAgICAgIGgzIHsgbWFyZ2luOiAxMHB4IDA7IH0KICAgICAgICAgICAgI3Byb2dyZXNzLWJhciB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDIwcHg7IGJhY2tncm91bmQ6ICNkZGQ7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IG1hcmdpbi10b3A6IDEwcHg7IH0KICAgICAgICAgICAgI3Byb2dyZXNzLWZpbGwgeyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiAwJTsgYmFja2dyb3VuZDogIzRjYWY1MDsgdHJhbnNpdGlvbjogd2lkdGggMC4ycyBlYXNlOyB9CiAgICAgICAgICAgICNwZXJjZW50IHsgbWFyZ2luLXRvcDogOHB4OyBmb250LXNpemU6IDE0cHg7IH0KICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgPC9oZWFkPjxib2R5PgogICAgICAgICAgPGgzPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGLi4uPC9oMz4KICAgICAgICAgIDxkaXYgaWQ9InByb2dyZXNzLWJhciI+PGRpdiBpZD0icHJvZ3Jlc3MtZmlsbCI+PC9kaXY+PC9kaXY+CiAgICAgICAgICA8ZGl2IGlkPSJwZXJjZW50Ij4wJTwvZGl2PgogICAgICAgIDwvYm9keT48L2h0bWw+CiAgICAgICAgSFRNTAoKICAgICAgICBwcm9ncmVzcy5zaG93CgogICAgICAgIFVJLnN0YXJ0X3RpbWVyKDAuMywgZmFsc2UpIGRvCiAgICAgICAgICBiZWdpbgogICAgICAgICAgICBjb250ZW50X2xlbmd0aCA9IG5pbAogICAgICAgICAgICB0ZW1wZmlsZSA9IFRlbXBmaWxlLm5ldygibWhjb21wb25lbnQiKQoKICAgICAgICAgICAgVVJJLm9wZW4odXJsLAogICAgICAgICAgICAgIGNvbnRlbnRfbGVuZ3RoX3Byb2M6IC0+KGxlbikgeyBjb250ZW50X2xlbmd0aCA9IGxlbiB9LAogICAgICAgICAgICAgIHByb2dyZXNzX3Byb2M6IC0+KGJ5dGVzKSB7CiAgICAgICAgICAgICAgICBwZXJjZW50ID0gY29udGVudF9sZW5ndGggPyAoKGJ5dGVzLnRvX2YgLyBjb250ZW50X2xlbmd0aCkgKiAxMDApLnRvX2kgOiAwCiAgICAgICAgICAgICAgICBwcm9ncmVzcy5leGVjdXRlX3NjcmlwdCgiZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWZpbGwnKS5zdHlsZS53aWR0aCA9ICcje3BlcmNlbnR9JSciKQogICAgICAgICAgICAgICAgcHJvZ3Jlc3MuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJjZW50JykuaW5uZXJUZXh0ID0gJyN7cGVyY2VudH0lJyIpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApIGRvIHxyZW1vdGVfZmlsZXwKICAgICAgICAgICAgICBJTy5jb3B5X3N0cmVhbShyZW1vdGVfZmlsZSwgdGVtcGZpbGUpCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgdGVtcGZpbGUuY2xvc2UKICAgICAgICAgICAgRmlsZVV0aWxzLm12KHRlbXBmaWxlLnBhdGgsIGxvY2FsX3BhdGgpCiAgICAgICAgICAgIHByb2dyZXNzLmNsb3NlIGlmIHByb2dyZXNzLnZpc2libGU/CgogICAgICAgICAgICBpZiBGaWxlLmV4aXN0Pyhsb2NhbF9wYXRoKSAmJiBGaWxlLnNpemUobG9jYWxfcGF0aCkgPiAwCiAgICAgICAgICAgICAgZGVmaW5pdGlvbiA9IFNrZXRjaHVwLmFjdGl2ZV9tb2RlbC5kZWZpbml0aW9ucy5sb2FkKGxvY2FsX3BhdGgsIGFsbG93X25ld2VyOiB0cnVlKQogICAgICAgICAgICAgIGlmIGRlZmluaXRpb24KICAgICAgICAgICAgICAgIGluc3RhbmNlID0gU2tldGNodXAuYWN0aXZlX21vZGVsLnBsYWNlX2NvbXBvbmVudChkZWZpbml0aW9uKQogICAgICAgICAgICAgICAgVUkubWVzc2FnZWJveCgi4pyFINiq2YUg2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYg2KjZhtis2KfYrSIpIHVubGVzcyBpbnN0YW5jZQogICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKaoO+4jyDYqti52LDYsSDYqtit2YXZitmEINin2YTZhdmD2YjZhiIpCiAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2KrYudiw2LEg2KrYrdmF2YrZhCDYp9mE2YXZhNmBIikKICAgICAgICAgICAgZW5kCgogICAgICAgICAgcmVzY3VlID0+IGUKICAgICAgICAgICAgdGVtcGZpbGUuY2xvc2UgaWYgdGVtcGZpbGUKICAgICAgICAgICAgdGVtcGZpbGUudW5saW5rIGlmIHRlbXBmaWxlCiAgICAgICAgICAgIHByb2dyZXNzLmNsb3NlIGlmIHByb2dyZXNzLnZpc2libGU/CiAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYrdiv2Ksg2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YY6ICN7ZS5tZXNzYWdlfSIpCiAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgZWxzZQogICAgICAgIGJlZ2luCiAgICAgICAgICBpZiBGaWxlLmV4aXN0Pyhsb2NhbF9wYXRoKSAmJiBGaWxlLnNpemUobG9jYWxfcGF0aCkgPiAwCiAgICAgICAgICAgIGRlZmluaXRpb24gPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuZGVmaW5pdGlvbnMubG9hZChsb2NhbF9wYXRoLCBhbGxvd19uZXdlcjogdHJ1ZSkKICAgICAgICAgICAgaWYgZGVmaW5pdGlvbgogICAgICAgICAgICAgIGluc3RhbmNlID0gU2tldGNodXAuYWN0aXZlX21vZGVsLnBsYWNlX2NvbXBvbmVudChkZWZpbml0aW9uKQogICAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDYqtmFINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGINio2YbYrNin2K0iKSB1bmxlc3MgaW5zdGFuY2UKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKaoO+4jyDYqti52LDYsSDYqtit2YXZitmEINin2YTZhdmD2YjZhiIpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgZWxzZQogICAgICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2KfZhNmF2YTZgSDYp9mE2YXYrdmE2Yog2KrYp9mE2YEiKQogICAgICAgICAgZW5kCiAgICAgICAgcmVzY3VlID0+IGUKICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDYrdiv2Ksg2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YY6ICN7ZS5tZXNzYWdlfSIpCiAgICAgICAgZW5kCiAgICAgIGVuZAogICAgZW5kCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImNsZWFyQ29tcG9uZW50Q2FjaGUiKSBkbyB8X3wKICAgICAgYmVnaW4KICAgICAgICBjYWNoZV9kaXIgPSBGaWxlLmpvaW4oRGlyLnRtcGRpciwgIm1oZGVzaWduX2NhY2hlXzEiKQogICAgICAgIGlmIEZpbGUuZGlyZWN0b3J5PyhjYWNoZV9kaXIpCiAgICAgICAgICBGaWxlVXRpbHMucm1fcmYoY2FjaGVfZGlyKQogICAgICAgIGVuZAogICAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDYqtmFINmF2LPYrSDYsNin2YPYsdipINin2YTYqtiu2LLZitmGINin2YTZhdik2YLYqiIpCiAgICAgIHJlc2N1ZSA9PiBlCiAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINit2K/YqyDYrti32KMg2YHZiiDZhdiz2K0g2KfZhNiw2KfZg9ix2Kk6ICN7ZS5tZXNzYWdlfSIpCiAgICAgIGVuZAogICAgZW5kCgogICAgIyDYpdi22KfZgdipINiy2LEg2YTYqtiz2KzZitmEINin2YTYrtix2YjYrAogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImxvZ291dCIpIGRvIHxffAogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAic2F2ZWRfZW1haWwiLCAiIikKICAgICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgInNhdmVkX3Bhc3N3b3JkIiwgIiIpCiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJsYXN0X2FwaV9oYXNoIiwgIiIpCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDYqtmFINiq2LPYrNmK2YQg2KfZhNiu2LHZiNisINio2YbYrNin2K0iKQogICAgICBkbGcuY2xvc2UKICAgIGVuZAogICAgZGxnLnNob3cKICBlbmQKCiAgdW5sZXNzIGZpbGVfbG9hZGVkPyhfX0ZJTEVfXykKICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgiI3tQTFVHSU5fTkFNRX0gLSDZgdiq2K0g2KfZhNmF2YPYqtio2KkiKSB7IHNob3dfbGlicmFyeSB9CiAgICBVSS5tZW51KCJQbHVnaW5zIikuYWRkX2l0ZW0oIk1IREVTSUdOIC0g2YXYs9itINin2YTYsNin2YPYsdipIikgZG8KICAgICAgY2FjaGVfZGlyID0gRmlsZS5qb2luKERpci50bXBkaXIsICJtaGRlc2lnbl9jYWNoZV8xIikKICAgICAgaWYgRmlsZS5kaXJlY3Rvcnk/KGNhY2hlX2RpcikKICAgICAgICBGaWxlVXRpbHMucm1fcmYoY2FjaGVfZGlyKQogICAgICBlbmQKICAgICAgVUkubWVzc2FnZWJveCgi4pyFINiq2YUg2YXYs9itINiw2KfZg9ix2Kkg2KfZhNiq2K7YstmK2YYg2KfZhNmF2KTZgtiqIikKICAgIGVuZAoKICAgICMg2KXYttin2YHYqSDYrtmK2KfYsSDZhNiq2LPYrNmK2YQg2KfZhNiu2LHZiNisCiAgICBVSS5tZW51KCJQbHVnaW5zIikuYWRkX2l0ZW0oIk1IREVTSUdOIC0g2KrYs9is2YrZhCDYp9mE2K7YsdmI2KwiKSBkbwogICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAic2F2ZWRfZW1haWwiLCAiIikKICAgICAgU2tldGNodXAud3JpdGVfZGVmYXVsdChQTFVHSU5fTkFNRSwgInNhdmVkX3Bhc3N3b3JkIiwgIiIpCiAgICAgIFNrZXRjaHVwLndyaXRlX2RlZmF1bHQoUExVR0lOX05BTUUsICJsYXN0X2FwaV9oYXNoIiwgIiIpCiAgICAgIFVJLm1lc3NhZ2Vib3goIuKchSDYqtmFINiq2LPYrNmK2YQg2KfZhNiu2LHZiNisINio2YbYrNin2K0iKQogICAgZW5kCgogICAgdG9vbGJhciA9IFVJOjpUb29sYmFyLm5ldyhQTFVHSU5fTkFNRSkKICAgIGNtZCA9IFVJOjpDb21tYW5kLm5ldygi2YXZg9iq2KjYqSAje1BMVUdJTl9OQU1FfSIpIHsgc2hvd19saWJyYXJ5IH0KCiAgICBpY29uX3BhdGggPSBGaWxlLmpvaW4oUExVR0lOX0RJUiwgImljb24ucG5nIikgcmVzY3VlIG5pbAogICAgaWYgRmlsZS5leGlzdD8oaWNvbl9wYXRoKQogICAgICBjbWQuc21hbGxfaWNvbiA9IGljb25fcGF0aAogICAgICBjbWQubGFyZ2VfaWNvbiA9IGljb25fcGF0aAogICAgZW5kCiAgICBjbWQudG9vbHRpcCA9ICLZgdiq2K0g2YXZg9iq2KjYqSDZhdmD2YjZhtin2KogTUhERVNJR04iCiAgICB0b29sYmFyLmFkZF9pdGVtKGNtZCkKCiAgICB0b29sYmFyLnJlc3RvcmUKICAgIGZpbGVfbG9hZGVkKF9fRklMRV9fKQogIGVuZAplbmQ="
}
