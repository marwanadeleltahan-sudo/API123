{
  "main_code": "cmVxdWlyZSAnc2tldGNodXAucmInCnJlcXVpcmUgJ25ldC9odHRwJwpyZXF1aXJlICd1cmknCnJlcXVpcmUgJ2pzb24nCnJlcXVpcmUgJ3NlY3VyZXJhbmRvbScKcmVxdWlyZSAnb3Blbi11cmknCnJlcXVpcmUgJ3RtcGRpcicKcmVxdWlyZSAnYmFzZTY0JwpyZXF1aXJlICd0ZW1wZmlsZScKcmVxdWlyZSAnZGlnZXN0JwpyZXF1aXJlICdmaWxldXRpbHMnCgptb2R1bGUgTUhERVNJR04KICBQTFVHSU5fTkFNRSA9ICJNSERFU0lHTiIKICBQTFVHSU5fRElSID0gRmlsZS5kaXJuYW1lKF9fRklMRV9fKQogIAogICMgPT09PT09INix2KfYqNi3INin2YTYqtit2YLZgiDZhdmGINin2YTYudmF2YTYp9ihID09PT09PQogIFZBTElEQVRJT05fVVJMID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tYXJ3YW5hZGVsZWx0YWhhbi1zdWRvL0FQSTEyMy9yZWZzL2hlYWRzL21haW4vZW1haWwuanNvbiIKCiAgIyA9PT09PT0g2YXYrNmE2K8g2KfZhNmF2YPZiNmG2KfYqiDYp9mE2LTYrti12YrYqSA9PT09PT0KICBDVVNUT01fQ09NUE9ORU5UU19ESVIgPSBGaWxlLmpvaW4oUExVR0lOX0RJUiwgImN1c3RvbV9jb21wb25lbnRzIikKICBGaWxlVXRpbHMubWtkaXJfcChDVVNUT01fQ09NUE9ORU5UU19ESVIpIHVubGVzcyBGaWxlLmRpcmVjdG9yeT8oQ1VTVE9NX0NPTVBPTkVOVFNfRElSKQoKICAjID09PT09PSDYr9in2YTYqSDZhNmE2KrYrdmC2YIg2YXZhiDYqNmK2KfZhtin2Kog2KfZhNi52YXZitmEID09PT09PQogIGRlZiBzZWxmLnZhbGlkYXRlX3VzZXIoZW1haWwsIHBhc3N3b3JkKQogICAgYmVnaW4KICAgICAgIyDYqtit2YXZitmEINio2YrYp9mG2KfYqiDYp9mE2LnZhdmE2KfYoSDZhdmGIEdpdEh1YgogICAgICB1cmkgPSBVUkkucGFyc2UoVkFMSURBVElPTl9VUkwpCiAgICAgIGh0dHAgPSBOZXQ6OkhUVFAubmV3KHVyaS5ob3N0LCB1cmkucG9ydCkKICAgICAgaHR0cC51c2Vfc3NsID0gdHJ1ZQogICAgICBodHRwLm9wZW5fdGltZW91dCA9IDEwCiAgICAgIGh0dHAucmVhZF90aW1lb3V0ID0gMTAKICAgICAgCiAgICAgIHJlcXVlc3QgPSBOZXQ6OkhUVFA6OkdldC5uZXcodXJpLnJlcXVlc3RfdXJpKQogICAgICByZXNwb25zZSA9IGh0dHAucmVxdWVzdChyZXF1ZXN0KQogICAgICAKICAgICAgaWYgcmVzcG9uc2UuY29kZSA9PSAnMjAwJwogICAgICAgIHVzZXJzX2RhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHkpCiAgICAgICAgCiAgICAgICAgIyDYp9mE2KjYrdirINi52YYg2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2YXYt9in2KjZggogICAgICAgIHVzZXIgPSB1c2Vyc19kYXRhLmZpbmQgeyB8dXwgdVsiZW1haWwiXSA9PSBlbWFpbCAmJiB1WyJwYXNzd29yZCJdID09IHBhc3N3b3JkIH0KICAgICAgICAKICAgICAgICBpZiB1c2VyCiAgICAgICAgICByZXR1cm4geyAKICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSwgCiAgICAgICAgICAgIG1lc3NhZ2U6ICLwn46JINmG2YjYsdiqINmK2Kcg2YfZhtiv2LPYqSDZgdmKINil2LbYp9mB2Kkg2YUuINmF2LHZiNin2YYg2LnYp9iv2YQhXG5cbtiq2YLYr9ixINiq2LTYqti62YQg2LnZhNmJINin2YTZhdi02LHZiNi5INiv2YTZiNmC2KrZiiEg8J+agCIgCiAgICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgICAgcmV0dXJuIHsgCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCAKICAgICAgICAgICAgbWVzc2FnZTogIuKdjCDYp9mE2KjZitin2YbYp9iqINi62YTYtyDZitinINio2LTZhdmH2YbYr9izINin2YPYqtio2YfYpyDYtditXG7Yo9mIINin2LTYqtix2Yog2KfZhNil2LbYp9mB2Kk6IDAxMjA0Mjc5NjA2IiAKICAgICAgICAgIH0KICAgICAgICBlbmQKICAgICAgZWxzZQogICAgICAgIHJldHVybiB7IAogICAgICAgICAgc3VjY2VzczogZmFsc2UsIAogICAgICAgICAgbWVzc2FnZTogIuKdjCDZhdi0INmC2KfYr9ixINin2YjYtdmEINmE2YTYqNmK2KfZhtin2KohXG7Yp9iq2KfZg9ivINmF2YYg2KfZhNmG2Kog2YjYrdin2YjZhCDYqtin2YbZilxu2KPZiCDZg9mE2YU6IDAxMjA0Mjc5NjA2IiAKICAgICAgICB9CiAgICAgIGVuZAogICAgcmVzY3VlID0+IGUKICAgICAgcmV0dXJuIHsgCiAgICAgICAgc3VjY2VzczogZmFsc2UsIAogICAgICAgIG1lc3NhZ2U6ICLinYwg2YHZitmHINmF2LTZg9mE2Kkg2YHZiiDYp9mE2LPZitix2YHYsSFcbtmD2YTZhSDYp9mE2K/YudmFOiAwMTIwNDI3OTYwNlxu2KfZhNiu2LfYozogI3tlLm1lc3NhZ2V9IiAKICAgICAgfQogICAgZW5kCiAgZW5kCgogICMgPT09PT09INiv2KfZhNipINmE2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINmF2YYg2KfZhNiz2YrYsdmB2LEgPT09PT09CiAgZGVmIHNlbGYubG9hZF9jb21wb25lbnRzX2RhdGEKICAgIGJlZ2luCiAgICAgIHVybCA9ICJodHRwczovL21haG1vdWRkZXNpZ24uY29tL1NLRVRDSFVQL2NvbXBvbmVudHMtVjQuanNvbiIKICAgICAganNvbl9yYXcgPSBVUkkub3Blbih1cmwpLnJlYWQKICAgICAganNvbl9kYXRhID0gSlNPTi5wYXJzZShqc29uX3JhdykKICAgICAgZGVjb2RlZF9qc29uID0gQmFzZTY0LmRlY29kZTY0KGpzb25fZGF0YVsiZGF0YSJdKQogICAgICBzZXJ2ZXJfY29tcG9uZW50cyA9IEpTT04ucGFyc2UoZGVjb2RlZF9qc29uLCBzeW1ib2xpemVfbmFtZXM6IHRydWUpCiAgICAgIAogICAgICAjINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmG2KfYqiDYp9mE2LTYrti12YrYqQogICAgICBjdXN0b21fY29tcG9uZW50cyA9IGxvYWRfY3VzdG9tX2NvbXBvbmVudHMKICAgICAgCiAgICAgICMg2K/ZhdisINin2YTZhdmD2YjZhtin2Kog2YXZhiDYp9mE2LPZitix2YHYsSDZhdi5INin2YTZhdmD2YjZhtin2Kog2KfZhNi02K7YtdmK2KkKICAgICAgc2VydmVyX2NvbXBvbmVudHMgKyBjdXN0b21fY29tcG9uZW50cwogICAgcmVzY3VlID0+IGUKICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmB2LTZhCDZgdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqiDZhdmGINin2YTYs9mK2LHZgdixOiAje2UubWVzc2FnZX0iKQogICAgICBsb2FkX2N1c3RvbV9jb21wb25lbnRzCiAgICBlbmQKICBlbmQKCiAgIyA9PT09PT0g2K/Yp9mE2Kkg2YTYqtit2YXZitmEINin2YTZhdmD2YjZhtin2Kog2KfZhNi02K7YtdmK2KkgPT09PT09CiAgZGVmIHNlbGYubG9hZF9jdXN0b21fY29tcG9uZW50cwogICAgY3VzdG9tX2RhdGFfZmlsZSA9IEZpbGUuam9pbihDVVNUT01fQ09NUE9ORU5UU19ESVIsICJjdXN0b21fY29tcG9uZW50cy5qc29uIikKICAgIAogICAgaWYgRmlsZS5leGlzdD8oY3VzdG9tX2RhdGFfZmlsZSkKICAgICAgSlNPTi5wYXJzZShGaWxlLnJlYWQoY3VzdG9tX2RhdGFfZmlsZSksIHN5bWJvbGl6ZV9uYW1lczogdHJ1ZSkKICAgIGVsc2UKICAgICAgW10KICAgIGVuZAogIHJlc2N1ZSA9PiBlCiAgICBbXQogIGVuZAoKICAjID09PT09PSDYr9in2YTYqSDZhNit2YHYuCDYp9mE2YXZg9mI2YbYp9iqINin2YTYtNiu2LXZitipID09PT09PQogIGRlZiBzZWxmLnNhdmVfY3VzdG9tX2NvbXBvbmVudHMoY29tcG9uZW50cykKICAgIGN1c3RvbV9kYXRhX2ZpbGUgPSBGaWxlLmpvaW4oQ1VTVE9NX0NPTVBPTkVOVFNfRElSLCAiY3VzdG9tX2NvbXBvbmVudHMuanNvbiIpCiAgICBGaWxlLndyaXRlKGN1c3RvbV9kYXRhX2ZpbGUsIEpTT04ucHJldHR5X2dlbmVyYXRlKGNvbXBvbmVudHMpKQogIGVuZAoKICAjID09PT09PSDYr9in2YTYqSDZhNil2LbYp9mB2Kkg2YXZg9mI2YYg2LTYrti12Yog2KzYr9mK2K8gPT09PT09CiAgZGVmIHNlbGYuYWRkX2N1c3RvbV9jb21wb25lbnQoY29tcG9uZW50X2RhdGEpCiAgICBiZWdpbgogICAgICAjINil2YbYtNin2KEg2KfYs9mFINmB2LHZitivINmE2YTZhdmE2YEKICAgICAgZmlsZW5hbWUgPSBEaWdlc3Q6OlNIQTI1Ni5oZXhkaWdlc3QoY29tcG9uZW50X2RhdGFbOm5hbWVdICsgVGltZS5ub3cudG9fZi50b19zKVswLi4xNl0KICAgICAgCiAgICAgICMg2YXYudin2YTYrNipINmF2YTZgSBTS1AKICAgICAgc2twX2ZpbGVuYW1lID0gZmlsZW5hbWUgKyAiLnNrcCIKICAgICAgc2twX3BhdGggPSBGaWxlLmpvaW4oQ1VTVE9NX0NPTVBPTkVOVFNfRElSLCBza3BfZmlsZW5hbWUpCiAgICAgIAogICAgICBpZiBjb21wb25lbnRfZGF0YVs6c2twX3R5cGVdID09ICJmaWxlIgogICAgICAgICMg2YbYs9iuINin2YTZhdmE2YEg2KfZhNmF2K3ZhNmKCiAgICAgICAgRmlsZVV0aWxzLmNwKGNvbXBvbmVudF9kYXRhWzpza3BfcGF0aF0sIHNrcF9wYXRoKQogICAgICBlbHNlCiAgICAgICAgIyDYqtit2YXZitmEINmF2YYg2KfZhNix2KfYqNi3CiAgICAgICAgZG93bmxvYWRfZmlsZShjb21wb25lbnRfZGF0YVs6c2twX3VybF0sIHNrcF9wYXRoKQogICAgICBlbmQKICAgICAgCiAgICAgICMg2YXYudin2YTYrNipINin2YTYtdmI2LHYqQogICAgICBpbWFnZV9maWxlbmFtZSA9IGZpbGVuYW1lICsgIi5wbmciCiAgICAgIGltYWdlX3BhdGggPSBGaWxlLmpvaW4oQ1VTVE9NX0NPTVBPTkVOVFNfRElSLCBpbWFnZV9maWxlbmFtZSkKICAgICAgCiAgICAgIGlmIGNvbXBvbmVudF9kYXRhWzppbWFnZV90eXBlXSA9PSAiZmlsZSIKICAgICAgICAjINmG2LPYriDYp9mE2LXZiNix2Kkg2KfZhNmF2K3ZhNmK2KkKICAgICAgICBGaWxlVXRpbHMuY3AoY29tcG9uZW50X2RhdGFbOmltYWdlX3BhdGhdLCBpbWFnZV9wYXRoKQogICAgICBlbHNlCiAgICAgICAgIyDYqtit2YXZitmEINmF2YYg2KfZhNix2KfYqNi3CiAgICAgICAgZG93bmxvYWRfZmlsZShjb21wb25lbnRfZGF0YVs6aW1hZ2VfdXJsXSwgaW1hZ2VfcGF0aCkKICAgICAgZW5kCiAgICAgIAogICAgICAjINil2LbYp9mB2Kkg2KfZhNio2YrYp9mG2KfYqiDZhNmE2YXZg9mI2YYKICAgICAgY3VzdG9tX2NvbXBvbmVudCA9IHsKICAgICAgICBuYW1lOiBjb21wb25lbnRfZGF0YVs6bmFtZV0sCiAgICAgICAgY2F0ZWdvcnk6IGNvbXBvbmVudF9kYXRhWzpjYXRlZ29yeV0sCiAgICAgICAgZGVzYzogY29tcG9uZW50X2RhdGFbOmRlc2NyaXB0aW9uXSwKICAgICAgICB1cmw6IHNrcF9wYXRoLAogICAgICAgIGltYWdlOiBpbWFnZV9wYXRoLAogICAgICAgIGN1c3RvbTogdHJ1ZQogICAgICB9CiAgICAgIAogICAgICAjINit2YHYuCDZgdmKINin2YTZhdmD2YjZhtin2Kog2KfZhNi02K7YtdmK2KkKICAgICAgY3VycmVudF9jb21wb25lbnRzID0gbG9hZF9jdXN0b21fY29tcG9uZW50cwogICAgICBjdXJyZW50X2NvbXBvbmVudHMgPDwgY3VzdG9tX2NvbXBvbmVudAogICAgICBzYXZlX2N1c3RvbV9jb21wb25lbnRzKGN1cnJlbnRfY29tcG9uZW50cykKICAgICAgCiAgICAgIHRydWUKICAgIHJlc2N1ZSA9PiBlCiAgICAgIHB1dHMgIkVycm9yIGFkZGluZyBjdXN0b20gY29tcG9uZW50OiAje2UubWVzc2FnZX0iCiAgICAgIGZhbHNlCiAgICBlbmQKICBlbmQKCiAgIyA9PT09PT0g2K/Yp9mE2Kkg2YTYqtit2YXZitmEINin2YTZhdmE2YEg2YXZhiDYp9mE2LHYp9io2LcgPT09PT09CiAgZGVmIHNlbGYuZG93bmxvYWRfZmlsZSh1cmwsIGRlc3RpbmF0aW9uKQogICAgdXJpID0gVVJJLnBhcnNlKHVybCkKICAgIGh0dHAgPSBOZXQ6OkhUVFAubmV3KHVyaS5ob3N0LCB1cmkucG9ydCkKICAgIGh0dHAudXNlX3NzbCA9IHRydWUgaWYgdXJpLnNjaGVtZSA9PSAnaHR0cHMnCiAgICAKICAgIHJlcXVlc3QgPSBOZXQ6OkhUVFA6OkdldC5uZXcodXJpLnJlcXVlc3RfdXJpKQogICAgcmVzcG9uc2UgPSBodHRwLnJlcXVlc3QocmVxdWVzdCkKICAgIAogICAgaWYgcmVzcG9uc2UuaXNfYT8oTmV0OjpIVFRQU3VjY2VzcykKICAgICAgRmlsZS5iaW53cml0ZShkZXN0aW5hdGlvbiwgcmVzcG9uc2UuYm9keSkKICAgIGVsc2UKICAgICAgcmFpc2UgIkZhaWxlZCB0byBkb3dubG9hZCBmaWxlIGZyb20gI3t1cmx9IgogICAgZW5kCiAgZW5kCgogICMgPT09PT09INiv2KfZhNipINmE2K3YsNmBINmF2YPZiNmGINi02K7YtdmKID09PT09PQogIGRlZiBzZWxmLmRlbGV0ZV9jdXN0b21fY29tcG9uZW50KGNvbXBvbmVudF9uYW1lKQogICAgYmVnaW4KICAgICAgY3VycmVudF9jb21wb25lbnRzID0gbG9hZF9jdXN0b21fY29tcG9uZW50cwogICAgICBjb21wb25lbnRfdG9fZGVsZXRlID0gY3VycmVudF9jb21wb25lbnRzLmZpbmQgeyB8Y3wgY1s6bmFtZV0gPT0gY29tcG9uZW50X25hbWUgJiYgY1s6Y3VzdG9tXSB9CiAgICAgIAogICAgICBpZiBjb21wb25lbnRfdG9fZGVsZXRlCiAgICAgICAgIyDYrdiw2YEg2YXZhNmBIFNLUAogICAgICAgIEZpbGUuZGVsZXRlKGNvbXBvbmVudF90b19kZWxldGVbOnVybF0pIGlmIEZpbGUuZXhpc3Q/KGNvbXBvbmVudF90b19kZWxldGVbOnVybF0pCiAgICAgICAgCiAgICAgICAgIyDYrdiw2YEg2KfZhNi12YjYsdipCiAgICAgICAgaWYgY29tcG9uZW50X3RvX2RlbGV0ZVs6aW1hZ2VdICYmIEZpbGUuZXhpc3Q/KGNvbXBvbmVudF90b19kZWxldGVbOmltYWdlXSkKICAgICAgICAgIEZpbGUuZGVsZXRlKGNvbXBvbmVudF90b19kZWxldGVbOmltYWdlXSkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICAjINit2LDZgSDZhdmGINin2YTZgtin2KbZhdipCiAgICAgICAgY3VycmVudF9jb21wb25lbnRzLmRlbGV0ZShjb21wb25lbnRfdG9fZGVsZXRlKQogICAgICAgIHNhdmVfY3VzdG9tX2NvbXBvbmVudHMoY3VycmVudF9jb21wb25lbnRzKQogICAgICAgIHRydWUKICAgICAgZWxzZQogICAgICAgIGZhbHNlCiAgICAgIGVuZAogICAgcmVzY3VlID0+IGUKICAgICAgZmFsc2UKICAgIGVuZAogIGVuZAoKICAjID09PT09PT09PT0g2KPYr9in2Kkg2KrYqtio2Lkg2KfZhNmF2KfZiNizINi52YbYryDYp9mE2KXYr9ix2KfYrCA9PT09PT09PT09CiAgY2xhc3MgQ29tcG9uZW50UGxhY2VyCiAgICBkZWYgaW5pdGlhbGl6ZShkZWZpbml0aW9uLCBuYW1lKQogICAgICBAZGVmaW5pdGlvbiA9IGRlZmluaXRpb24KICAgICAgQG5hbWUgPSBuYW1lCiAgICAgIEBpcCA9IFNrZXRjaHVwOjpJbnB1dFBvaW50Lm5ldwogICAgZW5kCgogICAgZGVmIG9uTW91c2VNb3ZlKGZsYWdzLCB4LCB5LCB2aWV3KQogICAgICBAaXAucGljayh2aWV3LCB4LCB5KQogICAgICB2aWV3LmludmFsaWRhdGUKICAgIGVuZAoKICAgIGRlZiBkcmF3KHZpZXcpCiAgICAgIHJldHVybiB1bmxlc3MgQGlwLnZhbGlkPwogICAgICB0ciA9IEdlb206OlRyYW5zZm9ybWF0aW9uLm5ldyhAaXAucG9zaXRpb24pCiAgICAgIHZpZXcuZHJhdyhHTF9MSU5FX1NUUklQLCBbQGlwLnBvc2l0aW9uXSkKICAgICAgYmVnaW4KICAgICAgICBwdHMgPSBAZGVmaW5pdGlvbi5ib3VuZHMuY29ybmVyKDAuLjcpLm1hcCB7IHxwdHwgcHQudHJhbnNmb3JtKHRyKSB9CiAgICAgICAgdmlldy5kcmF3KEdMX1BPTFlHT04sIHB0cykKICAgICAgcmVzY3VlCiAgICAgIGVuZAogICAgZW5kCgogICAgZGVmIG9uTEJ1dHRvbkRvd24oZmxhZ3MsIHgsIHksIHZpZXcpCiAgICAgIGlmIEBpcC52YWxpZD8KICAgICAgICB0ciA9IEdlb206OlRyYW5zZm9ybWF0aW9uLm5ldyhAaXAucG9zaXRpb24pCiAgICAgICAgaW5zdGFuY2UgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuZW50aXRpZXMuYWRkX2luc3RhbmNlKEBkZWZpbml0aW9uLCB0cikKICAgICAgICBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwuc2VsZWN0aW9uLmNsZWFyCiAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnNlbGVjdGlvbi5hZGQoaW5zdGFuY2UpCiAgICAgICAgU2tldGNodXAuYWN0aXZlX21vZGVsLnRvb2xzLnBvcF90b29sCiAgICAgICAgU2tldGNodXAuc2VuZF9hY3Rpb24oInNlbGVjdE1vdmVUb29sOiIpCiAgICAgIGVuZAogICAgZW5kCiAgZW5kCgogICMgPT09PT09INiv2KfZhNipINmE2KrYrdmF2YrZhCDZiNil2K/Ysdin2Kwg2KfZhNmF2YPZiNmGID09PT09PQogIGRlZiBzZWxmLmxvYWRfYW5kX3BsYWNlX2NvbXBvbmVudChjb21wKQogICAgYmVnaW4KICAgICAgIyDYqtit2K/ZitivINil2LDYpyDZg9in2YYg2KfZhNmF2YPZiNmGINmF2K3ZhNmK2KfZiyDYo9mIINmF2YYg2KfZhNiz2YrYsdmB2LEKICAgICAgaWYgY29tcFs6Y3VzdG9tXSAmJiBGaWxlLmV4aXN0Pyhjb21wWzp1cmxdKQogICAgICAgICMg2YXZg9mI2YYg2YXYrdmE2YoKICAgICAgICBsb2NhbF9wYXRoID0gY29tcFs6dXJsXQogICAgICBlbHNlCiAgICAgICAgIyDZhdmD2YjZhiDZhdmGINin2YTYs9mK2LHZgdixCiAgICAgICAgdXJsID0gVVJJLnBhcnNlKGNvbXBbOnVybF0pCiAgICAgICAgaGFzaF9uYW1lID0gRGlnZXN0OjpTSEEyNTYuaGV4ZGlnZXN0KHVybC50b19zKVswLi4xNl0gKyAiLnNrcCIKICAgICAgICBjYWNoZV9kaXIgPSBGaWxlLmpvaW4oRGlyLnRtcGRpciwgIm1oZGVzaWduX2NhY2hlIikKICAgICAgICBGaWxlVXRpbHMubWtkaXJfcChjYWNoZV9kaXIpCiAgICAgICAgbG9jYWxfcGF0aCA9IEZpbGUuam9pbihjYWNoZV9kaXIsIGhhc2hfbmFtZSkKCiAgICAgICAgdW5sZXNzIEZpbGUuZXhpc3Q/KGxvY2FsX3BhdGgpCiAgICAgICAgICAjINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGINmF2Lkg2LTYsdmK2Lcg2KfZhNiq2YLYr9mFCiAgICAgICAgICBkb3dubG9hZF9jb21wb25lbnRfd2l0aF9wcm9ncmVzcyh1cmwsIGxvY2FsX3BhdGgsIGNvbXBbOm5hbWVdKQogICAgICAgIGVuZAogICAgICBlbmQKCiAgICAgICMg2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YYg2YHZiiBTa2V0Y2hVcAogICAgICBpZiBGaWxlLmV4aXN0Pyhsb2NhbF9wYXRoKSAmJiBGaWxlLnNpemUobG9jYWxfcGF0aCkgPiAwCiAgICAgICAgbW9kZWwgPSBTa2V0Y2h1cC5hY3RpdmVfbW9kZWwKICAgICAgICBkZWZpbml0aW9ucyA9IG1vZGVsLmRlZmluaXRpb25zCiAgICAgICAgCiAgICAgICAgIyDYqtit2YXZitmEINin2YTYqti52LHZitmBCiAgICAgICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb25zLmxvYWQobG9jYWxfcGF0aCkKICAgICAgICAKICAgICAgICBpZiBkZWZpbml0aW9uCiAgICAgICAgICAjINin2LPYqtiu2K/Yp9mFINij2K/Yp9ipINin2YTYqtiq2KjYuSDZhNmI2LbYuSDYp9mE2YXZg9mI2YYKICAgICAgICAgIHBsYWNlciA9IENvbXBvbmVudFBsYWNlci5uZXcoZGVmaW5pdGlvbiwgY29tcFs6bmFtZV0pCiAgICAgICAgICBtb2RlbC50b29scy5wdXNoX3Rvb2wocGxhY2VyKQogICAgICAgICAgCiAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgIGVsc2UKICAgICAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDZhNmFINmK2KrZhSDYqtit2YXZitmEINin2YTZhdmD2YjZhiDZhdmGINin2YTZhdmE2YEiKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgZW5kCiAgICAgIGVsc2UKICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2YXZhNmBINin2YTZhdmD2YjZhiDYutmK2LEg2YXZiNis2YjYryDYo9mIINmB2KfYsdi6IikKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgZW5kCiAgICAgIAogICAgcmVzY3VlID0+IGUKICAgICAgVUkubWVzc2FnZWJveCgi4p2MINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGOiAje2UubWVzc2FnZX0iKQogICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAogIGVuZAoKICAjID09PT09PSDYr9in2YTYqSDZhNiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGINmF2Lkg2LTYsdmK2Lcg2KfZhNiq2YLYr9mFID09PT09PQogIGRlZiBzZWxmLmRvd25sb2FkX2NvbXBvbmVudF93aXRoX3Byb2dyZXNzKHVybCwgbG9jYWxfcGF0aCwgY29tcG9uZW50X25hbWUpCiAgICBwcm9ncmVzcyA9IFVJOjpIdG1sRGlhbG9nLm5ldyh7CiAgICAgIDpkaWFsb2dfdGl0bGUgPT4gItiq2K3ZhdmK2YQg2KfZhNmF2YPZiNmGLi4uIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fcHJvZ3Jlc3MiLAogICAgICA6c2Nyb2xsYWJsZSA9PiBmYWxzZSwKICAgICAgOnJlc2l6YWJsZSA9PiBmYWxzZSwKICAgICAgOndpZHRoID0+IDM1MCwKICAgICAgOmhlaWdodCA9PiAxNTAKICAgIH0pCgogICAgcHJvZ3Jlc3Muc2V0X2h0bWwgPDwtSFRNTAogICAgICA8aHRtbD48aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPHN0eWxlPgogICAgICAgICAgYm9keSB7IAogICAgICAgICAgICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBzYW5zLXNlcmlmOyAKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOyAKICAgICAgICAgICAgbWFyZ2luOiAwOyAKICAgICAgICAgICAgcGFkZGluZzogMjVweDsgCiAgICAgICAgICAgIGRpcmVjdGlvbjogcnRsOyAKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywjNjY3ZWVhLCM3NjRiYTIpOyAKICAgICAgICAgICAgY29sb3I6IHdoaXRlOyAKICAgICAgICAgIH0KICAgICAgICAgIGgzIHsgbWFyZ2luOiAxMHB4IDA7IH0KICAgICAgICAgIC5wcm9ncmVzcy1jb250YWluZXIgeyAKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOyAKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsgCiAgICAgICAgICAgIHBhZGRpbmc6IDNweDsgCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7IAogICAgICAgICAgfQogICAgICAgICAgI3Byb2dyZXNzLWJhciB7IAogICAgICAgICAgICB3aWR0aDogMTAwJTsgCiAgICAgICAgICAgIGhlaWdodDogMjBweDsgCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4zKTsgCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsgCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47IAogICAgICAgICAgfQogICAgICAgICAgI3Byb2dyZXNzLWZpbGwgeyAKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOyAKICAgICAgICAgICAgd2lkdGg6IDAlOyAKICAgICAgICAgICAgYmFja2dyb3VuZDogIzRjYWY1MDsgCiAgICAgICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTsgCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsgCiAgICAgICAgICB9CiAgICAgICAgICAjcGVyY2VudCB7IAogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OyAKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OyAKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7IAogICAgICAgICAgfQogICAgICAgIDwvc3R5bGU+CiAgICAgIDwvaGVhZD48Ym9keT4KICAgICAgICA8aDM+2KzYp9ix2Yog2KrYrdmF2YrZhCAje2NvbXBvbmVudF9uYW1lfTwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtY29udGFpbmVyIj4KICAgICAgICAgIDxkaXYgaWQ9InByb2dyZXNzLWJhciI+PGRpdiBpZD0icHJvZ3Jlc3MtZmlsbCI+PC9kaXY+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0icGVyY2VudCI+MCU8L2Rpdj4KICAgICAgPC9ib2R5PjwvaHRtbD4KICAgIEhUTUwKCiAgICBwcm9ncmVzcy5zaG93CgogICAgYmVnaW4KICAgICAgY29udGVudF9sZW5ndGggPSBuaWwKICAgICAgdGVtcGZpbGUgPSBUZW1wZmlsZS5uZXcoIm1oY29tcG9uZW50IikKCiAgICAgIFVSSS5vcGVuKHVybCwKICAgICAgICBjb250ZW50X2xlbmd0aF9wcm9jOiAtPihsZW4pIHsgY29udGVudF9sZW5ndGggPSBsZW4gfSwKICAgICAgICBwcm9ncmVzc19wcm9jOiAtPihieXRlcykgewogICAgICAgICAgcGVyY2VudCA9IGNvbnRlbnRfbGVuZ3RoID8gKChieXRlcy50b19mIC8gY29udGVudF9sZW5ndGgpICogMTAwKS50b19pIDogMAogICAgICAgICAgcHJvZ3Jlc3MuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy1maWxsJykuc3R5bGUud2lkdGggPSAnI3twZXJjZW50fSUnIikKICAgICAgICAgIHByb2dyZXNzLmV4ZWN1dGVfc2NyaXB0KCJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVyY2VudCcpLmlubmVyVGV4dCA9ICcje3BlcmNlbnR9JSciKQogICAgICAgIH0KICAgICAgKSBkbyB8cmVtb3RlX2ZpbGV8CiAgICAgICAgSU8uY29weV9zdHJlYW0ocmVtb3RlX2ZpbGUsIHRlbXBmaWxlKQogICAgICBlbmQKCiAgICAgIHRlbXBmaWxlLmNsb3NlCiAgICAgIEZpbGVVdGlscy5tdih0ZW1wZmlsZS5wYXRoLCBsb2NhbF9wYXRoKQogICAgICBwcm9ncmVzcy5jbG9zZSBpZiBwcm9ncmVzcy52aXNpYmxlPwoKICAgIHJlc2N1ZSA9PiBlCiAgICAgIHRlbXBmaWxlLmNsb3NlIGlmIHRlbXBmaWxlCiAgICAgIHRlbXBmaWxlLnVubGluayBpZiB0ZW1wZmlsZQogICAgICBwcm9ncmVzcy5jbG9zZSBpZiBwcm9ncmVzcy52aXNpYmxlPwogICAgICByYWlzZSBlCiAgICBlbmQKICBlbmQKCiAgIyA9PT09PT0g2KfZhNiq2K3ZgtmCINil2LDYpyDZg9in2YYg2KfZhNmF2LPYqtiu2K/ZhSDZhdmB2LnZhCA9PT09PT0KICBkZWYgc2VsZi5hY3RpdmF0ZWQ/CiAgICBTa2V0Y2h1cC5yZWFkX2RlZmF1bHQoUExVR0lOX05BTUUsICJhY3RpdmF0ZWQiLCBmYWxzZSkgPT0gdHJ1ZQogIHJlc2N1ZQogICAgZmFsc2UKICBlbmQKCiAgIyA9PT09PT0g2YbYuNin2YUg2KfZhNiq2K3ZgtmCINmI2KfZhNiq2LPYrNmK2YQgPT09PT09CiAgZGVmIHNlbGYuc2hvd19sb2dpbl9kaWFsb2cKICAgIGRsZyA9IFVJOjpIdG1sRGlhbG9nLm5ldyh7CiAgICAgIDpkaWFsb2dfdGl0bGUgPT4gIvCflJAg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQgLSDYpdi22KfZgdipINmFLiDZhdix2YjYp9mGINi52KfYr9mEIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fbG9naW4iLAogICAgICA6c2Nyb2xsYWJsZSA9PiBmYWxzZSwKICAgICAgOnJlc2l6YWJsZSA9PiBmYWxzZSwKICAgICAgOndpZHRoID0+IDQ1MCwKICAgICAgOmhlaWdodCA9PiA0MDAKICAgIH0pCgogICAgaHRtbCA9IDw8LUhUTUwKICAgIDxodG1sPjxoZWFkPgogICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9VGFqYXdhbDp3Z2h0QDQwMDs3MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgogICAgICA8c3R5bGU+CiAgICAgICAgYm9keSB7CiAgICAgICAgICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBzYW5zLXNlcmlmOwogICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEsICM3NjRiYTIpOwogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgZGlyZWN0aW9uOiBydGw7CiAgICAgICAgfQogICAgICAgIC5sb2dpbi1jb250YWluZXIgewogICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICBwYWRkaW5nOiA0MHB4OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgIGJveC1zaGFkb3c6IDAgMjBweCA0MHB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICAgIHdpZHRoOiAzODBweDsKICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgLmxvZ28gewogICAgICAgICAgd2lkdGg6IDgwcHg7CiAgICAgICAgICBoZWlnaHQ6IDgwcHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgYm9yZGVyOiAzcHggc29saWQgIzY2N2VlYTsKICAgICAgICB9CiAgICAgICAgaDIgewogICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgZm9udC1zaXplOiAyNHB4OwogICAgICAgIH0KICAgICAgICAuc3VidGl0bGUgewogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsKICAgICAgICB9CiAgICAgICAgLmZvcm0tZ3JvdXAgewogICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgIH0KICAgICAgICBsYWJlbCB7CiAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgfQogICAgICAgIGlucHV0IHsKICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgcGFkZGluZzogMTJweCAxNXB4OwogICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2UxZTFlMTsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBzYW5zLXNlcmlmOwogICAgICAgIH0KICAgICAgICBpbnB1dDpmb2N1cyB7CiAgICAgICAgICBib3JkZXItY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMTAyLDEyNiwyMzQsMC4xKTsKICAgICAgICB9CiAgICAgICAgLmxvZ2luLWJ0biB7CiAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNENBRjUwLCAjNDVhMDQ5KTsKICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBzYW5zLXNlcmlmOwogICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgfQogICAgICAgIC5sb2dpbi1idG46aG92ZXIgewogICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDc2LDE3NSw4MCwwLjMpOwogICAgICAgIH0KICAgICAgICAubG9naW4tYnRuOmRpc2FibGVkIHsKICAgICAgICAgIGJhY2tncm91bmQ6ICNjY2M7CiAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgICAgdHJhbnNmb3JtOiBub25lOwogICAgICAgICAgYm94LXNoYWRvdzogbm9uZTsKICAgICAgICB9CiAgICAgICAgLm1lc3NhZ2UgewogICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgfQogICAgICAgIC5zdWNjZXNzIHsKICAgICAgICAgIGJhY2tncm91bmQ6ICNkNGVkZGE7CiAgICAgICAgICBjb2xvcjogIzE1NTcyNDsKICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjM2U2Y2I7CiAgICAgICAgfQogICAgICAgIC5lcnJvciB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjhkN2RhOwogICAgICAgICAgY29sb3I6ICM3MjFjMjQ7CiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZjVjNmNiOwogICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIH0KICAgICAgICAuZm9vdGVyIHsKICAgICAgICAgIG1hcmdpbi10b3A6IDI1cHg7CiAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICAgICAgfQogICAgICAgIC5jb250YWN0IHsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmYzY2Q7CiAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgbWFyZ2luLXRvcDogMTVweDsKICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgY29sb3I6ICM4NTY0MDQ7CiAgICAgICAgfQogICAgICA8L3N0eWxlPgogICAgPC9oZWFkPgogICAgPGJvZHk+CiAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWNvbnRhaW5lciI+CiAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vaS5pYmIuY28vVzR5N2NERlgvY3JvcHBlZC1jaXJjbGUtaW1hZ2UucG5nIiBhbHQ9IkxvZ28iIGNsYXNzPSJsb2dvIj4KICAgICAgICA8aDI+8J+UkCDYqtiz2KzZitmEINin2YTYr9iu2YjZhDwvaDI+CiAgICAgICAgPGRpdiBjbGFzcz0ic3VidGl0bGUiPtij2K/YrtmEINio2YrYp9mG2KfYqtmDINmE2YTZiNi12YjZhCDYpdmE2Ykg2KXYttin2YHYqSDZhS4g2YXYsdmI2KfZhiDYudin2K/ZhDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgPGxhYmVsPvCfk6cg2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKPC9sYWJlbD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJlbWFpbCIgaWQ9ImVtYWlsIiBwbGFjZWhvbGRlcj0icG9sZXMxMTIyQGdtYWlsLmNvbSI+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICA8bGFiZWw+8J+UkSDZg9mE2YXYqSDYp9mE2YXYsdmI2LE8L2xhYmVsPgogICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icGFzc3dvcmQiIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEiPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxidXR0b24gY2xhc3M9ImxvZ2luLWJ0biIgb25jbGljaz0ibG9naW4oKSI+8J+agCDYr9iu2YjZhCDYpdmE2Ykg2KfZhNil2LbYp9mB2Kk8L2J1dHRvbj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJtZXNzYWdlIiBjbGFzcz0ibWVzc2FnZSI+PC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iZm9vdGVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhY3QiPgogICAgICAgICAgICDwn5OeINmE2YTYr9i52YUg2KfZhNmB2YbZijogPHN0cm9uZz4wMTIwNDI3OTYwNjwvc3Ryb25nPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICDYqtmFINin2YTYqti32YjZitixINio2YjYp9iz2LfYqSDZhS4g2YXYsdmI2KfZhiDYudin2K/ZhAogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDxzY3JpcHQ+CiAgICAgICAgZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgICAgICBjb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpLnZhbHVlOwogICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKS52YWx1ZTsKICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpOwogICAgICAgICAgCiAgICAgICAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkgewogICAgICAgICAgICBzaG93TWVzc2FnZSgn4pqg77iPINmK2LHYrNmJINmF2YTYoSDYrNmF2YrYuSDYp9mE2K3ZgtmI2YQnLCAnZXJyb3InKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICAvLyDYqti52LfZitmEINin2YTYstixINij2KvZhtin2KEg2KfZhNiq2K3ZgtmCCiAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW4tYnRuJyk7CiAgICAgICAgICBidG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgYnRuLmlubmVySFRNTCA9ICfij7Mg2KzYp9ix2Yog2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNio2YrYp9mG2KfYqi4uLic7CiAgICAgICAgICAKICAgICAgICAgIHNrZXRjaHVwLnZhbGlkYXRlTG9naW4oZW1haWwsIHBhc3N3b3JkKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gc2hvd01lc3NhZ2UodGV4dCwgdHlwZSkgewogICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlJyk7CiAgICAgICAgICBtZXNzYWdlLmlubmVySFRNTCA9IHRleHQ7CiAgICAgICAgICBtZXNzYWdlLmNsYXNzTmFtZSA9ICdtZXNzYWdlICcgKyB0eXBlOwogICAgICAgICAgbWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2KfZhNiz2YXYp9itINio2KfZhNi22LrYtyDYudmE2YkgRW50ZXIKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykgewogICAgICAgICAgICBsb2dpbigpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICA8L3NjcmlwdD4KICAgIDwvYm9keT48L2h0bWw+CiAgICBIVE1MCgogICAgZGxnLnNldF9odG1sKGh0bWwpCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soInZhbGlkYXRlTG9naW4iKSBkbyB8XywgZW1haWwsIHBhc3N3b3JkfAogICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IHZhbGlkYXRlX3VzZXIoZW1haWwsIHBhc3N3b3JkKQogICAgICAKICAgICAgaWYgdmFsaWRhdGlvbl9yZXN1bHRbOnN1Y2Nlc3NdCiAgICAgICAgIyDYrdmB2Lgg2KjZitin2YbYp9iqINin2YTZhdiz2KrYrtiv2YUKICAgICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiZW1haWwiLCBlbWFpbCkKICAgICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAicGFzc3dvcmQiLCBwYXNzd29yZCkKICAgICAgICBTa2V0Y2h1cC53cml0ZV9kZWZhdWx0KFBMVUdJTl9OQU1FLCAiYWN0aXZhdGVkIiwgdHJ1ZSkKICAgICAgICAKICAgICAgICBkbGcuY2xvc2UKICAgICAgICBVSS5tZXNzYWdlYm94KHZhbGlkYXRpb25fcmVzdWx0WzptZXNzYWdlXSkKICAgICAgICBzaG93X2xpYnJhcnkKICAgICAgZWxzZQogICAgICAgIGRsZy5leGVjdXRlX3NjcmlwdCgic2hvd01lc3NhZ2UoJyN7dmFsaWRhdGlvbl9yZXN1bHRbOm1lc3NhZ2VdfScsICdlcnJvcicpIikKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbi1idG4nKS5kaXNhYmxlZCA9IGZhbHNlIikKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoImRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbi1idG4nKS5pbm5lckhUTUwgPSAn8J+agCDYr9iu2YjZhCDYpdmE2Ykg2KfZhNil2LbYp9mB2KknIikKICAgICAgZW5kCiAgICBlbmQKCiAgICBkbGcuc2hvdwogIGVuZAoKICAjID09PT09PSDYr9in2YTYqSDZhNi52LHYtiDYp9mE2YXZg9iq2KjYqSDYp9mE2LHYptmK2LPZitipID09PT09PQogIGRlZiBzZWxmLnNob3dfbGlicmFyeQogICAgIyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KrYs9is2YrZhCDYo9mI2YTYp9mLCiAgICB1bmxlc3MgYWN0aXZhdGVkPwogICAgICBzaG93X2xvZ2luX2RpYWxvZwogICAgICByZXR1cm4KICAgIGVuZAoKICAgICMg2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqCiAgICBjb21wb25lbnRzX2RhdGEgPSBsb2FkX2NvbXBvbmVudHNfZGF0YQogICAgCiAgICBpZiBjb21wb25lbnRzX2RhdGEuZW1wdHk/CiAgICAgIFVJLm1lc3NhZ2Vib3goIuKdjCDZhNinINiq2YjYrNivINio2YrYp9mG2KfYqiDZhdiq2KfYrdipLiDZitix2KzZiSDYp9mE2KrYrdmC2YIg2YXZhiDYp9iq2LXYp9mEINin2YTYpdmG2KrYsdmG2KouIikKICAgICAgcmV0dXJuCiAgICBlbmQKCiAgICBkbGcgPSBVSTo6SHRtbERpYWxvZy5uZXcoewogICAgICA6ZGlhbG9nX3RpdGxlID0+ICLwn4+gINmF2YPYqtio2Kkg2KfZhNmF2LfYp9io2K4gLSDYpdi22KfZgdipINmFLiDZhdix2YjYp9mGINi52KfYr9mEIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fbGlicmFyeSIsCiAgICAgIDpzY3JvbGxhYmxlID0+IHRydWUsCiAgICAgIDpyZXNpemFibGUgPT4gdHJ1ZSwKICAgICAgOndpZHRoID0+IDEyMDAsCiAgICAgIDpoZWlnaHQgPT4gODAwCiAgICB9KQoKICAgIGNhdGVnb3JpZXMgPSBjb21wb25lbnRzX2RhdGEubWFwIHsgfGN8IGNbOmNhdGVnb3J5XSB9LnVuaXEuc29ydAoKICAgIGh0bWwgPSA8PC1IVE1MCiAgICA8aHRtbD48aGVhZD4KICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVRhamF3YWw6d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICAgICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsKICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmOWY5Zjk7CiAgICAgICAgICBwYWRkaW5nOiAwIDIwcHggNDBweDsKICAgICAgICAgIGRpcmVjdGlvbjogcnRsOwogICAgICAgIH0KICAgICAgICBoZWFkZXIgewogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICBwYWRkaW5nOiAyMHB4IDA7CiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4OwogICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjA4KTsKICAgICAgICB9CiAgICAgICAgaGVhZGVyIGltZyB7CiAgICAgICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgfQogICAgICAgIGhlYWRlciBoMiB7CiAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICBmb250LXNpemU6IDI2cHg7CiAgICAgICAgICBjb2xvcjogIzJlN2QzMjsKICAgICAgICB9CiAgICAgICAgLmNvbnRyb2xzIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBnYXA6IDEycHg7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4OwogICAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgIH0KICAgICAgICAuY29udHJvbC1idG4gewogICAgICAgICAgcGFkZGluZzogMTJweCAyMHB4OwogICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSwgIzc2NGJhMik7CiAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgIGdhcDogOHB4OwogICAgICAgIH0KICAgICAgICAuY29udHJvbC1idG46aG92ZXIgewogICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgICAgYm94LXNoYWRvdzogMCA2cHggMTVweCByZ2JhKDEwMiwxMjYsMjM0LDAuMyk7CiAgICAgICAgfQogICAgICAgIC5jb250cm9sLWJ0bi51cGxvYWQgewogICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzRDQUY1MCwgIzQ1YTA0OSk7CiAgICAgICAgfQogICAgICAgIC5jb250cm9sLWJ0bi5tYW5hZ2UgewogICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0ZGOTgwMCwgI0Y1N0MwMCk7CiAgICAgICAgfQogICAgICAgIC5jYXRlZ29yeS1maWx0ZXJzIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgfQogICAgICAgIC5jYXRlZ29yeS1maWx0ZXIgewogICAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1OwogICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4OwogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgfQogICAgICAgIC5jYXRlZ29yeS1maWx0ZXI6aG92ZXIgewogICAgICAgICAgYmFja2dyb3VuZDogI2UwZTBlMDsKICAgICAgICB9CiAgICAgICAgLmNhdGVnb3J5LWZpbHRlci5hY3RpdmUgewogICAgICAgICAgYmFja2dyb3VuZDogIzY2N2VlYTsKICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CiAgICAgICAgLmdyaWQgewogICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI1MHB4LCAxZnIpKTsKICAgICAgICAgIGdhcDogMjVweDsKICAgICAgICB9CiAgICAgICAgLmNhcmQgewogICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgICAgICAgcGFkZGluZzogMTVweDsKICAgICAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDE1cHggcmdiYSgwLDAsMCwwLjA4KTsKICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjRzIGVhc2U7CiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KICAgICAgICAuY2FyZDo6YmVmb3JlIHsKICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgdG9wOiAwOwogICAgICAgICAgbGVmdDogMDsKICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgaGVpZ2h0OiA0cHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhLCAjNzY0YmEyKTsKICAgICAgICB9CiAgICAgICAgLmNhcmQ6aG92ZXIgewogICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC04cHgpIHNjYWxlKDEuMDIpOwogICAgICAgICAgYm94LXNoYWRvdzogMCAxNXB4IDMwcHggcmdiYSgwLDAsMCwwLjE1KTsKICAgICAgICB9CiAgICAgICAgLmNhcmQuY3VzdG9tOjphZnRlciB7CiAgICAgICAgICBjb250ZW50OiAn4q2QINmF2K7Ytdi1JzsKICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgIHRvcDogMTBweDsKICAgICAgICAgIGxlZnQ6IDEwcHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjRkZENzAwLCAjRkZBMDAwKTsKICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICBmb250LXNpemU6IDEwcHg7CiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CiAgICAgICAgaW1nLmNvbXBvbmVudC1pbWcgewogICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICBoZWlnaHQ6IDE4MHB4OwogICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICB9CiAgICAgICAgaDQgewogICAgICAgICAgbWFyZ2luOiAxMHB4IDAgNXB4OwogICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgIH0KICAgICAgICAuY2FyZC1jYXRlZ29yeSB7CiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZTNmMmZkOwogICAgICAgICAgY29sb3I6ICMxOTc2ZDI7CiAgICAgICAgICBwYWRkaW5nOiAzcHggOHB4OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgZm9udC1zaXplOiAxMXB4OwogICAgICAgICAgbWFyZ2luOiA4cHggMDsKICAgICAgICB9CiAgICAgICAgcCB7CiAgICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7CiAgICAgICAgICBtaW4taGVpZ2h0OiA0MHB4OwogICAgICAgIH0KICAgICAgICBidXR0b24uaW5zZXJ0LWJ0biB7CiAgICAgICAgICBtYXJnaW4tdG9wOiAxMnB4OwogICAgICAgICAgcGFkZGluZzogMTBweCAxNnB4OwogICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzRDQUY1MCwgIzQ1YTA0OSk7CiAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbi5pbnNlcnQtYnRuOmhvdmVyIHsKICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM0NWEwNDksICM0Q0FGNTApOwogICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDc2LDE3NSw4MCwwLjMpOwogICAgICAgIH0KICAgICAgICBmb290ZXIgewogICAgICAgICAgbWFyZ2luLXRvcDogNTBweDsKICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgICAgIGNvbG9yOiAjOTk5OwogICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICB9CiAgICAgICAgLnN0YXRzIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xKTsKICAgICAgICB9CiAgICAgIDwvc3R5bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keSBvbmNvbnRleHRtZW51PSJyZXR1cm4gZmFsc2UiPgogICAgICA8aGVhZGVyPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjIwcHg7Ij4KICAgICAgICAgIDxpbWcgc3JjPSJodHRwczovL2kuaWJiLmNvL1c0eTdjREZYL2Nyb3BwZWQtY2lyY2xlLWltYWdlLnBuZyIgYWx0PSJMb2dvIiAvPgogICAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGgyPvCfj6Ag2YXZg9iq2KjYqSDYqti12YXZitmFINin2YTZhdi32KfYqNiuIHwg2KXYttin2YHYqSDZhS4g2YXYsdmI2KfZhiDYudin2K/ZhDwvaDI+CiAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW46NXB4IDAgMCAwO2NvbG9yOiM2NjY7Zm9udC1zaXplOjE0cHg7Ij7Zhdix2K3YqNin2Ysg2KjZgyDZgdmKINin2YTYpdi22KfZgdipISDwn5G34oCN4pmC77iPPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDoxNXB4O2FsaWduLWl0ZW1zOmNlbnRlcjsiPgogICAgICAgICAgPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6IzRDQUY1MDtjb2xvcjp3aGl0ZTtwYWRkaW5nOjhweCAxNXB4O2JvcmRlci1yYWRpdXM6MjBweDtmb250LXNpemU6MTRweDsiPvCfn6Ig2YXZgdi52YQ8L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvaGVhZGVyPgoKICAgICAgPGRpdiBjbGFzcz0iY29udHJvbHMiPgogICAgICAgIDxidXR0b24gY2xhc3M9ImNvbnRyb2wtYnRuIHVwbG9hZCIgb25jbGljaz0idXBsb2FkQ29tcG9uZW50KCkiPgogICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxOHB4OyI+8J+TpDwvc3Bhbj4g2LHZgdi5INmF2YPZiNmGINis2K/ZitivCiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY29udHJvbC1idG4gbWFuYWdlIiBvbmNsaWNrPSJtYW5hZ2VDb21wb25lbnRzKCkiPgogICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxOHB4OyI+8J+boO+4jzwvc3Bhbj4g2KXYr9in2LHYqSDYp9mE2YXZg9mI2YbYp9iqCiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY29udHJvbC1idG4iIG9uY2xpY2s9InJlZnJlc2hMaWJyYXJ5KCkiPgogICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxOHB4OyI+8J+UhDwvc3Bhbj4g2KrYrdiv2YrYqyDYp9mE2YXZg9iq2KjYqQogICAgICAgIDwvYnV0dG9uPgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9InN0YXRzIj4KICAgICAgICA8c3Bhbj7Yudiv2K8g2KfZhNmF2YPZiNmG2KfYqjogPHN0cm9uZz4je2NvbXBvbmVudHNfZGF0YS5sZW5ndGh9PC9zdHJvbmc+PC9zcGFuPgogICAgICAgIDxzcGFuPti52K/YryDYp9mE2KrYtdmG2YrZgdin2Ko6IDxzdHJvbmc+I3tjYXRlZ29yaWVzLmxlbmd0aH08L3N0cm9uZz48L3NwYW4+CiAgICAgICAgPHNwYW4+2KfZhNmF2YPZiNmG2KfYqiDYp9mE2YXYrti12LXYqTogPHN0cm9uZz4je2NvbXBvbmVudHNfZGF0YS5jb3VudCB7IHxjfCBjWzpjdXN0b21dIH19PC9zdHJvbmc+PC9zcGFuPgogICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgY2xhc3M9ImNhdGVnb3J5LWZpbHRlcnMiIGlkPSJjYXRlZ29yeUZpbHRlcnMiPgogICAgICAgIDxkaXYgY2xhc3M9ImNhdGVnb3J5LWZpbHRlciBhY3RpdmUiIG9uY2xpY2s9ImZpbHRlckNvbXBvbmVudHMoJ2FsbCcpIj7Yp9mE2YPZhDwvZGl2PgogICAgICAgICN7Y2F0ZWdvcmllcy5tYXAgeyB8Y2F0fCAiPGRpdiBjbGFzcz0nY2F0ZWdvcnktZmlsdGVyJyBvbmNsaWNrPVwiZmlsdGVyQ29tcG9uZW50cygnI3tjYXR9JylcIj4je2NhdH08L2Rpdj4iIH0uam9pbn0KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJncmlkIiBpZD0iY29tcG9uZW50cyI+CiAgICAgICAgPCEtLSDYs9mK2KrZhSDZhdmE2KEg2KfZhNmF2YPZiNmG2KfYqiDZh9mG2KcgLS0+CiAgICAgIDwvZGl2PgoKICAgICAgPGZvb3Rlcj4KICAgICAgICDYqtmFINiq2LfZiNmK2LEg2YfYsNmHINin2YTYpdi22KfZgdipINio2YjYp9iz2LfYqSA8Yj7ZhS4g2YXYsdmI2KfZhiDYudin2K/ZhDwvYj48YnI+CiAgICAgICAg8J+TniDZhNmE2K/YudmFINin2YTZgdmG2Yo6IDxiPjAxMjA0Mjc5NjA2PC9iPjxicj4KICAgICAgICA8c21hbGw+wqkgMjAyNCDYpdi22KfZgdipINmFLiDZhdix2YjYp9mGINi52KfYr9mEIC0g2KzZhdmK2Lkg2KfZhNit2YLZiNmCINmF2K3ZgdmI2LjYqTwvc21hbGw+CiAgICAgIDwvZm9vdGVyPgoKICAgICAgPHNjcmlwdD4KICAgICAgICBjb25zdCBhbGxDb21wb25lbnRzID0gI3tjb21wb25lbnRzX2RhdGEudG9fanNvbn07CiAgICAgICAgbGV0IGN1cnJlbnRGaWx0ZXIgPSAnYWxsJzsKCiAgICAgICAgZnVuY3Rpb24gbG9hZENvbXBvbmVudChjb21wKSB7CiAgICAgICAgICBza2V0Y2h1cC5sb2FkQ29tcG9uZW50QnlEYXRhKEpTT04uc3RyaW5naWZ5KGNvbXApKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwbG9hZENvbXBvbmVudCgpIHsKICAgICAgICAgIHNrZXRjaHVwLnNob3dVcGxvYWREaWFsb2coKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG1hbmFnZUNvbXBvbmVudHMoKSB7CiAgICAgICAgICBza2V0Y2h1cC5tYW5hZ2VDdXN0b21Db21wb25lbnRzKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWZyZXNoTGlicmFyeSgpIHsKICAgICAgICAgIHNrZXRjaHVwLnJlZnJlc2hMaWJyYXJ5KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBmaWx0ZXJDb21wb25lbnRzKGNhdGVnb3J5KSB7CiAgICAgICAgICBjdXJyZW50RmlsdGVyID0gY2F0ZWdvcnk7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0ZWdvcnktZmlsdGVyJykuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsKICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgIHJlbmRlckNvbXBvbmVudHMoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudHMoKSB7CiAgICAgICAgICBsZXQgZmlsdGVyZWRDb21wb25lbnRzID0gYWxsQ29tcG9uZW50czsKICAgICAgICAgIAogICAgICAgICAgaWYgKGN1cnJlbnRGaWx0ZXIgIT09ICdhbGwnKSB7CiAgICAgICAgICAgIGZpbHRlcmVkQ29tcG9uZW50cyA9IGZpbHRlcmVkQ29tcG9uZW50cy5maWx0ZXIoY29tcCA9PiBjb21wLmNhdGVnb3J5ID09PSBjdXJyZW50RmlsdGVyKTsKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgaHRtbCA9ICcnOwogICAgICAgICAgZmlsdGVyZWRDb21wb25lbnRzLmZvckVhY2goY29tcCA9PiB7CiAgICAgICAgICAgIGNvbnN0IGlzQ3VzdG9tID0gY29tcC5jdXN0b20gPyAnIGN1c3RvbScgOiAnJzsKICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCR7aXNDdXN0b219Ij4KICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9ImNvbXBvbmVudC1pbWciIHNyYz0iJHtjb21wLmltYWdlfSIgb25lcnJvcj0idGhpcy5zcmM9J2h0dHBzOi8vbWFobW91ZGRlc2lnbi5jb20vU0tFVENIVVAvY29tcG9uZW50cy9kZWZhdWx0X3RodW1iLnBuZyciPgogICAgICAgICAgICAgICAgPGg0PiR7Y29tcC5uYW1lfTwvaDQ+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWNhdGVnb3J5Ij4ke2NvbXAuY2F0ZWdvcnl9PC9kaXY+CiAgICAgICAgICAgICAgICA8cD4ke2NvbXAuZGVzY308L3A+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJpbnNlcnQtYnRuIiBvbmNsaWNrPSdsb2FkQ29tcG9uZW50KCR7SlNPTi5zdHJpbmdpZnkoY29tcCl9KSc+8J+agCDYpdiv2LHYp9isINmB2Yog2KfZhNiq2LXZhdmK2YU8L2J1dHRvbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcG9uZW50cycpLmlubmVySFRNTCA9IGh0bWwgfHwgJzxkaXYgc3R5bGU9ImdyaWQtY29sdW1uOjEvLTE7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo0MHB4O2NvbG9yOiM2NjY7Ij7ZhNinINiq2YjYrNivINmF2YPZiNmG2KfYqiDZhdi32KfYqNmC2Kkg2YTZhNio2K3YqzwvZGl2Pic7CiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTsKICAgICAgICB3aW5kb3cub25sb2FkID0gKCkgPT4gcmVuZGVyQ29tcG9uZW50cygpOwogICAgICA8L3NjcmlwdD4KICAgIDwvYm9keT48L2h0bWw+CiAgICBIVE1MCgogICAgZGxnLnNldF9odG1sKGh0bWwpCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImxvYWRDb21wb25lbnRCeURhdGEiKSBkbyB8XywgY29tcF9qc29ufAogICAgICBiZWdpbgogICAgICAgIGNvbXAgPSBKU09OLnBhcnNlKGNvbXBfanNvbiwgc3ltYm9saXplX25hbWVzOiB0cnVlKQogICAgICAgIGlmIGxvYWRfYW5kX3BsYWNlX2NvbXBvbmVudChjb21wKQogICAgICAgICAgVUkubWVzc2FnZWJveCgi4pyFINiq2YUg2KrYrdmF2YrZhCAnI3tjb21wWzpuYW1lXX0nINio2YbYrNin2K0hXG5cbtin2YbZgtixINmB2Yog2KfZhNmF2YPYp9mGINin2YTZhdmG2KfYs9ioINmB2Yog2KfZhNmG2YXZiNiw2Kwg2YTZiNi22Lkg2KfZhNmF2YPZiNmGIikKICAgICAgICBlbmQKICAgICAgcmVzY3VlID0+IGUKICAgICAgICBVSS5tZXNzYWdlYm94KCLinYwg2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXZg9mI2YY6ICN7ZS5tZXNzYWdlfSIpCiAgICAgIGVuZAogICAgZW5kCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soInNob3dVcGxvYWREaWFsb2ciKSBkbyB8X3wKICAgICAgc2hvd191cGxvYWRfZGlhbG9nCiAgICBlbmQKCiAgICBkbGcuYWRkX2FjdGlvbl9jYWxsYmFjaygibWFuYWdlQ3VzdG9tQ29tcG9uZW50cyIpIGRvIHxffAogICAgICBtYW5hZ2VfY3VzdG9tX2NvbXBvbmVudHMKICAgIGVuZAoKICAgIGRsZy5hZGRfYWN0aW9uX2NhbGxiYWNrKCJyZWZyZXNoTGlicmFyeSIpIGRvIHxffAogICAgICBkbGcuY2xvc2UKICAgICAgc2hvd19saWJyYXJ5CiAgICBlbmQKCiAgICBkbGcuc2hvdwogIGVuZAoKICAjID09PT09PSDYr9in2YTYqSDZhNi52LHYtiDZiNin2KzZh9ipINix2YHYuSDYp9mE2YXZg9mI2YYgPT09PT09CiAgZGVmIHNlbGYuc2hvd191cGxvYWRfZGlhbG9nCiAgICAjINin2YTYqtit2YLZgiDZhdmGINin2YTYqtiz2KzZitmEINij2YjZhNin2YsKICAgIHVubGVzcyBhY3RpdmF0ZWQ/CiAgICAgIHNob3dfbG9naW5fZGlhbG9nCiAgICAgIHJldHVybgogICAgZW5kCgogICAgZGxnID0gVUk6Okh0bWxEaWFsb2cubmV3KHsKICAgICAgOmRpYWxvZ190aXRsZSA9PiAi8J+TpCDYsdmB2Lkg2YXZg9mI2YYg2KzYr9mK2K8gLSDZhdmD2KrYqNipIE1IREVTSUdOIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fdXBsb2FkIiwKICAgICAgOnNjcm9sbGFibGUgPT4gdHJ1ZSwKICAgICAgOnJlc2l6YWJsZSA9PiB0cnVlLAogICAgICA6d2lkdGggPT4gODAwLAogICAgICA6aGVpZ2h0ID0+IDcwMAogICAgfSkKCiAgICAjINin2YTYrdi12YjZhCDYudmE2Ykg2KfZhNiq2LXZhtmK2YHYp9iqINin2YTYrdin2YTZitipCiAgICBhbGxfY29tcG9uZW50cyA9IGxvYWRfY29tcG9uZW50c19kYXRhCiAgICBjYXRlZ29yaWVzID0gYWxsX2NvbXBvbmVudHMubWFwIHsgfGN8IGNbOmNhdGVnb3J5XSB9LnVuaXEuc29ydAoKICAgIGh0bWwgPSA8PC1IVE1MCiAgICA8aHRtbD48aGVhZD4KICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVRhamF3YWw6d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICAgICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsKICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgIHBhZGRpbmc6IDMwcHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhLCAjNzY0YmEyKTsKICAgICAgICAgIGRpcmVjdGlvbjogcnRsOwogICAgICAgIH0KICAgICAgICAuY29udGFpbmVyIHsKICAgICAgICAgIG1heC13aWR0aDogNzAwcHg7CiAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgIHBhZGRpbmc6IDMwcHg7CiAgICAgICAgICBib3gtc2hhZG93OiAwIDIwcHggNDBweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgfQogICAgICAgIC5oZWFkZXIgewogICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgICAgICB9CiAgICAgICAgLmhlYWRlciBoMSB7CiAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICBmb250LXNpemU6IDI4cHg7CiAgICAgICAgfQogICAgICAgIC5oZWFkZXIgcCB7CiAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICB9CiAgICAgICAgLmZvcm0tZ3JvdXAgewogICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjVweDsKICAgICAgICB9CiAgICAgICAgLmZvcm0tZ3JvdXAgbGFiZWwgewogICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIH0KICAgICAgICAuZm9ybS1ncm91cCBpbnB1dCwgLmZvcm0tZ3JvdXAgc2VsZWN0LCAuZm9ybS1ncm91cCB0ZXh0YXJlYSB7CiAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNlMWUxZTE7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsKICAgICAgICB9CiAgICAgICAgLmZvcm0tZ3JvdXAgaW5wdXQ6Zm9jdXMsIC5mb3JtLWdyb3VwIHNlbGVjdDpmb2N1cywgLmZvcm0tZ3JvdXAgdGV4dGFyZWE6Zm9jdXMgewogICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDEwMiwxMjYsMjM0LDAuMSk7CiAgICAgICAgfQogICAgICAgIC5mb3JtLWdyb3VwIHRleHRhcmVhIHsKICAgICAgICAgIGhlaWdodDogODBweDsKICAgICAgICAgIHJlc2l6ZTogdmVydGljYWw7CiAgICAgICAgfQogICAgICAgIC51cGxvYWQtc2VjdGlvbiB7CiAgICAgICAgICBib3JkZXI6IDJweCBkYXNoZWQgI2RkZDsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICBwYWRkaW5nOiAyNXB4OwogICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICB9CiAgICAgICAgLnVwbG9hZC1zZWN0aW9uOmhvdmVyIHsKICAgICAgICAgIGJvcmRlci1jb2xvcjogIzY2N2VlYTsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmY7CiAgICAgICAgfQogICAgICAgIC51cGxvYWQtc2VjdGlvbi5kcmFnb3ZlciB7CiAgICAgICAgICBib3JkZXItY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZWVmMmZmOwogICAgICAgIH0KICAgICAgICAudXBsb2FkLWljb24gewogICAgICAgICAgZm9udC1zaXplOiA0OHB4OwogICAgICAgICAgY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KICAgICAgICAudXBsb2FkLWJ0biB7CiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDI1cHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjY3ZWVhOwogICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICBtYXJnaW46IDVweDsKICAgICAgICAgIGZvbnQtZmFtaWx5OiAnVGFqYXdhbCcsIHNhbnMtc2VyaWY7CiAgICAgICAgfQogICAgICAgIC51cGxvYWQtYnRuOmhvdmVyIHsKICAgICAgICAgIGJhY2tncm91bmQ6ICM1YTZmZDg7CiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgfQogICAgICAgIC5maWxlLWluZm8gewogICAgICAgICAgbWFyZ2luLXRvcDogMTVweDsKICAgICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CiAgICAgICAgLnByZXZpZXcgewogICAgICAgICAgbWF4LXdpZHRoOiAyMDBweDsKICAgICAgICAgIG1heC1oZWlnaHQ6IDE1MHB4OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgIC50YWJzIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlMWUxZTE7CiAgICAgICAgfQogICAgICAgIC50YWIgewogICAgICAgICAgcGFkZGluZzogMTJweCAyMHB4OwogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgfQogICAgICAgIC50YWIuYWN0aXZlIHsKICAgICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICBjb2xvcjogIzY2N2VlYTsKICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIH0KICAgICAgICAudGFiLWNvbnRlbnQgewogICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CiAgICAgICAgLnRhYi1jb250ZW50LmFjdGl2ZSB7CiAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB9CiAgICAgICAgLnN1Ym1pdC1idG4gewogICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzRDQUY1MCwgIzQ1YTA0OSk7CiAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgICAgICAgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsKICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIH0KICAgICAgICAuc3VibWl0LWJ0bjpob3ZlciB7CiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDc2LDE3NSw4MCwwLjMpOwogICAgICAgIH0KICAgICAgICAudXJsLWlucHV0IHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgICBtYXJnaW4tdG9wOiAxNXB4OwogICAgICAgIH0KICAgICAgICAudXJsLWlucHV0IGlucHV0IHsKICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgfQogICAgICAgIC5jYXRlZ29yeS1zZWxlY3QgewogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQogICAgICAgIC5jYXRlZ29yeS1zZWxlY3Qgc2VsZWN0IHsKICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgfQogICAgICAgIC5uZXctY2F0ZWdvcnkgewogICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgfQogICAgICAgIC51cmwtc2VjdGlvbiB7CiAgICAgICAgICBtYXJnaW4tdG9wOiAxNXB4OwogICAgICAgIH0KICAgICAgPC9zdHlsZT4KICAgIDwvaGVhZD4KICAgIDxib2R5PgogICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+CiAgICAgICAgICA8aDE+8J+TpCDYsdmB2Lkg2YXZg9mI2YYg2KzYr9mK2K88L2gxPgogICAgICAgICAgPHA+2KPYttmBINmF2YPZiNmG2KfYqtmDINin2YTYrtin2LXYqSDYpdmE2Ykg2YXZg9iq2KjYqSBNSERFU0lHTjwvcD4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICA8bGFiZWw+8J+UpCDYp9iz2YUg2KfZhNmF2YPZiNmGPC9sYWJlbD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iY29tcG9uZW50TmFtZSIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINin2LPZhSDZiNin2LbYrSDZhNmE2YXZg9mI2YYuLi4iPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbD7wn5OBINin2YTYqti12YbZitmBPC9sYWJlbD4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhdGVnb3J5LXNlbGVjdCI+CiAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImNvbXBvbmVudENhdGVnb3J5IiBvbmNoYW5nZT0idG9nZ2xlTmV3Q2F0ZWdvcnkoKSI+CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYqti12YbZitmBLi4uPC9vcHRpb24+CiAgICAgICAgICAgICAgI3tjYXRlZ29yaWVzLm1hcCB7IHxjYXR8ICI8b3B0aW9uIHZhbHVlPScje2NhdH0nPiN7Y2F0fTwvb3B0aW9uPiIgfS5qb2lufQogICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im5ldyI+4p6VINiq2LXZhtmK2YEg2KzYr9mK2K88L29wdGlvbj4KICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgaWQ9Im5ld0NhdGVnb3J5IiBjbGFzcz0ibmV3LWNhdGVnb3J5Ij4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJuZXdDYXRlZ29yeU5hbWUiIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDYp9iz2YUg2KfZhNiq2LXZhtmK2YEg2KfZhNis2K/ZitivLi4uIj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbD7wn5OdINin2YTZiNi12YE8L2xhYmVsPgogICAgICAgICAgPHRleHRhcmVhIGlkPSJjb21wb25lbnREZXNjcmlwdGlvbiIgcGxhY2Vob2xkZXI9ItmI2LXZgSDZhdiu2KrYtdixINmE2YTZhdmD2YjZhi4uLiI+PC90ZXh0YXJlYT4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICA8bGFiZWw+8J+TgSDZhdmE2YEgU0tQPC9sYWJlbD4KICAgICAgICAgIDxkaXYgY2xhc3M9InVwbG9hZC1zZWN0aW9uIiBpZD0ic2twVXBsb2FkU2VjdGlvbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InVwbG9hZC1pY29uIj7wn5OBPC9kaXY+CiAgICAgICAgICAgIDxoMz7YsdmB2Lkg2YXZhNmBIFNLUDwvaDM+CiAgICAgICAgICAgIDxwPtin2LPYrdioINmI2KPZgdmE2Kog2YXZhNmBIFNLUCDZh9mG2Kcg2KPZiCDYp9mG2YLYsSDZhNmE2KfYrtiq2YrYp9ixPC9wPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1cGxvYWQtYnRuIiBvbmNsaWNrPSJzZWxlY3RTa3BGaWxlKCkiPtin2K7YqtixINmF2YTZgSBTS1A8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idXBsb2FkLWJ0biIgb25jbGljaz0ic2hvd1VybElucHV0KCdza3AnKSI+2KPZiCDYo9iv2K7ZhCDYsdin2KjYtzwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWluZm8iIGlkPSJza3BGaWxlSW5mbyI+PC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIAogICAgICAgICAgPGRpdiBpZD0ic2twVXJsSW5wdXQiIGNsYXNzPSJ1cmwtc2VjdGlvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InNrcFVybCIgcGxhY2Vob2xkZXI9Imh0dHBzOi8vZXhhbXBsZS5jb20vY29tcG9uZW50LnNrcCIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1cGxvYWQtYnRuIiBvbmNsaWNrPSJoaWRlVXJsSW5wdXQoJ3NrcCcpIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idXBsb2FkLWJ0biIgb25jbGljaz0ic2V0U2twVXJsKCkiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjNENBRjUwOyI+2KrYo9mD2YrYryDYp9mE2LHYp9io2Lc8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICA8bGFiZWw+8J+WvO+4jyDYtdmI2LHYqSDYp9mE2YXYudin2YrZhtipPC9sYWJlbD4KICAgICAgICAgIDxkaXYgY2xhc3M9InVwbG9hZC1zZWN0aW9uIiBpZD0iaW1hZ2VVcGxvYWRTZWN0aW9uIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idXBsb2FkLWljb24iPvCflrzvuI88L2Rpdj4KICAgICAgICAgICAgPGgzPtix2YHYuSDYtdmI2LHYqSDYp9mE2YXYudin2YrZhtipPC9oMz4KICAgICAgICAgICAgPHA+2KfYs9it2Kgg2YjYo9mB2YTYqiDYp9mE2LXZiNix2Kkg2YfZhtinINij2Ygg2KfZhtmC2LEg2YTZhNin2K7YqtmK2KfYsTwvcD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0idXBsb2FkLWJ0biIgb25jbGljaz0ic2VsZWN0SW1hZ2VGaWxlKCkiPtin2K7YqtixINi12YjYsdipPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InVwbG9hZC1idG4iIG9uY2xpY2s9InNob3dVcmxJbnB1dCgnaW1hZ2UnKSI+2KPZiCDYo9iv2K7ZhCDYsdin2KjYtzwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWluZm8iIGlkPSJpbWFnZUZpbGVJbmZvIj48L2Rpdj4KICAgICAgICAgICAgPGltZyBpZD0iaW1hZ2VQcmV2aWV3IiBjbGFzcz0icHJldmlldyI+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIAogICAgICAgICAgPGRpdiBpZD0iaW1hZ2VVcmxJbnB1dCIgY2xhc3M9InVybC1zZWN0aW9uIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iaW1hZ2VVcmwiIHBsYWNlaG9sZGVyPSJodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLnBuZyIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1cGxvYWQtYnRuIiBvbmNsaWNrPSJoaWRlVXJsSW5wdXQoJ2ltYWdlJykiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ1cGxvYWQtYnRuIiBvbmNsaWNrPSJzZXRJbWFnZVVybCgpIiBzdHlsZT0iYmFja2dyb3VuZDogIzRDQUY1MDsiPtiq2KPZg9mK2K8g2KfZhNix2KfYqNi3PC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxidXR0b24gY2xhc3M9InN1Ym1pdC1idG4iIG9uY2xpY2s9InN1Ym1pdEZvcm0oKSI+8J+agCDYsdmB2Lkg2KfZhNmF2YPZiNmGINil2YTZiSDYp9mE2YXZg9iq2KjYqTwvYnV0dG9uPgogICAgICA8L2Rpdj4KCiAgICAgIDxzY3JpcHQ+CiAgICAgICAgbGV0IHNrcEZpbGUgPSBudWxsOwogICAgICAgIGxldCBpbWFnZUZpbGUgPSBudWxsOwogICAgICAgIGxldCBza3BVcmwgPSAnJzsKICAgICAgICBsZXQgaW1hZ2VVcmwgPSAnJzsKCiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlTmV3Q2F0ZWdvcnkoKSB7CiAgICAgICAgICBjb25zdCBjYXRlZ29yeVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wb25lbnRDYXRlZ29yeScpOwogICAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcnlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3Q2F0ZWdvcnknKTsKICAgICAgICAgIG5ld0NhdGVnb3J5RGl2LnN0eWxlLmRpc3BsYXkgPSBjYXRlZ29yeVNlbGVjdC52YWx1ZSA9PT0gJ25ldycgPyAnYmxvY2snIDogJ25vbmUnOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2VsZWN0U2twRmlsZSgpIHsKICAgICAgICAgIHNrZXRjaHVwLnNlbGVjdFNrcEZpbGUoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNlbGVjdEltYWdlRmlsZSgpIHsKICAgICAgICAgIHNrZXRjaHVwLnNlbGVjdEltYWdlRmlsZSgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2hvd1VybElucHV0KHR5cGUpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHR5cGUgKyAnVXBsb2FkU2VjdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0eXBlICsgJ1VybElucHV0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoaWRlVXJsSW5wdXQodHlwZSkgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHlwZSArICdVcmxJbnB1dCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0eXBlICsgJ1VwbG9hZFNlY3Rpb24nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNldFNrcFVybCgpIHsKICAgICAgICAgIGNvbnN0IHVybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdza3BVcmwnKS52YWx1ZTsKICAgICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgc2twVXJsID0gdXJsOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2twRmlsZUluZm8nKS5pbm5lckhUTUwgPSBg4pyFIDxzdHJvbmc+2LHYp9io2LcgU0tQPC9zdHJvbmc+PGJyPjxzbWFsbD4ke3VybH08L3NtYWxsPmA7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdza3BGaWxlSW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICBoaWRlVXJsSW5wdXQoJ3NrcCcpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2V0SW1hZ2VVcmwoKSB7CiAgICAgICAgICBjb25zdCB1cmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VVcmwnKS52YWx1ZTsKICAgICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgaW1hZ2VVcmwgPSB1cmw7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZUZpbGVJbmZvJykuaW5uZXJIVE1MID0gYOKchSA8c3Ryb25nPtix2KfYqNi3INin2YTYtdmI2LHYqTwvc3Ryb25nPjxicj48c21hbGw+JHt1cmx9PC9zbWFsbD5gOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VGaWxlSW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VQcmV2aWV3Jykuc3JjID0gdXJsOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VQcmV2aWV3Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIGhpZGVVcmxJbnB1dCgnaW1hZ2UnKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNrcEZpbGVJbmZvKG5hbWUsIHBhdGgpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdza3BGaWxlSW5mbycpLmlubmVySFRNTCA9IGDinIUgPHN0cm9uZz4ke25hbWV9PC9zdHJvbmc+PGJyPjxzbWFsbD4ke3BhdGh9PC9zbWFsbD5gOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NrcEZpbGVJbmZvJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVJbWFnZUZpbGVJbmZvKG5hbWUsIHBhdGgsIGRhdGFVcmwpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZUZpbGVJbmZvJykuaW5uZXJIVE1MID0gYOKchSA8c3Ryb25nPiR7bmFtZX08L3N0cm9uZz48YnI+PHNtYWxsPiR7cGF0aH08L3NtYWxsPmA7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VGaWxlSW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgaWYgKGRhdGFVcmwpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlUHJldmlldycpLnNyYyA9IGRhdGFVcmw7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZVByZXZpZXcnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgICAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBvbmVudE5hbWUnKS52YWx1ZTsKICAgICAgICAgIGxldCBjYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wb25lbnRDYXRlZ29yeScpLnZhbHVlOwogICAgICAgICAgY29uc3QgbmV3Q2F0ZWdvcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3Q2F0ZWdvcnlOYW1lJykudmFsdWU7CiAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wb25lbnREZXNjcmlwdGlvbicpLnZhbHVlOwoKICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ25ldycpIHsKICAgICAgICAgICAgaWYgKCFuZXdDYXRlZ29yeSkgewogICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2YrYsdis2Ykg2KXYr9iu2KfZhCDYp9iz2YUg2KfZhNiq2LXZhtmK2YEg2KfZhNis2K/ZitivJyk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGVnb3J5ID0gbmV3Q2F0ZWdvcnk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFuYW1lIHx8ICFjYXRlZ29yeSkgewogICAgICAgICAgICBhbGVydCgn4pqg77iPINmK2LHYrNmJINmF2YTYoSDYrNmF2YrYuSDYp9mE2K3ZgtmI2YQg2KfZhNmF2LfZhNmI2KjYqScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFza3BGaWxlICYmICFza3BVcmwpIHsKICAgICAgICAgICAgYWxlcnQoJ+KaoO+4jyDZitix2KzZiSDYpdi22KfZgdipINmF2YTZgSBTS1Ag2KPZiCDYsdin2KjYtycpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFpbWFnZUZpbGUgJiYgIWltYWdlVXJsKSB7CiAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2YrYsdis2Ykg2KXYttin2YHYqSDYtdmI2LHYqSDYo9mIINix2KfYqNi3INi12YjYsdipJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBjb21wb25lbnREYXRhID0gewogICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiwKICAgICAgICAgICAgc2twX3R5cGU6IHNrcEZpbGUgPyAnZmlsZScgOiAndXJsJywKICAgICAgICAgICAgaW1hZ2VfdHlwZTogaW1hZ2VGaWxlID8gJ2ZpbGUnIDogJ3VybCcKICAgICAgICAgIH07CgogICAgICAgICAgaWYgKHNrcEZpbGUpIHsKICAgICAgICAgICAgY29tcG9uZW50RGF0YS5za3BfcGF0aCA9IHNrcEZpbGUucGF0aDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbXBvbmVudERhdGEuc2twX3VybCA9IHNrcFVybDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaW1hZ2VGaWxlKSB7CiAgICAgICAgICAgIGNvbXBvbmVudERhdGEuaW1hZ2VfcGF0aCA9IGltYWdlRmlsZS5wYXRoOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29tcG9uZW50RGF0YS5pbWFnZV91cmwgPSBpbWFnZVVybDsKICAgICAgICAgIH0KCiAgICAgICAgICBza2V0Y2h1cC5zdWJtaXRDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50RGF0YSkpOwogICAgICAgIH0KCiAgICAgICAgLy8g2KXYudiv2KfYryDYs9it2Kgg2YjYpdmB2YTYp9iqINin2YTZhdmE2YHYp9iqCiAgICAgICAgWydza3BVcGxvYWRTZWN0aW9uJywgJ2ltYWdlVXBsb2FkU2VjdGlvbiddLmZvckVhY2goc2VjdGlvbklkID0+IHsKICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uSWQpOwogICAgICAgICAgc2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdkcmFnb3ZlcicpOwogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgIHNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKCkgPT4gewogICAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdvdmVyJyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgc2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdvdmVyJyk7CiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM7CiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gJ3NrcFVwbG9hZFNlY3Rpb24nICYmIGZpbGVzWzBdLm5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLnNrcCcpKSB7CiAgICAgICAgICAgICAgICBza2V0Y2h1cC5oYW5kbGVEcm9wcGVkU2twRmlsZShmaWxlc1swXS5wYXRoKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb25JZCA9PT0gJ2ltYWdlVXBsb2FkU2VjdGlvbicgJiYgL1wuKGpwZ3xqcGVnfHBuZ3xnaWYpJC9pLnRlc3QoZmlsZXNbMF0ubmFtZSkpIHsKICAgICAgICAgICAgICAgIHNrZXRjaHVwLmhhbmRsZURyb3BwZWRJbWFnZUZpbGUoZmlsZXNbMF0ucGF0aCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+PC9odG1sPgogICAgSFRNTAoKICAgIGRsZy5zZXRfaHRtbChodG1sKQoKICAgICMg2KXYttin2YHYqSBjYWxsYmFja3Mg2YTZhNiq2YHYp9i52YQg2YXYuSBTa2V0Y2hVcAogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soInNlbGVjdFNrcEZpbGUiKSBkbyB8X3wKICAgICAgc2twX3BhdGggPSBVSS5vcGVucGFuZWwoItin2K7YqtixINmF2YTZgSBTS1AiLCAiIiwgIiouc2twIikKICAgICAgaWYgc2twX3BhdGgKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoInVwZGF0ZVNrcEZpbGVJbmZvKCcje0ZpbGUuYmFzZW5hbWUoc2twX3BhdGgpfScsICcje3NrcF9wYXRofScpIikKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoInNrcEZpbGUgPSB7bmFtZTogJyN7RmlsZS5iYXNlbmFtZShza3BfcGF0aCl9JywgcGF0aDogJyN7c2twX3BhdGh9J30iKQogICAgICBlbmQKICAgIGVuZAoKICAgIGRsZy5hZGRfYWN0aW9uX2NhbGxiYWNrKCJzZWxlY3RJbWFnZUZpbGUiKSBkbyB8X3wKICAgICAgaW1hZ2VfcGF0aCA9IFVJLm9wZW5wYW5lbCgi2KfYrtiq2LEg2LXZiNix2KkiLCAiIiwgIiouanBnOyouanBlZzsqLnBuZzsqLmdpZiIpCiAgICAgIGlmIGltYWdlX3BhdGgKICAgICAgICAjINiq2K3ZiNmK2YQg2KfZhNi12YjYsdipINil2YTZiSBiYXNlNjQg2YTZhNmF2LnYp9mK2YbYqQogICAgICAgIGltYWdlX2RhdGEgPSBCYXNlNjQuc3RyaWN0X2VuY29kZTY0KEZpbGUuYmlucmVhZChpbWFnZV9wYXRoKSkKICAgICAgICBkYXRhX3VybCA9ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsI3tpbWFnZV9kYXRhfSIKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoInVwZGF0ZUltYWdlRmlsZUluZm8oJyN7RmlsZS5iYXNlbmFtZShpbWFnZV9wYXRoKX0nLCAnI3tpbWFnZV9wYXRofScsICcje2RhdGFfdXJsfScpIikKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoImltYWdlRmlsZSA9IHtuYW1lOiAnI3tGaWxlLmJhc2VuYW1lKGltYWdlX3BhdGgpfScsIHBhdGg6ICcje2ltYWdlX3BhdGh9J30iKQogICAgICBlbmQKICAgIGVuZAoKICAgIGRsZy5hZGRfYWN0aW9uX2NhbGxiYWNrKCJoYW5kbGVEcm9wcGVkU2twRmlsZSIpIGRvIHxfLCBmaWxlX3BhdGh8CiAgICAgIGlmIEZpbGUuZXhpc3Q/KGZpbGVfcGF0aCkgJiYgZmlsZV9wYXRoLmRvd25jYXNlLmVuZF93aXRoPygnLnNrcCcpCiAgICAgICAgZGxnLmV4ZWN1dGVfc2NyaXB0KCJ1cGRhdGVTa3BGaWxlSW5mbygnI3tGaWxlLmJhc2VuYW1lKGZpbGVfcGF0aCl9JywgJyN7ZmlsZV9wYXRofScpIikKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoInNrcEZpbGUgPSB7bmFtZTogJyN7RmlsZS5iYXNlbmFtZShmaWxlX3BhdGgpfScsIHBhdGg6ICcje2ZpbGVfcGF0aH0nfSIpCiAgICAgIGVuZAogICAgZW5kCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImhhbmRsZURyb3BwZWRJbWFnZUZpbGUiKSBkbyB8XywgZmlsZV9wYXRofAogICAgICBpZiBGaWxlLmV4aXN0PyhmaWxlX3BhdGgpICYmIGZpbGVfcGF0aC5kb3duY2FzZS5lbmRfd2l0aD8oJy5qcGcnLCAnLmpwZWcnLCAnLnBuZycsICcuZ2lmJykKICAgICAgICBpbWFnZV9kYXRhID0gQmFzZTY0LnN0cmljdF9lbmNvZGU2NChGaWxlLmJpbnJlYWQoZmlsZV9wYXRoKSkKICAgICAgICBkYXRhX3VybCA9ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsI3tpbWFnZV9kYXRhfSIKICAgICAgICBkbGcuZXhlY3V0ZV9zY3JpcHQoInVwZGF0ZUltYWdlRmlsZUluZm8oJyN7RmlsZS5iYXNlbmFtZShmaWxlX3BhdGgpfScsICcje2ZpbGVfcGF0aH0nLCAnI3tkYXRhX3VybH0nKSIpCiAgICAgICAgZGxnLmV4ZWN1dGVfc2NyaXB0KCJpbWFnZUZpbGUgPSB7bmFtZTogJyN7RmlsZS5iYXNlbmFtZShmaWxlX3BhdGgpfScsIHBhdGg6ICcje2ZpbGVfcGF0aH0nfSIpCiAgICAgIGVuZAogICAgZW5kCgogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soInN1Ym1pdENvbXBvbmVudCIpIGRvIHxfLCBjb21wb25lbnRfanNvbnwKICAgICAgY29tcG9uZW50X2RhdGEgPSBKU09OLnBhcnNlKGNvbXBvbmVudF9qc29uLCBzeW1ib2xpemVfbmFtZXM6IHRydWUpCiAgICAgIAogICAgICBpZiBhZGRfY3VzdG9tX2NvbXBvbmVudChjb21wb25lbnRfZGF0YSkKICAgICAgICBVSS5tZXNzYWdlYm94KCLinIUg2KrZhSDYsdmB2Lkg2KfZhNmF2YPZiNmGICcje2NvbXBvbmVudF9kYXRhWzpuYW1lXX0nINio2YbYrNin2K0hXG5cbtiz2YrYuNmH2LEg2KfZhNii2YYg2YHZiiDYp9mE2YXZg9iq2KjYqSDYqtit2Kog2KrYtdmG2YrZgSAnI3tjb21wb25lbnRfZGF0YVs6Y2F0ZWdvcnldfSciKQogICAgICAgIGRsZy5jbG9zZQogICAgICAgIHNob3dfbGlicmFyeQogICAgICBlbHNlCiAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmB2LTZhCDZgdmKINix2YHYuSDYp9mE2YXZg9mI2YYuINmK2LHYrNmJINin2YTZhdit2KfZiNmE2Kkg2YXYsdipINij2K7YsdmJLiIpCiAgICAgIGVuZAogICAgZW5kCgogICAgZGxnLnNob3cKICBlbmQKCiAgIyA9PT09PT0g2K/Yp9mE2Kkg2YTYpdiv2KfYsdipINin2YTZhdmD2YjZhtin2Kog2KfZhNi02K7YtdmK2KkgPT09PT09CiAgZGVmIHNlbGYubWFuYWdlX2N1c3RvbV9jb21wb25lbnRzCiAgICAjINin2YTYqtit2YLZgiDZhdmGINin2YTYqtiz2KzZitmEINij2YjZhNin2YsKICAgIHVubGVzcyBhY3RpdmF0ZWQ/CiAgICAgIHNob3dfbG9naW5fZGlhbG9nCiAgICAgIHJldHVybgogICAgZW5kCgogICAgY3VzdG9tX2NvbXBvbmVudHMgPSBsb2FkX2N1c3RvbV9jb21wb25lbnRzCiAgICAKICAgIGlmIGN1c3RvbV9jb21wb25lbnRzLmVtcHR5PwogICAgICBVSS5tZXNzYWdlYm94KCLihLnvuI8g2YTYpyDYqtmI2KzYryDZhdmD2YjZhtin2Kog2YXYrti12LXYqSIpCiAgICAgIHJldHVybgogICAgZW5kCiAgICAKICAgIGRsZyA9IFVJOjpIdG1sRGlhbG9nLm5ldyh7CiAgICAgIDpkaWFsb2dfdGl0bGUgPT4gIvCfm6DvuI8g2KXYr9in2LHYqSDYp9mE2YXZg9mI2YbYp9iqINin2YTZhdiu2LXYtdipIiwKICAgICAgOnByZWZlcmVuY2VzX2tleSA9PiAibWhkZXNpZ25fbWFuYWdlIiwKICAgICAgOnNjcm9sbGFibGUgPT4gdHJ1ZSwKICAgICAgOnJlc2l6YWJsZSA9PiB0cnVlLAogICAgICA6d2lkdGggPT4gNzAwLAogICAgICA6aGVpZ2h0ID0+IDUwMAogICAgfSkKICAgIAogICAgaHRtbCA9IDw8LUhUTUwKICAgIDxodG1sPjxoZWFkPgogICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9VGFqYXdhbDp3Z2h0QDQwMDs3MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgogICAgICA8c3R5bGU+CiAgICAgICAgYm9keSB7CiAgICAgICAgICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBzYW5zLXNlcmlmOwogICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgcGFkZGluZzogMjVweDsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7CiAgICAgICAgICBkaXJlY3Rpb246IHJ0bDsKICAgICAgICB9CiAgICAgICAgLmhlYWRlciB7CiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4OwogICAgICAgICAgY29sb3I6ICMyZTdkMzI7CiAgICAgICAgfQogICAgICAgIC5jb21wb25lbnQtaXRlbSB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICAgIG1hcmdpbjogMTVweCAwOwogICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4wOCk7CiAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgIGdhcDogMjBweDsKICAgICAgICB9CiAgICAgICAgLmNvbXBvbmVudC1pbWFnZSB7CiAgICAgICAgICB3aWR0aDogODBweDsKICAgICAgICAgIGhlaWdodDogODBweDsKICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgIH0KICAgICAgICAuY29tcG9uZW50LWluZm8gewogICAgICAgICAgZmxleDogMTsKICAgICAgICB9CiAgICAgICAgLmNvbXBvbmVudC1uYW1lIHsKICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgfQogICAgICAgIC5jb21wb25lbnQtZGV0YWlscyB7CiAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICB9CiAgICAgICAgLmNvbXBvbmVudC1jYXRlZ29yeSB7CiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZTNmMmZkOwogICAgICAgICAgY29sb3I6ICMxOTc2ZDI7CiAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgIH0KICAgICAgICAuZGVsZXRlLWJ0biB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjQ0MzM2OwogICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICAgIGZvbnQtZmFtaWx5OiAnVGFqYXdhbCcsIHNhbnMtc2VyaWY7CiAgICAgICAgfQogICAgICAgIC5kZWxldGUtYnRuOmhvdmVyIHsKICAgICAgICAgIGJhY2tncm91bmQ6ICNkMzJmMmY7CiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7CiAgICAgICAgfQogICAgICAgIC5lbXB0eS1tc2cgewogICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgY29sb3I6ICM5OTk7CiAgICAgICAgICBwYWRkaW5nOiA2MHB4OwogICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIH0KICAgICAgICAuc3RhdHMgewogICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgfQogICAgICA8L3N0eWxlPgogICAgPC9oZWFkPgogICAgPGJvZHk+CiAgICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+CiAgICAgICAgPGgyPvCfm6DvuI8g2KXYr9in2LHYqSDYp9mE2YXZg9mI2YbYp9iqINin2YTZhdiu2LXYtdipPC9oMj4KICAgICAgPC9kaXY+CiAgICAgIAogICAgICA8ZGl2IGNsYXNzPSJzdGF0cyI+CiAgICAgICAgPGgzPvCfk4og2KXYrdi12KfYptmK2KfYqiDYp9mE2YXZg9mI2YbYp9iqINin2YTZhdiu2LXYtdipPC9oMz4KICAgICAgICA8cD7Yudiv2K8g2KfZhNmF2YPZiNmG2KfYqjogPHN0cm9uZz4je2N1c3RvbV9jb21wb25lbnRzLmxlbmd0aH08L3N0cm9uZz48L3A+CiAgICAgIDwvZGl2PgogICAgICAKICAgICAgPGRpdiBpZD0iY29tcG9uZW50cy1saXN0Ij4KICAgIEhUTUwKICAgIAogICAgY3VzdG9tX2NvbXBvbmVudHMuZWFjaCBkbyB8Y29tcHwKICAgICAgaHRtbCArPSA8PC1IVE1MCiAgICAgICAgPGRpdiBjbGFzcz0iY29tcG9uZW50LWl0ZW0iPgogICAgICAgICAgPGltZyBjbGFzcz0iY29tcG9uZW50LWltYWdlIiBzcmM9IiN7Y29tcFs6aW1hZ2VdfSIgb25lcnJvcj0idGhpcy5zcmM9J2h0dHBzOi8vbWFobW91ZGRlc2lnbi5jb20vU0tFVENIVVAvY29tcG9uZW50cy9kZWZhdWx0X3RodW1iLnBuZyciPgogICAgICAgICAgPGRpdiBjbGFzcz0iY29tcG9uZW50LWluZm8iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb21wb25lbnQtbmFtZSI+I3tjb21wWzpuYW1lXX08L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29tcG9uZW50LWRldGFpbHMiPiN7Y29tcFs6ZGVzY119PC9kaXY+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjb21wb25lbnQtY2F0ZWdvcnkiPiN7Y29tcFs6Y2F0ZWdvcnldfTwvc3Bhbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZGVsZXRlLWJ0biIgb25jbGljaz0iZGVsZXRlQ29tcG9uZW50KCcje2NvbXBbOm5hbWVdfScpIj7wn5eR77iPINit2LDZgTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICBIVE1MCiAgICBlbmQKICAgIAogICAgaHRtbCArPSA8PC1IVE1MCiAgICAgIDwvZGl2PgogICAgICA8c2NyaXB0PgogICAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNvbXBvbmVudChuYW1lKSB7CiAgICAgICAgICBpZiAoY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDYp9mE2YXZg9mI2YY6ICcgKyBuYW1lICsgJ9ifJykpIHsKICAgICAgICAgICAgc2tldGNodXAuZGVsZXRlQ3VzdG9tQ29tcG9uZW50KG5hbWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+PC9odG1sPgogICAgSFRNTAogICAgCiAgICBkbGcuc2V0X2h0bWwoaHRtbCkKICAgIAogICAgZGxnLmFkZF9hY3Rpb25fY2FsbGJhY2soImRlbGV0ZUN1c3RvbUNvbXBvbmVudCIpIGRvIHxfLCBjb21wX25hbWV8CiAgICAgIGlmIGRlbGV0ZV9jdXN0b21fY29tcG9uZW50KGNvbXBfbmFtZSkKICAgICAgICBVSS5tZXNzYWdlYm94KCLinIUg2KrZhSDYrdiw2YEg2KfZhNmF2YPZiNmGICcje2NvbXBfbmFtZX0nINio2YbYrNin2K0iKQogICAgICAgIGRsZy5jbG9zZQogICAgICAgIG1hbmFnZV9jdXN0b21fY29tcG9uZW50cwogICAgICBlbHNlCiAgICAgICAgVUkubWVzc2FnZWJveCgi4p2MINmB2LTZhCDZgdmKINit2LDZgSDYp9mE2YXZg9mI2YYiKQogICAgICBlbmQKICAgIGVuZAogICAgCiAgICBkbGcuc2hvdwogIGVuZAoKICAjID09PT09PSDYqtiz2KzZitmEINin2YTYo9mI2KfZhdixINmB2Yog2KfZhNmC2YjYp9im2YUgPT09PT09CiAgdW5sZXNzIGZpbGVfbG9hZGVkPyhfX0ZJTEVfXykKICAgIFVJLm1lbnUoIlBsdWdpbnMiKS5hZGRfaXRlbSgi8J+PoCDZhdmD2KrYqNipIE1IREVTSUdOIikgeyBzaG93X2xpYnJhcnkgfQogICAgCiAgICB0b29sYmFyID0gVUk6OlRvb2xiYXIubmV3KCJNSERFU0lHTiIpCiAgICAKICAgICMg2KPZhdixINin2YTZhdmD2KrYqNipINin2YTYsdim2YrYs9mKCiAgICBjbWRfbGlicmFyeSA9IFVJOjpDb21tYW5kLm5ldygi2YHYqtitINin2YTZhdmD2KrYqNipIikgeyBzaG93X2xpYnJhcnkgfQogICAgY21kX2xpYnJhcnkudG9vbHRpcCA9ICLZgdiq2K0g2YXZg9iq2KjYqSBNSERFU0lHTiIKICAgIHRvb2xiYXIuYWRkX2l0ZW0oY21kX2xpYnJhcnkpCgogICAgdG9vbGJhci5zaG93CiAgICBmaWxlX2xvYWRlZChfX0ZJTEVfXykKICBlbmQKCmVuZA=="  //     base64
}
